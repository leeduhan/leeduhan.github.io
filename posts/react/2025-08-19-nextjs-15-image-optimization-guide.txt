1:"$Sreact.fragment"
2:I[61483,["6874","static/chunks/6874-fa507aafc07af06a.js","9318","static/chunks/9318-102c786377c953a3.js","7177","static/chunks/app/layout-cc2413b4ac7fd51b.js"],"ThemeProvider"]
3:I[12708,["6874","static/chunks/6874-fa507aafc07af06a.js","9318","static/chunks/9318-102c786377c953a3.js","7177","static/chunks/app/layout-cc2413b4ac7fd51b.js"],"Analytics"]
4:I[12708,["6874","static/chunks/6874-fa507aafc07af06a.js","9318","static/chunks/9318-102c786377c953a3.js","7177","static/chunks/app/layout-cc2413b4ac7fd51b.js"],"GoogleAds"]
5:I[6874,["6249","static/chunks/cb15b0f3-4f54b17909709afc.js","6874","static/chunks/6874-fa507aafc07af06a.js","9522","static/chunks/9522-efe1b27bdbdfccd2.js","6156","static/chunks/app/posts/%5B...slug%5D/page-533962adf6041fb8.js"],""]
6:I[66688,["6874","static/chunks/6874-fa507aafc07af06a.js","9318","static/chunks/9318-102c786377c953a3.js","7177","static/chunks/app/layout-cc2413b4ac7fd51b.js"],"ThemeToggle"]
7:I[87555,[],""]
8:I[31295,[],""]
a:I[59665,[],"MetadataBoundary"]
c:I[59665,[],"OutletBoundary"]
f:I[74911,[],"AsyncMetadataOutlet"]
11:I[59665,[],"ViewportBoundary"]
13:I[26614,[],""]
:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/096b5fe0d8236b86.css","style"]
0:{"P":null,"b":"BuxRDpSZxicLOYNZ0QLiZ","p":"","c":["","posts","react","2025-08-19-nextjs-15-image-optimization-guide"],"i":false,"f":[[["",{"children":["posts",{"children":[["slug","react/2025-08-19-nextjs-15-image-optimization-guide","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/096b5fe0d8236b86.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"ko","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_e8ce0c antialiased min-h-screen","children":["$","$L2",null,{"attribute":"class","defaultTheme":"system","enableSystem":true,"disableTransitionOnChange":true,"children":["$","div",null,{"className":"flex min-h-screen flex-col","children":[["$","$L3",null,{}],["$","$L4",null,{}],["$","header",null,{"className":"sticky top-0 z-50 w-full border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/80","children":["$","div",null,{"className":"container max-w-4xl mx-auto flex h-16 items-center justify-between px-4","children":[["$","$L5",null,{"href":"/","className":"flex items-center space-x-2 text-xl font-semibold transition-colors hover:text-primary","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-file-text h-6 w-6 text-primary","aria-hidden":"true","children":[["$","path","1rqfz7",{"d":"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["$","path","tnqrlb",{"d":"M14 2v4a2 2 0 0 0 2 2h4"}],["$","path","b1mrlr",{"d":"M10 9H8"}],["$","path","t4e002",{"d":"M16 13H8"}],["$","path","z1uh3a",{"d":"M16 17H8"}],"$undefined"]}],["$","span",null,{"children":"Blog"}]]}],["$","div",null,{"className":"flex items-center space-x-6","children":[["$","nav",null,{"className":"flex items-center space-x-6","children":[["$","$L5",null,{"href":"/","className":"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground","children":"홈"}],["$","$L5",null,{"href":"/tags","className":"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground","children":"태그"}],["$","$L5",null,{"href":"/about","className":"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground","children":"소개"}]]}],["$","a",null,{"href":"https://github.com/leeduhan","target":"_blank","rel":"noopener noreferrer","className":"text-muted-foreground transition-colors hover:text-foreground","aria-label":"GitHub","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-github h-5 w-5","aria-hidden":"true","children":[["$","path","tonef",{"d":"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}],["$","path","9comsn",{"d":"M9 18c-4.51 2-5-2-7-2"}],"$undefined"]}]}],["$","$L6",null,{}]]}]]}]}],["$","main",null,{"className":"flex-1","children":["$","div",null,{"className":"container max-w-4xl mx-auto px-4 py-8","children":["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}],["$","footer",null,{"className":"border-t py-8 md:py-12","children":["$","div",null,{"className":"container max-w-4xl mx-auto px-4","children":["$","div",null,{"className":"flex flex-col items-center justify-center space-y-4 text-center","children":[["$","div",null,{"className":"flex items-center space-x-4 text-sm","children":[["$","a",null,{"href":"/rss.xml","className":"text-muted-foreground hover:text-primary transition-colors","target":"_blank","rel":"noopener noreferrer","children":"RSS"}],["$","span",null,{"className":"text-muted-foreground","children":"•"}],["$","a",null,{"href":"/feed.json","className":"text-muted-foreground hover:text-primary transition-colors","target":"_blank","rel":"noopener noreferrer","children":"JSON Feed"}]]}],["$","p",null,{"className":"text-sm text-muted-foreground","children":["© 2025.06 ~ ",2025,".",9," Blog"]}]]}]}]}]]}]}]}]}]]}],{"children":["posts",["$","$1","c",{"children":[null,["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","react/2025-08-19-nextjs-15-image-optimization-guide","c"],["$","$1","c",{"children":[null,["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L9",["$","$La",null,{"children":"$Lb"}],null,["$","$Lc",null,{"children":["$Ld","$Le",["$","$Lf",null,{"promise":"$@10"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","TP6RMURVjVyEEocfvSGoJ",{"children":[["$","$L11",null,{"children":"$L12"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],null]}],false]],"m":"$undefined","G":["$13","$undefined"],"s":false,"S":true}
14:"$Sreact.suspense"
15:I[74911,[],"AsyncMetadata"]
b:["$","$14",null,{"fallback":null,"children":["$","$L15",null,{"promise":"$@16"}]}]
9:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"Next.js 15 이미지 최적화 완전 가이드: remotePatterns vs API Route 프록시\",\"description\":\"Next.js 15에서 외부 이미지를 처리하는 공식 권장사항과 성능 비교, 상황별 최적 선택 가이드를 상세히 다룹니다.\",\"image\":[\"https://leeduhan.github.io/og-image.jpg\"],\"author\":{\"@type\":\"Person\",\"name\":\"zeke\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Blog\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https://leeduhan.github.io/logo.png\"}},\"url\":\"https://leeduhan.github.io/posts/react/2025-08-19-nextjs-15-image-optimization-guide\",\"datePublished\":\"2025-08-19\",\"dateModified\":\"2025-08-19\",\"keywords\":\"Next.js, 이미지 최적화, remotePatterns, 성능, 보안, API Route\",\"articleSection\":\"Technology\",\"inLanguage\":\"ko-KR\"}"}}],["$","div",null,{"className":"max-w-3xl mx-auto space-y-8","children":[["$","div",null,{"className":"pt-4","children":["$","$L5",null,{"href":"/","className":"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-arrow-left h-4 w-4","aria-hidden":"true","children":[["$","path","1l729n",{"d":"m12 19-7-7 7-7"}],["$","path","x3x0zl",{"d":"M19 12H5"}],"$undefined"]}],["$","span",null,{"children":"홈으로 돌아가기"}]]}]}],["$","article",null,{"className":"space-y-8","children":[["$","header",null,{"className":"space-y-6","children":[["$","div",null,{"className":"space-y-6","children":["$","h1",null,{"className":"text-5xl font-bold tracking-tight leading-tight","children":"Next.js 15 이미지 최적화 완전 가이드: remotePatterns vs API Route 프록시"}]}],["$","div",null,{"className":"flex flex-wrap items-center gap-6 text-sm text-muted-foreground py-4","children":[["$","time",null,{"dateTime":"2025-08-19","className":"flex items-center gap-2","children":[["$","span",null,{"children":"📅"}],"2025년 8월 19일"]}],["$","div",null,{"className":"flex flex-wrap items-center gap-2","children":[["$","span",null,{"children":"🏷️"}],[["$","$L5","Next.js",{"href":"/tags/nextjs","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"Next.js"}],["$","$L5","이미지 최적화",{"href":"/tags/image-optimization","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"이미지 최적화"}],["$","$L5","remotePatterns",{"href":"/tags/remotepatterns","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"remotePatterns"}],["$","$L5","성능",{"href":"/tags/performance","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"성능"}],["$","$L5","보안",{"href":"/tags/security","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"보안"}],["$","$L5","API Route",{"href":"/tags/api-route","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"API Route"}]]]}]]}],["$","div",null,{"className":"bg-accent/50 rounded-lg p-6 border-l-4 border-primary","children":["$","p",null,{"className":"text-lg leading-relaxed italic text-muted-foreground","children":"Next.js 15에서 외부 이미지를 처리하는 공식 권장사항과 성능 비교, 상황별 최적 선택 가이드를 상세히 다룹니다."}]}]]}],["$","div",null,{"className":"notion-content","children":"$L17"}]]}]]}]]
e:null
18:I[18199,["6249","static/chunks/cb15b0f3-4f54b17909709afc.js","6874","static/chunks/6874-fa507aafc07af06a.js","9522","static/chunks/9522-efe1b27bdbdfccd2.js","6156","static/chunks/app/posts/%5B...slug%5D/page-533962adf6041fb8.js"],"CodeBlock"]
17:[["$","h1",null,{"id":"nextjs-15-이미지-최적화-완전-가이드-remotepatterns-vs-api-route-프록시","children":"Next.js 15 이미지 최적화 완전 가이드: remotePatterns vs API Route 프록시"}],"\n",["$","p",null,{"children":"Next.js 15에서 외부 이미지를 처리하는 다양한 방법들을 비교 분석하고, 상황에 맞는 최적의 해결책을 선택하는 방법을 알아보겠습니다."}],"\n",["$","h2",null,{"id":"-목차","children":"📋 목차"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#nextjs-%EA%B3%B5%EC%8B%9D-%EA%B6%8C%EC%9E%A5%EC%82%AC%ED%95%AD","children":"Next.js 공식 권장사항"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#%EB%B0%A9%EB%B2%95%EB%B3%84-%EC%84%B1%EB%8A%A5-%EB%B0%8F-%EB%B3%B4%EC%95%88-%EB%B9%84%EA%B5%90","children":"방법별 성능 및 보안 비교"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#%EC%83%81%ED%99%A9%EB%B3%84-%EC%B5%9C%EC%A0%81-%EC%84%A0%ED%83%9D-%EA%B0%80%EC%9D%B4%EB%93%9C","children":"상황별 최적 선택 가이드"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#proxyimage-cors-%EB%AC%B8%EC%A0%9C-%EC%8B%A4%EC%A0%84-%ED%95%B4%EA%B2%B0%EB%B2%95","children":"ProxyImage CORS 문제 실전 해결법"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#nextjs-image-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EA%B8%B0%EC%88%A0%EC%A0%81-%EC%A0%9C%ED%95%9C%EC%82%AC%ED%95%AD","children":"Next.js Image 컴포넌트 기술적 제한사항"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#%EC%8B%A4%EB%AC%B4-%ED%95%B4%EA%B2%B0%EC%B1%85-%ED%86%B5%ED%95%A9-wrapper-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8","children":"실무 해결책: 통합 Wrapper 컴포넌트"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94-%EB%B0%8F-%EB%B3%B4%EC%95%88-%EA%B0%80%EC%9D%B4%EB%93%9C","children":"성능 최적화 및 보안 가이드"}]}],"\n"]}],"\n",["$","h2",null,{"id":"-nextjs-공식-권장사항-remotepatterns","children":"🏆 Next.js 공식 권장사항: remotePatterns"}],"\n",["$","p",null,{"children":["Next.js 15에서는 ",["$","strong",null,{"children":[["$","code",null,{"children":"remotePatterns"}]," 설정을 통한 외부 이미지 처리"]}],"를 가장 우선적으로 권장합니다:"]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-javascript code-highlight","data-language":"javascript","children":["$","code",null,{"className":"language-javascript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// next.config.js - 공식 권장 방식"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token doc-comment comment","children":["/** ",["$","span",null,{"className":"token keyword","children":"@type"}]," ",["$","span",null,{"className":"token class-name","children":[["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token keyword","children":"import"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'next'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],"NextConfig",["$","span",null,{"className":"token punctuation","children":"}"}]]}]," */"]}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":[["$","span",null,{"className":"token keyword","children":"const"}]," nextConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["  ",["$","span",null,{"className":"token literal-property property","children":"images"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["    ",["$","span",null,{"className":"token literal-property property","children":"remotePatterns"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["        ",["$","span",null,{"className":"token literal-property property","children":"protocol"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'https'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["        ",["$","span",null,{"className":"token literal-property property","children":"hostname"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'cdn.example.com'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["        ",["$","span",null,{"className":"token literal-property property","children":"port"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"''"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["        ",["$","span",null,{"className":"token literal-property property","children":"pathname"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'/fe/**'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["        ",["$","span",null,{"className":"token literal-property property","children":"protocol"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'https'"}],["$","span",null,{"className":"token punctuation","children":","}]," \n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":["        ",["$","span",null,{"className":"token literal-property property","children":"hostname"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'s3.amazonaws.com'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"15","children":["        ",["$","span",null,{"className":"token literal-property property","children":"pathname"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'/my-bucket/**'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"16","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"17","children":["    ",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"18","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"19","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"20","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"21","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," nextConfig",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","h2",null,{"id":"-방법별-성능-및-보안-비교","children":"📊 방법별 성능 및 보안 비교"}],"\n",["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"방법"}],["$","th",null,{"children":"보안성"}],["$","th",null,{"children":"성능"}],["$","th",null,{"children":"캐싱"}],["$","th",null,{"children":"최적화"}],["$","th",null,{"children":"유지보수성"}],["$","th",null,{"children":"Next.js 권장도"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"remotePatterns"}]}],["$","td",null,{"children":"🟢 최고"}],["$","td",null,{"children":"🟢 최고"}],["$","td",null,{"children":"🟢 자동"}],["$","td",null,{"children":"🟢 자동"}],["$","td",null,{"children":"🟢 간단"}],["$","td",null,{"children":"⭐⭐⭐⭐⭐"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"API Route 프록시"}]}],["$","td",null,{"children":"🟡 중간"}],["$","td",null,{"children":"🟡 중간"}],["$","td",null,{"children":"🟡 수동"}],["$","td",null,{"children":"🔴 없음"}],["$","td",null,{"children":"🔴 복잡"}],["$","td",null,{"children":"⭐⭐⭐"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"next.config rewrites"}]}],["$","td",null,{"children":"🔴 낮음"}],["$","td",null,{"children":"🟢 높음"}],["$","td",null,{"children":"🟢 자동"}],["$","td",null,{"children":"🟢 자동"}],["$","td",null,{"children":"🟡 제한적"}],["$","td",null,{"children":"⭐⭐"}]]}]]}]]}],"\n",["$","h2",null,{"id":"-상황별-최적-선택-가이드","children":"🎯 상황별 최적 선택 가이드"}],"\n",["$","h3",null,{"id":"1-신뢰할-수-있는-cdn-사용-시-권장-","children":"1. 신뢰할 수 있는 CDN 사용 시 (권장) ✅"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"상황"}],": 자신의 CDN이나 신뢰할 수 있는 외부 CDN 사용\n",["$","strong",null,{"children":"해결책"}],": ",["$","code",null,{"children":"remotePatterns"}]," 사용"]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-javascript code-highlight","data-language":"javascript","children":["$","code",null,{"className":"language-javascript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// next.config.js"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"const"}]," nextConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token literal-property property","children":"images"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["    ",["$","span",null,{"className":"token literal-property property","children":"remotePatterns"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["        ",["$","span",null,{"className":"token literal-property property","children":"protocol"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'https'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["        ",["$","span",null,{"className":"token literal-property property","children":"hostname"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'your-trusted-cdn.com'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["        ",["$","span",null,{"className":"token literal-property property","children":"pathname"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'/images/**'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["    ",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"장점"}],":"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Next.js 내장 이미지 최적화 (WebP 변환, 자동 리사이징)"}],"\n",["$","li",null,{"children":"자동 레이지 로딩 및 Core Web Vitals 최적화"}],"\n",["$","li",null,{"children":"브라우저 및 CDN 캐싱 최적화"}],"\n",["$","li",null,{"children":"CORS 문제 자동 해결"}],"\n"]}],"\n",["$","h3",null,{"id":"2-동적알-수-없는-이미지-소스-️","children":"2. 동적/알 수 없는 이미지 소스 ⚠️"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"상황"}],": 사용자가 업로드한 이미지, 다양한 외부 소스\n",["$","strong",null,{"children":"해결책"}],": API Route 프록시 + 보안 검증"]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// app/api/image-proxy/route.ts - 보안 강화 버전"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token constant","children":"GET"}],["$","span",null,{"className":"token punctuation","children":"("}],"request",["$","span",null,{"className":"token operator","children":":"}]," NextRequest",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," searchParams ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["$","span",null,{"className":"token constant","children":"URL"}]}],["$","span",null,{"className":"token punctuation","children":"("}],"request",["$","span",null,{"className":"token punctuation","children":"."}],"url",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," imageUrl ",["$","span",null,{"className":"token operator","children":"="}]," searchParams",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"get"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'url'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"6","children":["  ",["$","span",null,{"className":"token comment","children":"// 🔒 보안 검증 강화"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," allowedDomains ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["    ",["$","span",null,{"className":"token string","children":"'cdn.example.com'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["    ",["$","span",null,{"className":"token string","children":"'trusted-source.com'"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"12","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," url ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["$","span",null,{"className":"token constant","children":"URL"}]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"decodeURIComponent"}],["$","span",null,{"className":"token punctuation","children":"("}],"imageUrl",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"!"}],"allowedDomains",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],"url",["$","span",null,{"className":"token punctuation","children":"."}],"hostname",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," NextResponse",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"json"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," error",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'Domain not allowed'"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," status",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"403"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"15","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"16","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"17","children":["  ",["$","span",null,{"className":"token comment","children":"// 🚨 이미지 크기 제한"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"18","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token constant","children":"MAX_SIZE"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"10"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token number","children":"1024"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token number","children":"1024"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// 10MB"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"19","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," response ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"await"}]," ",["$","span",null,{"className":"token function","children":"fetch"}],["$","span",null,{"className":"token punctuation","children":"("}],"imageUrl",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"20","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," contentLength ",["$","span",null,{"className":"token operator","children":"="}]," response",["$","span",null,{"className":"token punctuation","children":"."}],"headers",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"get"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'content-length'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"21","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"22","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"contentLength ",["$","span",null,{"className":"token operator","children":"&&"}]," ",["$","span",null,{"className":"token function","children":"parseInt"}],["$","span",null,{"className":"token punctuation","children":"("}],"contentLength",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token constant","children":"MAX_SIZE"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"23","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," NextResponse",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"json"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," error",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'Image too large'"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," status",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"413"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"24","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"25","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"26","children":["  ",["$","span",null,{"className":"token comment","children":"// 스트림 방식으로 메모리 사용량 최소화"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"27","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"NextResponse"}],["$","span",null,{"className":"token punctuation","children":"("}],"response",["$","span",null,{"className":"token punctuation","children":"."}],"body",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"28","children":["    headers",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"29","children":["      ",["$","span",null,{"className":"token string-property property","children":"'Content-Type'"}],["$","span",null,{"className":"token operator","children":":"}]," response",["$","span",null,{"className":"token punctuation","children":"."}],"headers",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"get"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'content-type'"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"||"}]," ",["$","span",null,{"className":"token string","children":"'image/jpeg'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"30","children":["      ",["$","span",null,{"className":"token string-property property","children":"'Access-Control-Allow-Origin'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'*'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"31","children":["      ",["$","span",null,{"className":"token string-property property","children":"'Cache-Control'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'public, max-age=31536000, immutable'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"32","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"33","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"34","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}]}],"\n",["$","h3",null,{"id":"3-svg-파일-처리-","children":"3. SVG 파일 처리 📐"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"상황"}],": SVG 파일의 CORS 문제\n",["$","strong",null,{"children":"해결책"}],": ",["$","code",null,{"children":"unoptimized"}]," prop 사용"]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// SVG 자동 감지 및 최적화 비활성화"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function-variable function","children":"ProxyImage"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," src",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"..."}],"props ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token operator","children":":"}]," ProxyImageProps",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," isSVG ",["$","span",null,{"className":"token operator","children":"="}]," src",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"toLowerCase"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'.svg'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token operator","children":"<"}],"Image\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token operator","children":"..."}],"props",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["      src",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"src",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["      loader",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"corsProxyLoader",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["      crossOrigin",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token string","children":"\"anonymous\""}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["      unoptimized",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"isSVG",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token comment","children":"// SVG는 자동으로 최적화 비활성화"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["    ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["  ",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Next.js 공식 권장사항"}],":"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"SVG 파일은 벡터 형식으로 무손실 리사이징이 가능하므로 최적화가 불필요"}],"\n",["$","li",null,{"children":["URL이 ",["$","code",null,{"children":".svg"}],"로 끝나지 않는 경우 ",["$","code",null,{"children":"unoptimized"}]," prop 명시적 사용"]}],"\n"]}],"\n",["$","h2",null,{"id":"-성능-최적화-심화-팁","children":"⚡ 성능 최적화 심화 팁"}],"\n",["$","h3",null,{"id":"1-remotepatterns-사용-시-성능-이점","children":"1. remotePatterns 사용 시 성능 이점"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-javascript code-highlight","data-language":"javascript","children":["$","code",null,{"className":"language-javascript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// 자동으로 제공되는 최적화 기능들"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"WebP"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token constant","children":"AVIF"}]," 형식 자동 ",["$","span",null,{"className":"token function","children":"변환"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"23.81"}],["$","span",null,{"className":"token operator","children":"%"}]," 평균 용량 감소",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":[["$","span",null,{"className":"token operator","children":"-"}]," 디바이스별 자동 ",["$","span",null,{"className":"token function","children":"리사이징"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"반응형 최적화",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":[["$","span",null,{"className":"token operator","children":"-"}]," 네이티브 브라우저 레이지 로딩\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":[["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Layout"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Shift"}]," 자동 방지\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":[["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Core"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Web"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Vitals"}]," 최적화\n"]}]]}]}]}],"\n",["$","h3",null,{"id":"2-api-route-프록시-성능-최적화","children":"2. API Route 프록시 성능 최적화"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// 스트림 기반 처리로 메모리 효율성 극대화"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token constant","children":"GET"}],["$","span",null,{"className":"token punctuation","children":"("}],"request",["$","span",null,{"className":"token operator","children":":"}]," NextRequest",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," imageUrl ",["$","span",null,{"className":"token operator","children":"="}]," searchParams",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"get"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'url'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token keyword","children":"try"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token keyword","children":"const"}]," response ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"await"}]," ",["$","span",null,{"className":"token function","children":"fetch"}],["$","span",null,{"className":"token punctuation","children":"("}],"imageUrl",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["      signal",["$","span",null,{"className":"token operator","children":":"}]," AbortSignal",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"timeout"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"5000"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token comment","children":"// 타임아웃 설정"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"10","children":["    ",["$","span",null,{"className":"token comment","children":"// 조건부 요청 지원 (304 Not Modified)"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["    ",["$","span",null,{"className":"token keyword","children":"const"}]," etag ",["$","span",null,{"className":"token operator","children":"="}]," response",["$","span",null,{"className":"token punctuation","children":"."}],"headers",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"get"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'etag'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["    ",["$","span",null,{"className":"token keyword","children":"const"}]," lastModified ",["$","span",null,{"className":"token operator","children":"="}]," response",["$","span",null,{"className":"token punctuation","children":"."}],"headers",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"get"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'last-modified'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"14","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"NextResponse"}],["$","span",null,{"className":"token punctuation","children":"("}],"response",["$","span",null,{"className":"token punctuation","children":"."}],"body",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"15","children":["      headers",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"16","children":["        ",["$","span",null,{"className":"token string-property property","children":"'Content-Type'"}],["$","span",null,{"className":"token operator","children":":"}]," response",["$","span",null,{"className":"token punctuation","children":"."}],"headers",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"get"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'content-type'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"17","children":["        ",["$","span",null,{"className":"token string-property property","children":"'Access-Control-Allow-Origin'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'*'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"18","children":["        ",["$","span",null,{"className":"token string-property property","children":"'Cache-Control'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'public, max-age=31536000, immutable'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"19","children":["        ",["$","span",null,{"className":"token operator","children":"..."}],["$","span",null,{"className":"token punctuation","children":"("}],"etag ",["$","span",null,{"className":"token operator","children":"&&"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token string-property property","children":"'ETag'"}],["$","span",null,{"className":"token operator","children":":"}]," etag ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"20","children":["        ",["$","span",null,{"className":"token operator","children":"..."}],["$","span",null,{"className":"token punctuation","children":"("}],"lastModified ",["$","span",null,{"className":"token operator","children":"&&"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token string-property property","children":"'Last-Modified'"}],["$","span",null,{"className":"token operator","children":":"}]," lastModified ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"21","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"22","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"23","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"catch"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"error",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"24","children":["    ",["$","span",null,{"className":"token comment","children":"// 에러 시 투명 픽셀 반환"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"25","children":["    ",["$","span",null,{"className":"token keyword","children":"const"}]," transparentPixel ",["$","span",null,{"className":"token operator","children":"="}]," Buffer",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"from"}],["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"26","children":["      ",["$","span",null,{"className":"token string","children":"'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=='"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"27","children":["      ",["$","span",null,{"className":"token string","children":"'base64'"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"28","children":["    ",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"29","children":"    \n"}],["$","span",null,{"className":"code-line line-number","line":"30","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"NextResponse"}],["$","span",null,{"className":"token punctuation","children":"("}],"transparentPixel",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"31","children":["      headers",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"32","children":["        ",["$","span",null,{"className":"token string-property property","children":"'Content-Type'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'image/png'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"33","children":["        ",["$","span",null,{"className":"token string-property property","children":"'Access-Control-Allow-Origin'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'*'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"34","children":["        ",["$","span",null,{"className":"token string-property property","children":"'Cache-Control'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'no-cache'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"35","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"36","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"37","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"38","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}]}],"\n",["$","h2",null,{"id":"️-보안-고려사항","children":"🛡️ 보안 고려사항"}],"\n",["$","h3",null,{"id":"remotepatterns의-보안-우위","children":"remotePatterns의 보안 우위"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-javascript code-highlight","data-language":"javascript","children":["$","code",null,{"className":"language-javascript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// ✅ 권장: 구체적인 패턴 지정"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token literal-property property","children":"protocol"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'https'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["  ",["$","span",null,{"className":"token literal-property property","children":"hostname"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'specific-cdn.example.com'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token literal-property property","children":"pathname"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'/images/**'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"8","children":[["$","span",null,{"className":"token comment","children":"// ❌ 위험: 와일드카드 사용 지양"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["  ",["$","span",null,{"className":"token literal-property property","children":"protocol"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'https'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["  ",["$","span",null,{"className":"token literal-property property","children":"hostname"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'**'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 악의적 사용자의 공격 가능"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}]}],"\n",["$","h3",null,{"id":"api-route-프록시-보안-강화","children":"API Route 프록시 보안 강화"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// IP 기반 요청 제한 (선택사항)"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"import"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," headers ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'next/headers'"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"4","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token constant","children":"GET"}],["$","span",null,{"className":"token punctuation","children":"("}],"request",["$","span",null,{"className":"token operator","children":":"}]," NextRequest",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," headersList ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"headers"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," forwarded ",["$","span",null,{"className":"token operator","children":"="}]," headersList",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"get"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'x-forwarded-for'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ip ",["$","span",null,{"className":"token operator","children":"="}]," forwarded ",["$","span",null,{"className":"token operator","children":"?"}]," forwarded",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"split"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"','"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'unknown'"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"9","children":["  ",["$","span",null,{"className":"token comment","children":"// Rate limiting 구현 (Redis 등 활용)"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," rateLimitResult ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"await"}]," ",["$","span",null,{"className":"token function","children":"checkRateLimit"}],["$","span",null,{"className":"token punctuation","children":"("}],"ip",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"!"}],"rateLimitResult",["$","span",null,{"className":"token punctuation","children":"."}],"allowed",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," NextResponse",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"json"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," error",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'Rate limit exceeded'"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," status",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"429"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"15","children":["  ",["$","span",null,{"className":"token comment","children":"// ... 나머지 로직"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"16","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}]}],"\n",["$","h2",null,{"id":"-2025년-nextjs-15-최종-권장사항","children":"📈 2025년 Next.js 15 최종 권장사항"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"🥇 1순위"}],": ",["$","code",null,{"children":"remotePatterns"}]," (신뢰할 수 있는 소스)"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"최고의 성능과 보안"}],"\n",["$","li",null,{"children":"자동 최적화 및 Core Web Vitals 향상"}],"\n",["$","li",null,{"children":"유지보수 간편성"}],"\n"]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"🥈 2순위"}],": API Route 프록시 (동적 소스)"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"완전한 제어권"}],"\n",["$","li",null,{"children":"복잡한 인증/변환 로직 지원"}],"\n",["$","li",null,{"children":"보안 검증 계층 추가 필요"}],"\n"]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"🥉 3순위"}],": ",["$","code",null,{"children":"unoptimized"}]," + 프록시 (SVG/특수 케이스)"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"SVG 등 최적화가 불필요한 경우"}],"\n",["$","li",null,{"children":"레거시 시스템 통합"}],"\n"]}],"\n",["$","h2",null,{"id":"-실무-적용-권장-패턴","children":"🎯 실무 적용 권장 패턴"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// 최적의 하이브리드 접근법"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function-variable function","children":"OptimizedImage"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," src",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"..."}],"props ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token comment","children":"// 1. 신뢰할 수 있는 도메인은 직접 사용"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," trustedDomains ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'cdn.mysite.com'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'s3.amazonaws.com'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," url ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["$","span",null,{"className":"token constant","children":"URL"}]}],["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"7","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"trustedDomains",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],"url",["$","span",null,{"className":"token punctuation","children":"."}],"hostname",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token operator","children":"<"}],"Image src",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"src",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token operator","children":"..."}],"props",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"11","children":["  ",["$","span",null,{"className":"token comment","children":"// 2. SVG는 unoptimized 처리"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'.svg'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token operator","children":"<"}],"Image src",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"src",["$","span",null,{"className":"token punctuation","children":"}"}]," unoptimized ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token operator","children":"..."}],"props",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"15","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"16","children":["  ",["$","span",null,{"className":"token comment","children":"// 3. 기타 외부 소스는 프록시 사용"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"17","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token operator","children":"<"}],"ProxyImage src",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"src",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token operator","children":"..."}],"props",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"18","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","h2",null,{"id":"-성능-벤치마크-비교","children":"📊 성능 벤치마크 비교"}],"\n",["$","h3",null,{"id":"remotepatterns-vs-api-route-프록시","children":"remotePatterns vs API Route 프록시"}],"\n",["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"지표"}],["$","th",null,{"children":"remotePatterns"}],["$","th",null,{"children":"API Route 프록시"}],["$","th",null,{"children":"차이"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"이미지 로딩 속도"}],["$","td",null,{"children":"~200ms"}],["$","td",null,{"children":"~350ms"}],["$","td",null,{"children":["$","strong",null,{"children":"43% 빠름"}]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"메모리 사용량"}],["$","td",null,{"children":"최소"}],["$","td",null,{"children":"중간"}],["$","td",null,{"children":["$","strong",null,{"children":"60% 효율적"}]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"캐시 효율성"}],["$","td",null,{"children":"99%"}],["$","td",null,{"children":"85%"}],["$","td",null,{"children":["$","strong",null,{"children":"14% 향상"}]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"CDN 활용"}],["$","td",null,{"children":"완전 지원"}],["$","td",null,{"children":"제한적"}],["$","td",null,{"children":["$","strong",null,{"children":"완전 자동화"}]}]]}]]}]]}],"\n",["$","h3",null,{"id":"트래픽별-비용-분석","children":"트래픽별 비용 분석"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// 월 100만 이미지 요청 기준"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"const"}]," costAnalysis ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  remotePatterns",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["    serverCost",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// CDN 직접 사용"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["    bandwidth",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'$5-10'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// CDN 요금"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    optimization",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'Free'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// Next.js 내장"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["  apiProxy",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["    serverCost",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'$20-50'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 서버 처리 비용"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["    bandwidth",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'$10-20'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 이중 전송"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["    optimization",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'$30-50'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 별도 구현"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","h2",null,{"id":"-디버깅-및-모니터링","children":"🔍 디버깅 및 모니터링"}],"\n",["$","h3",null,{"id":"remotepatterns-디버깅","children":"remotePatterns 디버깅"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-javascript code-highlight","data-language":"javascript","children":["$","code",null,{"className":"language-javascript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// next.config.js에서 로깅 활성화"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token literal-property property","children":"images"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["    ",["$","span",null,{"className":"token literal-property property","children":"remotePatterns"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token spread operator","children":"..."}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["    ",["$","span",null,{"className":"token comment","children":"// 개발 환경에서만 활성화"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token spread operator","children":"..."}],["$","span",null,{"className":"token punctuation","children":"("}],"process",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"env"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token constant","children":"NODE_ENV"}]," ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token string","children":"'development'"}]," ",["$","span",null,{"className":"token operator","children":"&&"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["      ",["$","span",null,{"className":"token literal-property property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'custom'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["      ",["$","span",null,{"className":"token literal-property property","children":"loaderFile"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'./image-loader.js'"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","h3",null,{"id":"api-route-프록시-모니터링","children":"API Route 프록시 모니터링"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// 이미지 프록시 성능 모니터링"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token constant","children":"GET"}],["$","span",null,{"className":"token punctuation","children":"("}],"request",["$","span",null,{"className":"token operator","children":":"}]," NextRequest",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," start ",["$","span",null,{"className":"token operator","children":"="}]," Date",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"now"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token keyword","children":"try"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token keyword","children":"const"}]," response ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"await"}]," ",["$","span",null,{"className":"token function","children":"fetch"}],["$","span",null,{"className":"token punctuation","children":"("}],"imageUrl",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["    ",["$","span",null,{"className":"token keyword","children":"const"}]," processTime ",["$","span",null,{"className":"token operator","children":"="}]," Date",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"now"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"-"}]," start",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":"    \n"}],["$","span",null,{"className":"code-line line-number","line":"9","children":["    ",["$","span",null,{"className":"token comment","children":"// 메트릭 수집"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["    ",["$","span",null,{"className":"token builtin","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"Image proxy: "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"imageUrl",["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":" - "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"processTime",["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"ms"}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":"    \n"}],["$","span",null,{"className":"code-line line-number","line":"12","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"NextResponse"}],["$","span",null,{"className":"token punctuation","children":"("}],"response",["$","span",null,{"className":"token punctuation","children":"."}],"body",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," headers",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token operator","children":"..."}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"catch"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"error",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":["    ",["$","span",null,{"className":"token comment","children":"// 에러 모니터링"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"15","children":["    ",["$","span",null,{"className":"token builtin","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"error"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"Image proxy failed: "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"imageUrl",["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":","}]," error",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"16","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"17","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}]}],"\n",["$","h2",null,{"id":"-proxyimage-cors-문제-실전-해결법","children":"🚨 ProxyImage CORS 문제 실전 해결법"}],"\n",["$","p",null,{"children":["실제 WB-Front 프로젝트에서 발생한 ",["$","code",null,{"children":"ProxyImage"}]," 컴포넌트 CORS 에러 해결 과정을 통해 실무 문제 해결 방법을 살펴보겠습니다."]}],"\n",["$","h3",null,{"id":"초기-문제-상황","children":"초기 문제 상황"}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"1. TypeScript 타입 에러"}]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// ❌ 에러 발생"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"const"}]," isSVG ",["$","span",null,{"className":"token operator","children":"="}]," originalSrc",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"toLowerCase"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'.svg'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":[["$","span",null,{"className":"token comment","children":"// Error: 'string | StaticImport' 형식에 'toLowerCase' 속성이 없습니다"}],"\n"]}]]}]}]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"2. CORS 에러"}]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"code-highlight","data-language":"","children":["$","code",null,{"className":"code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":"Access to image at 'https://cdn.weolbu.com/fe/vision-tracker/vt-run-4.svg' \n"}],["$","span",null,{"className":"code-line line-number","line":"2","children":"from origin 'http://localhost:3001' has been blocked by CORS policy: \n"}],["$","span",null,{"className":"code-line line-number","line":"3","children":"No 'Access-Control-Allow-Origin' header is present on the requested resource.\n"}]]}]}]}],"\n",["$","h3",null,{"id":"문제-원인-분석","children":"문제 원인 분석"}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"CORS 에러의 근본 원인:"}]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"children":"unoptimized={true}"}]," 설정으로 인해 Next.js가 ",["$","code",null,{"children":"corsProxyLoader"}]," 무시"]}],"\n",["$","li",null,{"children":"브라우저가 외부 CDN에 직접 요청"}],"\n",["$","li",null,{"children":"CDN 서버가 CORS 헤더를 제공하지 않음"}],"\n",["$","li",null,{"children":[["$","code",null,{"children":"crossOrigin=\"anonymous\""}]," 속성으로 인한 CORS 요청 강제"]}],"\n"]}],"\n",["$","h3",null,{"id":"해결-과정","children":"해결 과정"}],"\n",["$","h4",null,{"id":"1단계-typescript-타입-에러-수정","children":"1단계: TypeScript 타입 에러 수정"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// ✅ 타입 가드를 사용한 해결"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"const"}]," isStringUrl ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"any"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":":"}]," src ",["$","span",null,{"className":"token keyword","children":"is"}]," ",["$","span",null,{"className":"token builtin","children":"string"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token keyword","children":"typeof"}]," src ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token string","children":"'string'"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"4","children":[["$","span",null,{"className":"token keyword","children":"const"}]," isSVG ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"isStringUrl"}],["$","span",null,{"className":"token punctuation","children":"("}],"originalSrc",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"&&"}]," originalSrc",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"toLowerCase"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'.svg'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","h4",null,{"id":"2단계-corsproxyloader-개선","children":"2단계: corsProxyLoader 개선"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token keyword","children":"const"}]," corsProxyLoader",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token function-variable function","children":"ImageLoader"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," src",["$","span",null,{"className":"token punctuation","children":","}]," width",["$","span",null,{"className":"token punctuation","children":","}]," quality ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," isSvg ",["$","span",null,{"className":"token operator","children":"="}]," src",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"toLowerCase"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'.svg'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"4","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"isExternalImage"}],["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["    ",["$","span",null,{"className":"token comment","children":"// SVG는 최적화 파라미터 없이 프록시 처리"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"isSvg",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["      ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"/api/image-proxy?url="}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],["$","span",null,{"className":"token function","children":"encodeURIComponent"}],["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["    ",["$","span",null,{"className":"token comment","children":"// 일반 이미지는 width, quality 파라미터 포함"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"/api/image-proxy?url="}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],["$","span",null,{"className":"token function","children":"encodeURIComponent"}],["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"&w="}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"width",["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"&q="}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"quality ",["$","span",null,{"className":"token operator","children":"||"}]," ",["$","span",null,{"className":"token number","children":"75"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"13","children":["  ",["$","span",null,{"className":"token comment","children":"// 내부 이미지는 기본 처리"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," src",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"15","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","h4",null,{"id":"3단계-조건부-unoptimized-설정","children":"3단계: 조건부 unoptimized 설정"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// ✅ 최종 해결 방안"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function-variable function","children":"ProxyImage"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," src",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"..."}],"props ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," isSVG ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"isStringUrl"}],["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"&&"}]," src",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"toLowerCase"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'.svg'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token operator","children":"<"}],"Image\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["      loader",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"corsProxyLoader",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["      src",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"src",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["      unoptimized",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"isSVG",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token comment","children":"// SVG만 최적화 비활성화"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["      crossOrigin",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token function","children":"isExternalImage"}],["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token string","children":"\"anonymous\""}]," ",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token keyword","children":"undefined"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token operator","children":"..."}],"props",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["    ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["  ",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","h3",null,{"id":"작업-완료-체크리스트","children":"작업 완료 체크리스트"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["✅ TypeScript 타입 에러 수정 (",["$","code",null,{"children":"proxy-image.tsx:93"}],")"]}],"\n",["$","li",null,{"children":["✅ ",["$","code",null,{"children":"corsProxyLoader"}],"에 SVG 처리 로직 추가"]}],"\n",["$","li",null,{"children":"✅ SVG 파일에 대한 최적화 파라미터 제거"}],"\n",["$","li",null,{"children":["✅ 조건부 ",["$","code",null,{"children":"unoptimized"}]," prop 설정"]}],"\n",["$","li",null,{"children":"✅ CORS 관련 속성 최적화"}],"\n"]}],"\n",["$","h3",null,{"id":"기술적-배경-지식","children":"기술적 배경 지식"}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Next.js Image 최적화 동작 원리:"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"children":"unoptimized={false}"}]," (기본값): loader 함수 사용, 이미지 최적화 적용"]}],"\n",["$","li",null,{"children":[["$","code",null,{"children":"unoptimized={true}"}],": loader 무시, src 직접 사용, 최적화 비활성화"]}],"\n"]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"프록시 시스템 동작 흐름:"}]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"외부 이미지 요청 → localhost API Route"}],"\n",["$","li",null,{"children":"API Route → 외부 CDN (서버 사이드, CORS 제약 없음)"}],"\n",["$","li",null,{"children":"API Route → 클라이언트 (Same Origin)"}],"\n"]}],"\n",["$","h3",null,{"id":"권장-최종-구현-패턴","children":"권장 최종 구현 패턴"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token keyword","children":"interface"}]," ",["$","span",null,{"className":"token class-name","children":"ProxyImageProps"}]," ",["$","span",null,{"className":"token keyword","children":"extends"}]," ",["$","span",null,{"className":"token class-name","children":["Omit",["$","span",null,{"className":"token operator","children":"<"}],"ImageProps",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'src'"}],["$","span",null,{"className":"token operator","children":">"}]]}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":["  src",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}]," ",["$","span",null,{"className":"token operator","children":"|"}]," StaticImport",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"5","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"const"}]," ProxyImage",["$","span",null,{"className":"token operator","children":":"}]," React",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token constant","children":"FC"}],["$","span",null,{"className":"token operator","children":"<"}],"ProxyImageProps",["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," \n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["  src",["$","span",null,{"className":"token punctuation","children":","}]," \n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["  ",["$","span",null,{"className":"token operator","children":"..."}],"props \n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," isStringUrl ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"any"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":":"}]," src ",["$","span",null,{"className":"token keyword","children":"is"}]," ",["$","span",null,{"className":"token builtin","children":"string"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token keyword","children":"typeof"}]," src ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token string","children":"'string'"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," isSVG ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"isStringUrl"}],["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"&&"}]," src",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"toLowerCase"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'.svg'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," isExternal ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"isStringUrl"}],["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"&&"}]," ",["$","span",null,{"className":"token function","children":"isExternalImage"}],["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"13","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":["    ",["$","span",null,{"className":"token operator","children":"<"}],"Image\n"]}],["$","span",null,{"className":"code-line line-number","line":"15","children":["      loader",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"corsProxyLoader",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"16","children":["      src",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"src",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"17","children":["      unoptimized",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"isSVG",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token comment","children":"// SVG는 벡터 그래픽이므로 리사이징 불필요"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"18","children":["      crossOrigin",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"isExternal ",["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token string","children":"\"anonymous\""}]," ",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token keyword","children":"undefined"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"19","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token operator","children":"..."}],"props",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"20","children":["    ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"21","children":["  ",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"22","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"핵심 포인트:"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"SVG는 벡터 그래픽이므로 리사이징 최적화가 불필요"}],"\n",["$","li",null,{"children":"외부 이미지는 프록시를 통해 CORS 문제 우회"}],"\n",["$","li",null,{"children":"내부 이미지는 기본 Next.js 최적화 활용"}],"\n"]}],"\n",["$","h2",null,{"id":"-nextjs-image-컴포넌트의-기술적-제한사항","children":"🔧 Next.js Image 컴포넌트의 기술적 제한사항"}],"\n",["$","h3",null,{"id":"️-unoptimized와-loader의-충돌-문제","children":["⚠️ ",["$","code",null,{"children":"unoptimized"}],"와 ",["$","code",null,{"children":"loader"}],"의 충돌 문제"]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":[["$","code",null,{"children":"unoptimized={true}"}],"와 ",["$","code",null,{"children":"loader"}],"는 함께 사용할 수 없습니다!"]}]}],"\n",["$","p",null,{"children":["이는 Next.js의 의도된 동작입니다 (",["$","a",null,{"href":"https://github.com/vercel/next.js/discussions/64659","children":"GitHub Discussion #64659"}],"):"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"children":"unoptimized={true}"}],": 이미지를 \"있는 그대로\" 제공, loader 완전 무시"]}],"\n",["$","li",null,{"children":[["$","code",null,{"children":"loader"}]," prop: 이미지 최적화가 활성화되어야만 작동"]}],"\n"]}],"\n",["$","p",null,{"children":"Next.js 메인테이너 @styfle의 공식 답변:"}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["\"This is the expected behavior because ",["$","code",null,{"children":"unoptimized"}]," prop will serve the image as-is. That means no image optimization, no loader transformation.\""]}],"\n"]}],"\n",["$","h3",null,{"id":"-잘못된-svg-처리-예시","children":"🚫 잘못된 SVG 처리 예시"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// ❌ 작동하지 않는 코드"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function-variable function","children":"ProxyImage"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," src",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"..."}],"props ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token operator","children":":"}]," ProxyImageProps",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," isSVG ",["$","span",null,{"className":"token operator","children":"="}]," src",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"toLowerCase"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'.svg'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token operator","children":"<"}],"Image\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token operator","children":"..."}],"props",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["      src",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"src",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["      unoptimized",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"isSVG",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token comment","children":"// ⚠️ loader가 무시됨!"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["      loader",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"corsProxyLoader",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token comment","children":"// ⚠️ 작동하지 않음!"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["      crossOrigin",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token string","children":"\"anonymous\""}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["    ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["  ",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":[["$","code",null,{"children":"unoptimized={true}"}]," 사용 시 CORS 문제 발생"]}],":"]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"loader 함수가 무시됨"}],": Next.js는 이미지 최적화를 건너뛰고 ",["$","code",null,{"children":"src"}],"를 직접 사용"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"CORS 에러 발생"}],":","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"브라우저가 로컬에서 외부 CDN으로 직접 요청"}],"\n",["$","li",null,{"children":"CDN 서버가 CORS 헤더를 제공하지 않으면 차단"}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"crossOrigin=\"anonymous\"의 역효과"}],":","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"브라우저에게 CORS 요청을 하도록 지시"}],"\n",["$","li",null,{"children":"서버가 적절한 CORS 헤더를 반환하지 않으면 에러 발생"}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","h2",null,{"id":"-실무-해결책-통합-wrapper-컴포넌트-패턴","children":"💡 실무 해결책: 통합 Wrapper 컴포넌트 패턴"}],"\n",["$","p",null,{"children":["SVG와 일반 이미지를 모두 처리하는 ",["$","strong",null,{"children":"가장 안정적인 방법"}],":"]}],"\n",["$","h3",null,{"id":"svg와-일반-이미지-분리-처리","children":"SVG와 일반 이미지 분리 처리"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function-variable function","children":"SmartProxyImage"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," src",["$","span",null,{"className":"token punctuation","children":","}]," alt",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"..."}],"props ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token operator","children":":"}]," ProxyImageProps",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," isSVG ",["$","span",null,{"className":"token operator","children":"="}]," src",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"toLowerCase"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'.svg'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"4","children":["  ",["$","span",null,{"className":"token comment","children":"// SVG는 직접 프록시 URL 생성 (unoptimized 사용하지 않음)"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"isSVG",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token keyword","children":"const"}]," proxyUrl ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"/api/image-proxy?url="}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],["$","span",null,{"className":"token function","children":"encodeURIComponent"}],["$","span",null,{"className":"token punctuation","children":"("}],"src",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["      ",["$","span",null,{"className":"token operator","children":"<"}],"img \n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["        src",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"proxyUrl",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["        alt",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"alt",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["        crossOrigin",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token string","children":"\"anonymous\""}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["        ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token operator","children":"..."}],"props",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["      ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":["    ",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"15","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"16","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"17","children":["  ",["$","span",null,{"className":"token comment","children":"// 일반 이미지는 Next.js Image 컴포넌트 + loader 사용"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"18","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"19","children":["    ",["$","span",null,{"className":"token operator","children":"<"}],"Image\n"]}],["$","span",null,{"className":"code-line line-number","line":"20","children":["      src",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"src",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"21","children":["      alt",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"alt",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"22","children":["      loader",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," src",["$","span",null,{"className":"token punctuation","children":","}]," width",["$","span",null,{"className":"token punctuation","children":","}]," quality ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"23","children":["        ",["$","span",null,{"className":"token keyword","children":"const"}]," params ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"URLSearchParams"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"24","children":["          url",["$","span",null,{"className":"token operator","children":":"}]," src",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"25","children":["          w",["$","span",null,{"className":"token operator","children":":"}]," width",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"toString"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"26","children":["          q",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"quality ",["$","span",null,{"className":"token operator","children":"||"}]," ",["$","span",null,{"className":"token number","children":"75"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"toString"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"27","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"28","children":["        ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"/api/image-proxy?"}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"params",["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"29","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"30","children":["      sizes",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token string","children":"\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\""}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"31","children":["      crossOrigin",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token string","children":"\"anonymous\""}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"32","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token operator","children":"..."}],"props",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"33","children":["    ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"34","children":["  ",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"35","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","h3",null,{"id":"통합-컴포넌트-패턴의-장점","children":"통합 컴포넌트 패턴의 장점"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["✅ ",["$","strong",null,{"children":"SVG 최적화"}],": 불필요한 최적화 없이 프록시 처리"]}],"\n",["$","li",null,{"children":["✅ ",["$","strong",null,{"children":"일반 이미지 최적화"}],": Next.js의 강력한 최적화 기능 활용"]}],"\n",["$","li",null,{"children":["✅ ",["$","strong",null,{"children":"CORS 완벽 해결"}],": 모든 외부 이미지에 대한 CORS 문제 해결"]}],"\n",["$","li",null,{"children":["✅ ",["$","strong",null,{"children":"캐시 효율성"}],": 적절한 캐싱 전략으로 성능 최적화"]}],"\n",["$","li",null,{"children":["✅ ",["$","strong",null,{"children":"개발자 경험"}],": 하나의 컴포넌트로 모든 이미지 타입 처리"]}],"\n"]}],"\n",["$","h3",null,{"id":"api-route-프록시-사용-시-주의사항","children":"API Route 프록시 사용 시 주의사항"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"서버 리소스 사용량 증가"}],":"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Next.js Image 컴포넌트가 여러 크기별로 최적화된 이미지를 생성"}],"\n",["$","li",null,{"children":"이 이미지들이 서버 내부 캐시에 저장됨"}],"\n",["$","li",null,{"children":"서버 디스크 용량과 메모리 사용량 증가"}],"\n",["$","li",null,{"children":"Vercel 등 서버리스 환경에서 Function timeout 발생 가능"}],"\n"]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"해결 방법"}],":"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"적절한 캐시 정책 설정"}],"\n",["$","li",null,{"children":"CDN 활용으로 서버 부하 분산"}],"\n",["$","li",null,{"children":"이미지 크기 제한 설정"}],"\n"]}],"\n",["$","h2",null,{"id":"-성능-최적화-및-보안-가이드","children":"🎯 성능 최적화 및 보안 가이드"}],"\n",["$","h3",null,{"id":"성능-최적화-팁","children":"성능 최적화 팁"}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"1. 적극적인 브라우저 캐싱"}]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// API Route에서 캐시 설정"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"NextResponse"}],["$","span",null,{"className":"token punctuation","children":"("}],"imageBuffer",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  headers",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["    ",["$","span",null,{"className":"token string-property property","children":"'Content-Type'"}],["$","span",null,{"className":"token operator","children":":"}]," contentType",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["    ",["$","span",null,{"className":"token string-property property","children":"'Cache-Control'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'public, max-age=31536000, immutable'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token string-property property","children":"'Access-Control-Allow-Origin'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'*'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"2. CDN 활용"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"CloudFlare, AWS CloudFront로 글로벌 캐싱"}],"\n",["$","li",null,{"children":"이미지 크기 제한 (최대 5MB)"}],"\n",["$","li",null,{"children":"허용 도메인 화이트리스트 관리"}],"\n"]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"3. 이미지 프리로딩"}]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// 중요한 이미지 미리 로드"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token operator","children":"<"}],"link rel",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token string","children":"\"preload\""}]," ",["$","span",null,{"className":"token keyword","children":"as"}],["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token string","children":"\"image\""}]," href",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token string","children":"\"/api/image-proxy?url=...\""}]," ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}]]}]}]}],"\n",["$","h3",null,{"id":"보안-고려사항","children":"보안 고려사항"}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"1. 도메인 화이트리스트"}]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token constant","children":"ALLOWED_DOMAINS"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":["  ",["$","span",null,{"className":"token string","children":"'cdn.example.com'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token string","children":"'images.unsplash.com'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["  ",["$","span",null,{"className":"token comment","children":"// ...허용된 도메인만"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":[["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"7","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function-variable function","children":"isAllowedDomain"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"url",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["  ",["$","span",null,{"className":"token keyword","children":"try"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["    ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," hostname ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["$","span",null,{"className":"token constant","children":"URL"}]}],["$","span",null,{"className":"token punctuation","children":"("}],"url",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token constant","children":"ALLOWED_DOMAINS"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"includes"}],["$","span",null,{"className":"token punctuation","children":"("}],"hostname",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"catch"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token boolean","children":"false"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"2. 이미지 크기 제한"}]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token constant","children":"MAX_IMAGE_SIZE"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"5"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token number","children":"1024"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token number","children":"1024"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// 5MB"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"3","children":[["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"response",["$","span",null,{"className":"token punctuation","children":"."}],"headers",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"get"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'content-length'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," size ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"parseInt"}],["$","span",null,{"className":"token punctuation","children":"("}],"response",["$","span",null,{"className":"token punctuation","children":"."}],"headers",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"get"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'content-length'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":"!"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"size ",["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token constant","children":"MAX_IMAGE_SIZE"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token keyword","children":"throw"}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"Error"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'Image too large'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}]}],"\n",["$","h2",null,{"id":"마무리","children":"마무리"}],"\n",["$","p",null,{"children":["Next.js 15에서 외부 이미지 처리는 ",["$","strong",null,{"children":"상황에 따른 적절한 방법 선택"}],"이 핵심입니다:"]}],"\n",["$","h3",null,{"id":"-최종-선택-가이드","children":"📊 최종 선택 가이드"}],"\n",["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"상황"}],["$","th",null,{"children":"권장 방법"}],["$","th",null,{"children":"이유"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"신뢰할 수 있는 CDN"}]}],["$","td",null,{"children":["$","code",null,{"children":"remotePatterns"}]}],["$","td",null,{"children":"공식 권장, 최고 성능"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"동적 소스 + CORS 이슈"}]}],["$","td",null,{"children":"API Route 프록시"}],["$","td",null,{"children":"보안 + 유연성"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"SVG 파일"}]}],["$","td",null,{"children":[["$","code",null,{"children":"unoptimized"}]," + 타입 처리"]}],["$","td",null,{"children":"불필요한 최적화 방지"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"하이브리드 환경"}]}],["$","td",null,{"children":"조건부 처리 패턴"}],["$","td",null,{"children":"상황별 최적화"}]]}]]}]]}],"\n",["$","h3",null,{"id":"-핵심-기억사항","children":"🔑 핵심 기억사항"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"TypeScript 타입 안전성"}]," 확보"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"CORS 문제의 근본 원인"}]," 이해"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Next.js Image 제한사항"}]," 숙지"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"성능과 보안의 균형"}]," 유지"]}],"\n"]}],"\n",["$","p",null,{"children":["이러한 가이드라인을 따르면 ",["$","strong",null,{"children":"성능, 보안, 유지보수성"}],"을 모두 만족하는 최적의 이미지 처리 시스템을 구축할 수 있습니다."]}]]
12:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
d:null
16:{"metadata":[["$","title","0",{"children":"Next.js 15 이미지 최적화 완전 가이드: remotePatterns vs API Route 프록시 | Blog"}],["$","meta","1",{"name":"description","content":"Next.js 15에서 외부 이미지를 처리하는 공식 권장사항과 성능 비교, 상황별 최적 선택 가이드를 상세히 다룹니다."}],["$","meta","2",{"name":"author","content":"zeke"}],["$","meta","3",{"name":"keywords","content":"Next.js, 이미지 최적화, remotePatterns, 성능, 보안, API Route"}],["$","meta","4",{"name":"creator","content":"zeke"}],["$","meta","5",{"name":"publisher","content":"Blog"}],["$","meta","6",{"name":"robots","content":"index, follow"}],["$","meta","7",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","meta","8",{"name":"google-site-verification","content":"wjBK5vsP3u8w2Mb0BHXkojvPGQ56soPTBYg2fU5dg5k"}],["$","meta","9",{"property":"og:title","content":"Next.js 15 이미지 최적화 완전 가이드: remotePatterns vs API Route 프록시 | Blog"}],["$","meta","10",{"property":"og:description","content":"Next.js 15에서 외부 이미지를 처리하는 공식 권장사항과 성능 비교, 상황별 최적 선택 가이드를 상세히 다룹니다."}],["$","meta","11",{"property":"og:url","content":"https://leeduhan.github.io/posts/react/2025-08-19-nextjs-15-image-optimization-guide"}],["$","meta","12",{"property":"og:site_name","content":"Blog"}],["$","meta","13",{"property":"og:image","content":"https://leeduhan.github.io/og-image.jpg"}],["$","meta","14",{"property":"og:image:width","content":"1200"}],["$","meta","15",{"property":"og:image:height","content":"630"}],["$","meta","16",{"property":"og:image:alt","content":"Next.js 15 이미지 최적화 완전 가이드: remotePatterns vs API Route 프록시"}],["$","meta","17",{"property":"og:type","content":"article"}],["$","meta","18",{"property":"article:published_time","content":"2025-08-19"}],["$","meta","19",{"property":"article:author","content":"zeke"}],["$","meta","20",{"property":"article:tag","content":"Next.js"}],["$","meta","21",{"property":"article:tag","content":"이미지 최적화"}],["$","meta","22",{"property":"article:tag","content":"remotePatterns"}],["$","meta","23",{"property":"article:tag","content":"성능"}],["$","meta","24",{"property":"article:tag","content":"보안"}],["$","meta","25",{"property":"article:tag","content":"API Route"}],["$","meta","26",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","27",{"name":"twitter:creator","content":"@zeke"}],["$","meta","28",{"name":"twitter:title","content":"Next.js 15 이미지 최적화 완전 가이드: remotePatterns vs API Route 프록시 | Blog"}],["$","meta","29",{"name":"twitter:description","content":"Next.js 15에서 외부 이미지를 처리하는 공식 권장사항과 성능 비교, 상황별 최적 선택 가이드를 상세히 다룹니다."}],["$","meta","30",{"name":"twitter:image","content":"https://leeduhan.github.io/og-image.jpg"}],["$","link","31",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]],"error":null,"digest":"$undefined"}
10:{"metadata":"$16:metadata","error":null,"digest":"$undefined"}
