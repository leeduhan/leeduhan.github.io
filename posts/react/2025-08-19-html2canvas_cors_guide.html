<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/0a38fac37be32038.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-56d9518731895b2c.js"/><script src="/_next/static/chunks/4bd1b696-621d9c5a5ed67c86.js" async=""></script><script src="/_next/static/chunks/1684-2774953d221678f8.js" async=""></script><script src="/_next/static/chunks/main-app-98678e53e0f06a7d.js" async=""></script><script src="/_next/static/chunks/6874-fa507aafc07af06a.js" async=""></script><script src="/_next/static/chunks/9318-102c786377c953a3.js" async=""></script><script src="/_next/static/chunks/app/layout-cc2413b4ac7fd51b.js" async=""></script><script src="/_next/static/chunks/cb15b0f3-4f54b17909709afc.js" async=""></script><script src="/_next/static/chunks/9522-efe1b27bdbdfccd2.js" async=""></script><script src="/_next/static/chunks/app/posts/%5B...slug%5D/page-533962adf6041fb8.js" async=""></script><meta name="next-size-adjust" content=""/><title>Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜ | Blog</title><meta name="description" content="html2canvas ì‚¬ìš© ì‹œ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ Next.js API Route í”„ë¡ì‹œë¡œ ì™„ë²½ í•´ê²°í•œ ê³¼ì •ê³¼ ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ë“¤ì„ ìƒì„¸íˆ ì†Œê°œí•©ë‹ˆë‹¤."/><meta name="author" content="zeke"/><meta name="keywords" content="Next.js, html2canvas, CORS, React, TypeScript, ì´ë¯¸ì§€ í”„ë¡ì‹œ"/><meta name="creator" content="zeke"/><meta name="publisher" content="Blog"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><meta name="google-site-verification" content="wjBK5vsP3u8w2Mb0BHXkojvPGQ56soPTBYg2fU5dg5k"/><meta property="og:title" content="Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜ | Blog"/><meta property="og:description" content="html2canvas ì‚¬ìš© ì‹œ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ Next.js API Route í”„ë¡ì‹œë¡œ ì™„ë²½ í•´ê²°í•œ ê³¼ì •ê³¼ ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ë“¤ì„ ìƒì„¸íˆ ì†Œê°œí•©ë‹ˆë‹¤."/><meta property="og:url" content="https://leeduhan.github.io/posts/react/2025-08-19-html2canvas_cors_guide"/><meta property="og:site_name" content="Blog"/><meta property="og:image" content="https://leeduhan.github.io/og-image.jpg"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-08-19"/><meta property="article:author" content="zeke"/><meta property="article:tag" content="Next.js"/><meta property="article:tag" content="html2canvas"/><meta property="article:tag" content="CORS"/><meta property="article:tag" content="React"/><meta property="article:tag" content="TypeScript"/><meta property="article:tag" content="ì´ë¯¸ì§€ í”„ë¡ì‹œ"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@zeke"/><meta name="twitter:title" content="Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜ | Blog"/><meta name="twitter:description" content="html2canvas ì‚¬ìš© ì‹œ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ Next.js API Route í”„ë¡ì‹œë¡œ ì™„ë²½ í•´ê²°í•œ ê³¼ì •ê³¼ ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ë“¤ì„ ìƒì„¸íˆ ì†Œê°œí•©ë‹ˆë‹¤."/><meta name="twitter:image" content="https://leeduhan.github.io/og-image.jpg"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_e8ce0c antialiased min-h-screen"><div class="flex min-h-screen flex-col"><header class="sticky top-0 z-50 w-full border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/80"><div class="container max-w-4xl mx-auto flex h-16 items-center justify-between px-4"><a class="flex items-center space-x-2 text-xl font-semibold transition-colors hover:text-primary" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text h-6 w-6 text-primary" aria-hidden="true"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg><span>Blog</span></a><div class="flex items-center space-x-6"><nav class="flex items-center space-x-6"><a class="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground" href="/">í™ˆ</a><a class="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground" href="/tags">íƒœê·¸</a><a class="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground" href="/about">ì†Œê°œ</a></nav><a href="https://github.com/leeduhan" target="_blank" rel="noopener noreferrer" class="text-muted-foreground transition-colors hover:text-foreground" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-5 w-5" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><button class="h-9 w-9 rounded-lg border border-border hover:bg-accent hover:text-accent-foreground inline-flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2" title="í…Œë§ˆ ë³€ê²½" type="button" id="radix-Â«R77bÂ»" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-monitor h-[1.2rem] w-[1.2rem]" aria-hidden="true"><rect width="20" height="14" x="2" y="3" rx="2"></rect><line x1="8" x2="16" y1="21" y2="21"></line><line x1="12" x2="12" y1="17" y2="21"></line></svg><span class="sr-only">í…Œë§ˆ ë³€ê²½</span></button></div></div></header><main class="flex-1"><div class="container max-w-4xl mx-auto px-4 py-8"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜","description":"html2canvas ì‚¬ìš© ì‹œ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ Next.js API Route í”„ë¡ì‹œë¡œ ì™„ë²½ í•´ê²°í•œ ê³¼ì •ê³¼ ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ë“¤ì„ ìƒì„¸íˆ ì†Œê°œí•©ë‹ˆë‹¤.","image":["https://leeduhan.github.io/og-image.jpg"],"author":{"@type":"Person","name":"zeke"},"publisher":{"@type":"Organization","name":"Blog","logo":{"@type":"ImageObject","url":"https://leeduhan.github.io/logo.png"}},"url":"https://leeduhan.github.io/posts/react/2025-08-19-html2canvas_cors_guide","datePublished":"2025-08-19","dateModified":"2025-08-19","keywords":"Next.js, html2canvas, CORS, React, TypeScript, ì´ë¯¸ì§€ í”„ë¡ì‹œ","articleSection":"Technology","inLanguage":"ko-KR"}</script><div class="max-w-3xl mx-auto space-y-8"><div class="pt-4"><a class="inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left h-4 w-4" aria-hidden="true"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg><span>í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</span></a></div><article class="space-y-8"><header class="space-y-6"><div class="space-y-6"><h1 class="text-5xl font-bold tracking-tight leading-tight">Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜</h1></div><div class="flex flex-wrap items-center gap-6 text-sm text-muted-foreground py-4"><time dateTime="2025-08-19" class="flex items-center gap-2"><span>ğŸ“…</span>2025ë…„ 8ì›” 19ì¼</time><div class="flex flex-wrap items-center gap-2"><span>ğŸ·ï¸</span><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/nextjs">Next.js</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/html2canvas">html2canvas</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/cors">CORS</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/react">React</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/typescript">TypeScript</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/image-proxy">ì´ë¯¸ì§€ í”„ë¡ì‹œ</a></div></div><div class="bg-accent/50 rounded-lg p-6 border-l-4 border-primary"><p class="text-lg leading-relaxed italic text-muted-foreground">html2canvas ì‚¬ìš© ì‹œ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ Next.js API Route í”„ë¡ì‹œë¡œ ì™„ë²½ í•´ê²°í•œ ê³¼ì •ê³¼ ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ë“¤ì„ ìƒì„¸íˆ ì†Œê°œí•©ë‹ˆë‹¤.</p></div></header><div class="notion-content"><h1 id="nextjs-15ì—ì„œ-html2canvas-cors-ì—ëŸ¬-í•´ê²°í•˜ê¸°-ì´ë¯¸ì§€-í”„ë¡ì‹œ-ì†”ë£¨ì…˜">Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜</h1>
<p>html2canvasë¥¼ ì‚¬ìš©í•´ í™”ë©´ ìº¡ì²˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë‹¤ ë³´ë©´ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ ìì£¼ ë§Œë‚˜ê²Œ ë©ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ì—¬ëŸ¬ í•´ê²° ë°©ë²•ì„ ë¹„êµ ë¶„ì„í•˜ê³ , ì‹¤ì œë¡œ ì„±ê³µí•œ Next.js API Route í”„ë¡ì‹œ ì†”ë£¨ì…˜ì„ ìƒì„¸íˆ ê³µìœ í•©ë‹ˆë‹¤.</p>
<h2 id="-ëª©ì°¨">ğŸ“‹ ëª©ì°¨</h2>
<ol>
<li><a href="#%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9%EA%B3%BC-%EC%9B%90%EC%9D%B8">ë¬¸ì œ ìƒí™©ê³¼ ì›ì¸</a></li>
<li><a href="#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%EB%B9%84%EA%B5%90">í•´ê²° ë°©ë²• ë¹„êµ</a></li>
<li><a href="#%EC%8B%A4%EC%A0%9C-%EC%84%B1%EA%B3%B5%ED%95%9C-%ED%95%B4%EA%B2%B0%EC%B1%85-nextjs-%EC%9D%B4%EB%AF%B8%EC%A7%80-%ED%94%84%EB%A1%9D%EC%8B%9C">ì‹¤ì œ ì„±ê³µí•œ í•´ê²°ì±…: Next.js ì´ë¯¸ì§€ í”„ë¡ì‹œ</a></li>
<li><a href="#%EB%8C%80%EC%95%88-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95%EB%93%A4">ëŒ€ì•ˆ í•´ê²° ë°©ë²•ë“¤</a></li>
<li><a href="#%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94-%EB%B0%8F-%EC%B6%94%EA%B0%80-%ED%8C%81">ì„±ëŠ¥ ìµœì í™” ë° ì¶”ê°€ íŒ</a></li>
</ol>
<h2 id="ë¬¸ì œ-ìƒí™©ê³¼-ì›ì¸">ë¬¸ì œ ìƒí™©ê³¼ ì›ì¸</h2>
<p>ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ html2canvasë¥¼ ì‚¬ìš©í•´ í™”ë©´ì„ ìº¡ì²˜í•˜ë ¤ê³  í–ˆëŠ”ë° ë‹¤ìŒê³¼ ê°™ì€ CORS ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">code-highlight</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words code-highlight"><code class="code-highlight"><span class="code-line line-number" line="1">Access to image at &#x27;https://cdn.example.com/images/my-image.svg&#x27; 
</span><span class="code-line line-number" line="2">from origin &#x27;http://localhost:3001&#x27; has been blocked by CORS policy: 
</span><span class="code-line line-number" line="3">No &#x27;Access-Control-Allow-Origin&#x27; header is present on the requested resource.
</span></code></pre></div></div>
<h3 id="ê·¼ë³¸-ì›ì¸">ê·¼ë³¸ ì›ì¸</h3>
<ul>
<li><strong>html2canvasì˜ ì‘ë™ ë°©ì‹</strong>: DOMì„ Canvasë¡œ ê·¸ë¦¬ëŠ” ê³¼ì •ì—ì„œ Canvas APIë¥¼ ì‚¬ìš©</li>
<li><strong>Same-Origin Policy</strong>: ë¸Œë¼ìš°ì €ì˜ ë³´ì•ˆ ì •ì±…ìœ¼ë¡œ ì¸í•œ í¬ë¡œìŠ¤ ë„ë©”ì¸ ì´ë¯¸ì§€ ì ‘ê·¼ ì œí•œ</li>
<li><strong>ì™¸ë¶€ CDN ì´ë¯¸ì§€</strong>: CORS í—¤ë”ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ” ì™¸ë¶€ ë„ë©”ì¸ ì´ë¯¸ì§€</li>
<li><strong>ë¸Œë¼ìš°ì € ìºì‹±</strong>: ì²« ë²ˆì§¸ ìš”ì²­ ì‹œ CORS í—¤ë”ê°€ ì—†ìœ¼ë©´ ìºì‹œëœ ì´ë¯¸ì§€ë„ ë™ì¼í•œ ë¬¸ì œ ë°œìƒ</li>
</ul>
<h2 id="í•´ê²°-ë°©ë²•-ë¹„êµ">í•´ê²° ë°©ë²• ë¹„êµ</h2>
<p>ì—¬ëŸ¬ í•´ê²° ë°©ë²•ì„ ì‹œë„í•´ë³¸ ê²°ê³¼, ê°ê°ì˜ ì¥ë‹¨ì ì„ ì •ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
<table><thead><tr><th>ìˆœìœ„</th><th>ë°©ë²•</th><th>ë‚œì´ë„</th><th>íš¨ê³¼</th><th>ì ìš© ë²”ìœ„</th><th>ê¶Œì¥ë„</th></tr></thead><tbody><tr><td>ğŸ†</td><td><strong>Next.js API Route í”„ë¡ì‹œ</strong></td><td>â­â­</td><td>â­â­â­â­â­</td><td>í”„ë¡œë•ì…˜</td><td>âœ… <strong>ìµœê³ </strong></td></tr><tr><td>ğŸ¥ˆ</td><td>Next.js Image + ì»¤ìŠ¤í…€ ë¡œë”</td><td>â­â­â­</td><td>â­â­â­â­â­</td><td>ê³ ê¸‰</td><td>âœ… ê¶Œì¥</td></tr><tr><td>ğŸ¥‰</td><td>next.config.js Rewrites</td><td>â­</td><td>â­â­â­â­</td><td>ê°„í¸</td><td>âš ï¸ ì œí•œì </td></tr><tr><td>4</td><td>í´ë¼ì´ì–¸íŠ¸ ìµœì í™”</td><td>â­</td><td>â­â­â­</td><td>ì¦‰ì‹œ</td><td>âš ï¸ ì„ì‹œë°©í¸</td></tr><tr><td>5</td><td>Middleware CORS</td><td>â­â­â­</td><td>â­â­â­</td><td>ì „ì—­</td><td>âŒ ë³µì¡í•¨</td></tr></tbody></table>
<h3 id="1-í´ë¼ì´ì–¸íŠ¸-ìµœì í™”-ì¦‰ì‹œ-ì ìš©-ê°€ëŠ¥-ï¸">1. í´ë¼ì´ì–¸íŠ¸ ìµœì í™” (ì¦‰ì‹œ ì ìš© ê°€ëŠ¥) âš ï¸</h3>
<p>ê°€ì¥ ë¹ ë¥´ê²Œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì„ì‹œ í•´ê²°ì±…ì…ë‹ˆë‹¤:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">import</span> html2canvas <span class="token keyword">from</span> <span class="token string">&#x27;html2canvas&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">const</span> <span class="token function-variable function">captureElement</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">  <span class="token comment">// ì´ë¯¸ì§€ë“¤ì„ ìºì‹œ ë¬´íš¨í™”ë¡œ ë¯¸ë¦¬ ë¡œë“œ</span>
</span><span class="code-line line-number" line="5">  <span class="token keyword">const</span> images <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&#x27;img&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">  <span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="7">    <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>images<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>img <span class="token operator">=&gt;</span> 
</span><span class="code-line line-number" line="8">      <span class="token function">fetch</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>src <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">?t=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
</span><span class="code-line line-number" line="9">        cache<span class="token operator">:</span> <span class="token string">&#x27;no-cache&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="10">        mode<span class="token operator">:</span> <span class="token string">&#x27;cors&#x27;</span> 
</span><span class="code-line line-number" line="11">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="12">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="13">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15">  <span class="token comment">// html2canvas ì‹¤í–‰</span>
</span><span class="code-line line-number" line="16">  <span class="token keyword">const</span> canvas <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">html2canvas</span><span class="token punctuation">(</span>elementRef<span class="token punctuation">.</span>current<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="17">    useCORS<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="18">    allowTaint<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="19">    scale<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="20">    logging<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="21">    foreignObjectRendering<span class="token operator">:</span> <span class="token boolean">true</span>
</span><span class="code-line line-number" line="22">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24">  <span class="token keyword">return</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">&#x27;image/png&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="25"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<p><strong>ì¥ì </strong>: ì¦‰ì‹œ ì ìš© ê°€ëŠ¥, ë³„ë„ ì„œë²„ ì„¤ì • ë¶ˆí•„ìš”<br/>
<strong>ë‹¨ì </strong>: ë¸Œë¼ìš°ì € ìºì‹± ë¬¸ì œë¡œ ë¶ˆì•ˆì •, ê·¼ë³¸ì  í•´ê²°ì±… ì•„ë‹˜</p>
<h3 id="2-nextconfigjs-rewrites-ê°„ë‹¨í•œ-í”„ë¡ì‹œ-ï¸">2. next.config.js Rewrites (ê°„ë‹¨í•œ í”„ë¡ì‹œ) âš ï¸</h3>
<p>ì„¤ì •ë§Œìœ¼ë¡œ ê°„ë‹¨íˆ í•´ê²°í•˜ëŠ” ë°©ë²•:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// next.config.js</span>
</span><span class="code-line line-number" line="2"><span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#x27;next&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>NextConfig<span class="token punctuation">}</span></span> */</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">const</span> nextConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">  <span class="token keyword">async</span> <span class="token function">rewrites</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>
</span><span class="code-line line-number" line="6">      <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">        <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">&#x27;/api/images/:path*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">        <span class="token literal-property property">destination</span><span class="token operator">:</span> <span class="token string">&#x27;https://external-domain.com/:path*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="9">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="10">    <span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="12">  <span class="token literal-property property">images</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="13">    <span class="token literal-property property">remotePatterns</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line line-number" line="14">      <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="15">        <span class="token literal-property property">protocol</span><span class="token operator">:</span> <span class="token string">&#x27;https&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="16">        <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">&#x27;**&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="17">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="18">    <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="19">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="20"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="21">
</span><span class="code-line line-number" line="22">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> nextConfig<span class="token punctuation">;</span>
</span></code></pre></div></div>
<p><strong>ì¥ì </strong>: ì„¤ì •ë§Œìœ¼ë¡œ í•´ê²°, Next.js ë‚´ì¥ ê¸°ëŠ¥ í™œìš©<br/>
<strong>ë‹¨ì </strong>: íŠ¹ì • ë„ë©”ì¸ì—ë§Œ ì œí•œì , ë™ì  URL ì²˜ë¦¬ ì–´ë ¤ì›€</p>
<h3 id="3-nextjs-image--ì»¤ìŠ¤í…€-ë¡œë”-ê¶Œì¥-">3. Next.js Image + ì»¤ìŠ¤í…€ ë¡œë” (ê¶Œì¥) âœ…</h3>
<p>Next.js Image ì»´í¬ë„ŒíŠ¸ì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ì„ í™œìš©:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// components/ProxyImage.tsx</span>
</span><span class="code-line line-number" line="2"><span class="token string">&#x27;use client&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token keyword">import</span> Image <span class="token keyword">from</span> <span class="token string">&#x27;next/image&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token keyword">const</span> <span class="token function-variable function">customLoader</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> src<span class="token punctuation">,</span> width<span class="token punctuation">,</span> quality <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">  src<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">  width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9">  quality<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">  <span class="token comment">// ì™¸ë¶€ ë„ë©”ì¸ ì´ë¯¸ì§€ëŠ” í”„ë¡ì‹œë¥¼ í†µí•´ ë¡œë“œ</span>
</span><span class="code-line line-number" line="12">  <span class="token keyword">if</span> <span class="token punctuation">(</span>src<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#x27;http&#x27;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>src<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hostname<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="13">    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/proxy-image?url=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;w=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>width<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;q=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>quality <span class="token operator">||</span> <span class="token number">75</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="15">  <span class="token keyword">return</span> src<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">ProxyImage</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="19">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="20">    <span class="token operator">&lt;</span>Image
</span><span class="code-line line-number" line="21">      loader<span class="token operator">=</span><span class="token punctuation">{</span>customLoader<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="22">      crossOrigin<span class="token operator">=</span><span class="token string">&quot;anonymous&quot;</span>
</span><span class="code-line line-number" line="23">      <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="24">    <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="25">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="26"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<p><strong>ì¥ì </strong>: ìë™ ìµœì í™”, WebP ë³€í™˜, ë ˆì´ì§€ ë¡œë”©, ë°˜ì‘í˜• ì§€ì›<br/>
<strong>ë‹¨ì </strong>: Next.js Image API í•™ìŠµ í•„ìš”, ì•½ê°„ ë³µì¡í•¨</p>
<h2 id="ì‹¤ì œ-ì„±ê³µí•œ-í•´ê²°ì±…-nextjs-ì´ë¯¸ì§€-í”„ë¡ì‹œ">ì‹¤ì œ ì„±ê³µí•œ í•´ê²°ì±…: Next.js ì´ë¯¸ì§€ í”„ë¡ì‹œ</h2>
<p>ì—¬ëŸ¬ í•´ê²° ë°©ë²•ì„ ì‹œë„í•œ ê²°ê³¼, <strong>Next.js API Routeë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ í”„ë¡ì‹œ</strong> ë°©ì‹ì´ ê°€ì¥ ì•ˆì •ì ì´ê³  íš¨ê³¼ì ì¸ ì†”ë£¨ì…˜ì´ì—ˆìŠµë‹ˆë‹¤. ì´ ë°©ë²•ìœ¼ë¡œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì™„ì „íˆ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>
<h3 id="í•µì‹¬-ì•„ì´ë””ì–´">í•µì‹¬ ì•„ì´ë””ì–´</h3>
<p>ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šê³ , Next.js ì„œë²„ë¥¼ ê²½ìœ í•´ì„œ ì´ë¯¸ì§€ë¥¼ í”„ë¡ì‹œí•˜ì—¬ CORS í—¤ë”ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤:</p>
<div class="my-8 flex justify-center"><div id="mermaid-jf7ww44ov" class="mermaid-diagram w-full"></div></div>
<h3 id="1ë‹¨ê³„-api-route-í”„ë¡ì‹œ-ì—”ë“œí¬ì¸íŠ¸-ìƒì„±">1ë‹¨ê³„: API Route í”„ë¡ì‹œ ì—”ë“œí¬ì¸íŠ¸ ìƒì„±</h3>
<p>ê°€ì¥ í•µì‹¬ì´ ë˜ëŠ” ì„œë²„ì‚¬ì´ë“œ í”„ë¡ì‹œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// app/api/image-proxy/route.ts</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">import</span> <span class="token punctuation">{</span> NextRequest<span class="token punctuation">,</span> NextResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next/server&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token constant">GET</span><span class="token punctuation">(</span>request<span class="token operator">:</span> NextRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">  <span class="token keyword">const</span> <span class="token punctuation">{</span> searchParams <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">URL</span></span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">  <span class="token keyword">const</span> imageUrl <span class="token operator">=</span> searchParams<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#x27;url&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>imageUrl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">    <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">&#x27;URL parameter is required&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token number">400</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12">  <span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="13">    <span class="token comment">// ì™¸ë¶€ ì´ë¯¸ì§€ URL ìœ íš¨ì„± ê²€ì‚¬</span>
</span><span class="code-line line-number" line="14">    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">URL</span></span><span class="token punctuation">(</span><span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>imageUrl<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">    
</span><span class="code-line line-number" line="16">    <span class="token comment">// í—ˆìš©ëœ ë„ë©”ì¸ë§Œ í”„ë¡ì‹œ (ë³´ì•ˆìƒ ì¤‘ìš”)</span>
</span><span class="code-line line-number" line="17">    <span class="token keyword">const</span> allowedDomains <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line line-number" line="18">      <span class="token string">&#x27;cdn.example.com&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="19">      <span class="token string">&#x27;assets.mysite.com&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="20">      <span class="token string">&#x27;images.service.com&#x27;</span>
</span><span class="code-line line-number" line="21">    <span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="22">    
</span><span class="code-line line-number" line="23">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>allowedDomains<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>hostname<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="24">      <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">&#x27;Domain not allowed&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token number">403</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="25">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27">    <span class="token comment">// ì™¸ë¶€ ì´ë¯¸ì§€ fetch</span>
</span><span class="code-line line-number" line="28">    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>imageUrl<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="29">      headers<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="30">        <span class="token string-property property">&#x27;User-Agent&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;Mozilla/5.0 (compatible; NextJS Image Proxy)&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="31">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="32">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number" line="34">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="35">      <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="36">        <span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Failed to fetch image: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>response<span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="37">        <span class="token punctuation">{</span> status<span class="token operator">:</span> response<span class="token punctuation">.</span>status <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="38">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="39">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="40">
</span><span class="code-line line-number" line="41">    <span class="token keyword">const</span> imageBuffer <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">arrayBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="42">    <span class="token keyword">const</span> contentType <span class="token operator">=</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#x27;content-type&#x27;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&#x27;image/jpeg&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="43">
</span><span class="code-line line-number" line="44">    <span class="token comment">// ğŸ”‘ í•µì‹¬: CORS í—¤ë”ì™€ í•¨ê»˜ ì´ë¯¸ì§€ ë°˜í™˜</span>
</span><span class="code-line line-number" line="45">    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NextResponse</span><span class="token punctuation">(</span>imageBuffer<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="46">      headers<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="47">        <span class="token string-property property">&#x27;Content-Type&#x27;</span><span class="token operator">:</span> contentType<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="48">        <span class="token string-property property">&#x27;Cache-Control&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;public, max-age=31536000, immutable&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="49">        <span class="token string-property property">&#x27;Access-Control-Allow-Origin&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="50">        <span class="token string-property property">&#x27;Access-Control-Allow-Methods&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;GET&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="51">        <span class="token string-property property">&#x27;Access-Control-Allow-Headers&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;Content-Type&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="52">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="53">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="54">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="55">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#x27;Image proxy error:&#x27;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="56">    <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">&#x27;Failed to proxy image&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token number">500</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="57">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="58"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<h3 id="2ë‹¨ê³„-proxyimage-ì»´í¬ë„ŒíŠ¸-êµ¬í˜„">2ë‹¨ê³„: ProxyImage ì»´í¬ë„ŒíŠ¸ êµ¬í˜„</h3>
<p>ì™¸ë¶€ ì´ë¯¸ì§€ë¥¼ ìë™ìœ¼ë¡œ í”„ë¡ì‹œë¥¼ í†µí•´ ë¡œë“œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“­ë‹ˆë‹¤:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// components/ProxyImage.tsx</span>
</span><span class="code-line line-number" line="2"><span class="token string">&#x27;use client&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token keyword">import</span> Image<span class="token punctuation">,</span> <span class="token punctuation">{</span> ImageLoader<span class="token punctuation">,</span> ImageProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next/image&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5"><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment">// ì™¸ë¶€ ë„ë©”ì¸ ì´ë¯¸ì§€ì¸ì§€ í™•ì¸ (SSR ì•ˆì „)</span>
</span><span class="code-line line-number" line="8"><span class="token keyword">const</span> isExternalImage <span class="token operator">=</span> <span class="token punctuation">(</span>src<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">  <span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">URL</span></span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">    <span class="token keyword">return</span> url<span class="token punctuation">.</span>protocol <span class="token operator">===</span> <span class="token string">&#x27;http:&#x27;</span> <span class="token operator">||</span> url<span class="token punctuation">.</span>protocol <span class="token operator">===</span> <span class="token string">&#x27;https:&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="13">    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="15"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17"><span class="token comment">// ğŸ”‘ í•µì‹¬: CORS ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ì»¤ìŠ¤í…€ ë¡œë”</span>
</span><span class="code-line line-number" line="18"><span class="token keyword">const</span> corsProxyLoader<span class="token operator">:</span> <span class="token function-variable function">ImageLoader</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> src<span class="token punctuation">,</span> width<span class="token punctuation">,</span> quality <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="19">  <span class="token comment">// ì™¸ë¶€ ë„ë©”ì¸ ì´ë¯¸ì§€ë©´ í”„ë¡ì‹œë¥¼ í†µí•´ ë¡œë“œ</span>
</span><span class="code-line line-number" line="20">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isExternalImage</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="21">    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/image-proxy?url=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;w=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>width<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;q=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>quality <span class="token operator">||</span> <span class="token number">75</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="22">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="23">  <span class="token keyword">return</span> src<span class="token punctuation">;</span> <span class="token comment">// ë‚´ë¶€ ì´ë¯¸ì§€ëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš©</span>
</span><span class="code-line line-number" line="24"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="25">
</span><span class="code-line line-number" line="26"><span class="token keyword">interface</span> <span class="token class-name">ProxyImageProps</span> <span class="token keyword">extends</span> <span class="token class-name">Omit<span class="token operator">&lt;</span>ImageProps<span class="token punctuation">,</span> <span class="token string">&#x27;loader&#x27;</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="27">  fallbackSrc<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="28"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="29">
</span><span class="code-line line-number" line="30"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">ProxyImage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> fallbackSrc<span class="token punctuation">,</span> onError<span class="token punctuation">,</span> <span class="token operator">...</span>props <span class="token punctuation">}</span><span class="token operator">:</span> ProxyImageProps<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="31">  <span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> setError<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="32">
</span><span class="code-line line-number" line="33">  <span class="token keyword">const</span> <span class="token function-variable function">handleError</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> React<span class="token punctuation">.</span>SyntheticEvent<span class="token operator">&lt;</span>HTMLImageElement<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="34">    <span class="token function">setError</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="35">    onError<span class="token operator">?.</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="36">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="37">
</span><span class="code-line line-number" line="38">  <span class="token comment">// ì—ëŸ¬ ì‹œ fallback ì´ë¯¸ì§€ í‘œì‹œ</span>
</span><span class="code-line line-number" line="39">  <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token operator">&amp;&amp;</span> fallbackSrc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="40">    <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="41">      <span class="token operator">&lt;</span>Image
</span><span class="code-line line-number" line="42">        <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="43">        src<span class="token operator">=</span><span class="token punctuation">{</span>fallbackSrc<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="44">        loader<span class="token operator">=</span><span class="token punctuation">{</span>corsProxyLoader<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="45">        crossOrigin<span class="token operator">=</span><span class="token string">&quot;anonymous&quot;</span>
</span><span class="code-line line-number" line="46">        onError<span class="token operator">=</span><span class="token punctuation">{</span>handleError<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="47">      <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="48">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="49">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="50">
</span><span class="code-line line-number" line="51">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="52">    <span class="token operator">&lt;</span>Image
</span><span class="code-line line-number" line="53">      <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="54">      loader<span class="token operator">=</span><span class="token punctuation">{</span>corsProxyLoader<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="55">      crossOrigin<span class="token operator">=</span><span class="token string">&quot;anonymous&quot;</span>
</span><span class="code-line line-number" line="56">      onError<span class="token operator">=</span><span class="token punctuation">{</span>handleError<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="57">    <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="58">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="59"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h3 id="3ë‹¨ê³„-ì»´í¬ë„ŒíŠ¸-êµì²´">3ë‹¨ê³„: ì»´í¬ë„ŒíŠ¸ êµì²´</h3>
<p>ì´ì œ ê¸°ì¡´ ì´ë¯¸ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ProxyImageë¡œ êµì²´í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.</p>
<p><strong>êµì²´ ê³¼ì •</strong>:</p>
<ol>
<li>ê¸°ì¡´ <code>&lt;Image&gt;</code> ë˜ëŠ” <code>&lt;img&gt;</code> íƒœê·¸ë¥¼ <code>&lt;ProxyImage&gt;</code>ë¡œ ë³€ê²½</li>
<li>ì™¸ë¶€ CDN URLì„ ì‚¬ìš©í•˜ëŠ” ì´ë¯¸ì§€ë“¤ì„ ìš°ì„ ì ìœ¼ë¡œ êµì²´</li>
<li>í•„ìš”ì— ë”°ë¼ <code>fallbackSrc</code> propìœ¼ë¡œ ëŒ€ì²´ ì´ë¯¸ì§€ ì§€ì •</li>
<li>ê¸°ì¡´ props(<code>width</code>, <code>height</code>, <code>className</code> ë“±)ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ ê°€ëŠ¥</li>
</ol>
<p><strong>í•µì‹¬ í¬ì¸íŠ¸</strong>: ProxyImageëŠ” Next.js Imageì™€ ë™ì¼í•œ APIë¥¼ ì œê³µí•˜ë¯€ë¡œ, ê¸°ì¡´ ì½”ë“œì˜ ë³€ê²½ ì—†ì´ë„ CORS ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h3 id="4ë‹¨ê³„-html2canvasì™€-í•¨ê»˜-ì‚¬ìš©">4ë‹¨ê³„: html2canvasì™€ í•¨ê»˜ ì‚¬ìš©</h3>
<p>html2canvasë¡œ ìº¡ì²˜í•  ë•Œ ProxyImageê°€ í¬í•¨ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ ìº¡ì²˜í•˜ë©´ CORS ë¬¸ì œ ì—†ì´ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">import</span> html2canvas <span class="token keyword">from</span> <span class="token string">&#x27;html2canvas&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">const</span> <span class="token function-variable function">handleCapture</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">  <span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#x27;[data-capture-target]&#x27;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">  
</span><span class="code-line line-number" line="6">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>element<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8">  <span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">    <span class="token keyword">const</span> canvas <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">html2canvas</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">      useCORS<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="11">      allowTaint<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="12">      scale<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="13">      backgroundColor<span class="token operator">:</span> <span class="token string">&#x27;#ffffff&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="14">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16">    <span class="token comment">// ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ</span>
</span><span class="code-line line-number" line="17">    <span class="token keyword">const</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="18">    link<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">capture-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.png</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="19">    link<span class="token punctuation">.</span>href <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">&#x27;image/png&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="20">    link<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="21">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="22">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#x27;ìº¡ì²˜ ì‹¤íŒ¨:&#x27;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="23">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="24"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h2 id="í•µì‹¬-êµ¬í˜„-í¬ì¸íŠ¸">í•µì‹¬ êµ¬í˜„ í¬ì¸íŠ¸</h2>
<h3 id="1-ë³´ì•ˆ-ê³ ë ¤ì‚¬í•­">1. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// í—ˆìš©ëœ ë„ë©”ì¸ë§Œ í”„ë¡ì‹œ</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> allowedDomains <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line line-number" line="3">  <span class="token string">&#x27;cdn.example.com&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  <span class="token string">&#x27;assets.mysite.com&#x27;</span>
</span><span class="code-line line-number" line="5"><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>allowedDomains<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>hostname<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">  <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">&#x27;Domain not allowed&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token number">403</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<p>í—ˆìš©ëœ ë„ë©”ì¸ë§Œ í”„ë¡ì‹œí•˜ì—¬ ë³´ì•ˆ ìœ„í—˜ì„ ë°©ì§€í•©ë‹ˆë‹¤.</p>
<h3 id="2-ssr-í˜¸í™˜ì„±">2. SSR í˜¸í™˜ì„±</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> isExternalImage <span class="token operator">=</span> <span class="token punctuation">(</span>src<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">URL</span></span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">    <span class="token comment">// window.locationì´ ì•„ë‹Œ í”„ë¡œí† ì½œë¡œ íŒë‹¨í•˜ì—¬ SSR ì•ˆì „ì„± í™•ë³´</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">return</span> url<span class="token punctuation">.</span>protocol <span class="token operator">===</span> <span class="token string">&#x27;http:&#x27;</span> <span class="token operator">||</span> url<span class="token punctuation">.</span>protocol <span class="token operator">===</span> <span class="token string">&#x27;https:&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<p>ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì—ì„œë„ ì•ˆì „í•˜ê²Œ ì‘ë™í•˜ë„ë¡ <code>window</code> ê°ì²´ ì˜ì¡´ì„±ì„ ì œê±°í–ˆìŠµë‹ˆë‹¤.</p>
<h3 id="3-ìºì‹œ-ìµœì í™”">3. ìºì‹œ ìµœì í™”</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1">headers<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token string-property property">&#x27;Content-Type&#x27;</span><span class="token operator">:</span> contentType<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">  <span class="token string-property property">&#x27;Cache-Control&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;public, max-age=31536000, immutable&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  <span class="token string-property property">&#x27;Access-Control-Allow-Origin&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">  <span class="token string-property property">&#x27;Access-Control-Allow-Methods&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;GET&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">  <span class="token string-property property">&#x27;Access-Control-Allow-Headers&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;Content-Type&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<p>ì´ë¯¸ì§€ë¥¼ 1ë…„ê°„ ìºì‹œí•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤.</p>
<h2 id="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…">íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h2>
<h3 id="1-hydration-mismatch-ì—ëŸ¬">1. Hydration Mismatch ì—ëŸ¬</h3>
<p><strong>ë¬¸ì œ</strong>: ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë‹¤ë¥¸ URL ìƒì„±ìœ¼ë¡œ ì¸í•œ Hydration ì—ëŸ¬<br/>
<strong>í•´ê²°</strong>: <code>window.location.origin</code> ëŒ€ì‹  í”„ë¡œí† ì½œ ê¸°ë°˜ìœ¼ë¡œ ì™¸ë¶€ ì´ë¯¸ì§€ íŒë‹¨</p>
<h3 id="2-ë¬´í•œ-ë¡œë”©">2. ë¬´í•œ ë¡œë”©</h3>
<p><strong>ë¬¸ì œ</strong>: í”„ë¡ì‹œ ë¡œë”ê°€ ì ìš©ë˜ì§€ ì•Šì•„ ì›ë³¸ URLë¡œ ìš”ì²­<br/>
<strong>í•´ê²°</strong>: SSR ì•ˆì „í•œ ë¡œì§ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì„œë²„/í´ë¼ì´ì–¸íŠ¸ ì¼ê´€ì„± í™•ë³´</p>
<h2 id="ëŒ€ì•ˆ-í•´ê²°-ë°©ë²•ë“¤">ëŒ€ì•ˆ í•´ê²° ë°©ë²•ë“¤</h2>
<h3 id="1-ìºì‹±ì´-í¬í•¨ëœ-ê°œì„ ëœ-api-route">1. ìºì‹±ì´ í¬í•¨ëœ ê°œì„ ëœ API Route</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// ë©”ëª¨ë¦¬ ìºì‹œ ì¶”ê°€</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> imageCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span></span><span class="code-line line-number" line="3"><span class="token class-name">  data<span class="token operator">:</span> ArrayBuffer<span class="token punctuation">;</span>
</span></span><span class="code-line line-number" line="4"><span class="token class-name">  contentType<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span></span><span class="code-line line-number" line="5"><span class="token class-name">  timestamp<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span></span><span class="code-line line-number" line="6"><span class="token class-name"><span class="token punctuation">}</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token keyword">const</span> <span class="token constant">CACHE_DURATION</span> <span class="token operator">=</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 10ë¶„ ìºì‹œ</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token constant">GET</span><span class="token punctuation">(</span>request<span class="token operator">:</span> NextRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">  <span class="token comment">// ìºì‹œ í™•ì¸ ë¡œì§ ì¶”ê°€</span>
</span><span class="code-line line-number" line="12">  <span class="token keyword">const</span> cached <span class="token operator">=</span> imageCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>imageUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">  <span class="token keyword">if</span> <span class="token punctuation">(</span>cached <span class="token operator">&amp;&amp;</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> cached<span class="token punctuation">.</span>timestamp <span class="token operator">&lt;</span> <span class="token constant">CACHE_DURATION</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NextResponse</span><span class="token punctuation">(</span>cached<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="15">      headers<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="16">        <span class="token string-property property">&#x27;Content-Type&#x27;</span><span class="token operator">:</span> cached<span class="token punctuation">.</span>contentType<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="17">        <span class="token string-property property">&#x27;Access-Control-Allow-Origin&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="18">        <span class="token string-property property">&#x27;Cache-Control&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;public, max-age=300&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="19">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="20">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="21">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="22">  
</span><span class="code-line line-number" line="23">  <span class="token comment">// fetch í›„ ìºì‹œì— ì €ì¥</span>
</span><span class="code-line line-number" line="24">  imageCache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>imageUrl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="25">    data<span class="token operator">:</span> imageBuffer<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="26">    contentType<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="27">    timestamp<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="28">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="29"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<h3 id="2-ëŒ€ì•ˆ-ë¼ì´ë¸ŒëŸ¬ë¦¬-ê³ ë ¤">2. ëŒ€ì•ˆ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê³ ë ¤</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">bash</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-bash code-highlight"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">npm</span> <span class="token function">install</span> modern-screenshot
</span></code></pre></div></div>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">import</span> <span class="token punctuation">{</span> domToJpeg <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;modern-screenshot&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> dataUrl <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">domToJpeg</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h2 id="ì„±ëŠ¥-ìµœì í™”-ë°-ì¶”ê°€-íŒ">ì„±ëŠ¥ ìµœì í™” ë° ì¶”ê°€ íŒ</h2>
<h3 id="1-html2canvas-ìµœì í™”-ì„¤ì •">1. html2canvas ìµœì í™” ì„¤ì •</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> canvas <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">html2canvas</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  useCORS<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">  allowTaint<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  scale<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">  logging<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">  backgroundColor<span class="token operator">:</span> <span class="token string">&#x27;#ffffff&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">  foreignObjectRendering<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">  imageTimeout<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="9">  <span class="token function-variable function">onclone</span><span class="token operator">:</span> <span class="token punctuation">(</span>clonedDoc<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;ë¬¸ì„œ í´ë¡  ì™„ë£Œ&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="12"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h3 id="2-ì´ë¯¸ì§€-í”„ë¦¬ë¡œë”©">2. ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// ìº¡ì²˜ ì „ ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> <span class="token function-variable function">preloadImages</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>urls<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="4">    urls<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>url <span class="token operator">=&gt;</span> 
</span><span class="code-line line-number" line="5">      <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/image-proxy?url=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
</span><span class="code-line line-number" line="6">        cache<span class="token operator">:</span> <span class="token string">&#x27;no-cache&#x27;</span> 
</span><span class="code-line line-number" line="7">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="9">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h2 id="ê²°ê³¼">ê²°ê³¼</h2>
<p>âœ… <strong>CORS ì—ëŸ¬ í•´ê²°</strong>: ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¥¼ í”„ë¡ì‹œë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ë¡œë“œ<br/>
<!-- -->âœ… <strong>html2canvas í˜¸í™˜</strong>: ìº¡ì²˜ ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™<br/>
<!-- -->âœ… <strong>ì„±ëŠ¥ ìµœì í™”</strong>: ì´ë¯¸ì§€ ìºì‹± ë° ë°˜ì‘í˜• ìµœì í™”<br/>
<!-- -->âœ… <strong>ë³´ì•ˆ ê°•í™”</strong>: í—ˆìš©ëœ ë„ë©”ì¸ë§Œ í”„ë¡ì‹œí•˜ì—¬ ë³´ì•ˆ ìœ„í—˜ ë°©ì§€<br/>
<!-- -->âœ… <strong>ê°œë°œì ê²½í—˜</strong>: ê¸°ì¡´ Image ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•œ APIë¡œ ì‰¬ìš´ ì‚¬ìš©</p>
<h2 id="ë§ˆë¬´ë¦¬">ë§ˆë¬´ë¦¬</h2>
<p>Next.jsì˜ API Routeë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜ìœ¼ë¡œ CORS ë¬¸ì œë¥¼ ê¹”ë”í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ SSR í˜¸í™˜ì„±ê³¼ ë³´ì•ˆì„ ê³ ë ¤í•œ ì„¤ê³„ë¡œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œë„ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì†”ë£¨ì…˜ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<h3 id="ê¶Œì¥-êµ¬í˜„-ìˆœì„œ">ê¶Œì¥ êµ¬í˜„ ìˆœì„œ</h3>
<ol>
<li><strong>1ë‹¨ê³„</strong>: API Route í”„ë¡ì‹œ ì—”ë“œí¬ì¸íŠ¸ ìƒì„± (10ë¶„)</li>
<li><strong>2ë‹¨ê³„</strong>: ProxyImage ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ (20ë¶„)</li>
<li><strong>3ë‹¨ê³„</strong>: ê¸°ì¡´ ì´ë¯¸ì§€ ì»´í¬ë„ŒíŠ¸ êµì²´ (5ë¶„)</li>
<li><strong>4ë‹¨ê³„</strong>: html2canvas í…ŒìŠ¤íŠ¸ ë° ìµœì í™” (15ë¶„)</li>
<li><strong>5ë‹¨ê³„</strong>: ì„±ëŠ¥ ìµœì í™” ë° ìºì‹± ì¶”ê°€ (ì„ íƒì‚¬í•­)</li>
</ol>
<p>ì´ ìˆœì„œëŒ€ë¡œ ì§„í–‰í•˜ë©´ <strong>Next.js 15ì˜ ê°•ë ¥í•œ ì„œë²„ì‚¬ì´ë“œ ê¸°ëŠ¥ì„ í™œìš©</strong>í•˜ì—¬ html2canvas CORS ë¬¸ì œë¥¼ <strong>ê°€ì¥ íš¨ìœ¨ì ìœ¼ë¡œ í•´ê²°</strong>í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>
<h3 id="í•µì‹¬-ì„±ê³¼">í•µì‹¬ ì„±ê³¼</h3>
<ul>
<li><strong>html2canvas í˜¸í™˜ì„±</strong>: ì™¸ë¶€ CDN ì´ë¯¸ì§€ê°€ í¬í•¨ëœ í™”ë©´ì„ ì„±ê³µì ìœ¼ë¡œ ìº¡ì²˜</li>
<li><strong>ì„±ëŠ¥ ìµœì í™”</strong>: ì´ë¯¸ì§€ ìºì‹±ê³¼ ë°˜ì‘í˜• ìµœì í™”ë¡œ ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ</li>
<li><strong>ë³´ì•ˆ ê°•í™”</strong>: ë„ë©”ì¸ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ë¡œ ì•…ì˜ì  ìš”ì²­ ì°¨ë‹¨</li>
<li><strong>ê°œë°œì ê²½í—˜</strong>: ê¸°ì¡´ Image ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•œ APIë¡œ ì‰¬ìš´ ë§ˆì´ê·¸ë ˆì´ì…˜</li>
</ul>
<p>ì´ ë°©ë²•ì€ html2canvasë¿ë§Œ ì•„ë‹ˆë¼ Canvas APIë¥¼ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(Fabric.js, Konva.js ë“±)ì—ì„œë„ ë™ì¼í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆì–´, í¬ë¡œìŠ¤ ë„ë©”ì¸ ì´ë¯¸ì§€ ì²˜ë¦¬ê°€ í•„ìš”í•œ ë‹¤ì–‘í•œ ìƒí™©ì—ì„œ ìœ ìš©í•  ê²ƒì…ë‹ˆë‹¤.</p>
<hr/>
<h2 id="ï¸-api-route-í”„ë¡ì‹œ-ë°©ì‹-ì£¼ì˜ì‚¬í•­">âš ï¸ API Route í”„ë¡ì‹œ ë°©ì‹ ì£¼ì˜ì‚¬í•­</h2>
<p>API Route í”„ë¡ì‹œëŠ” html2canvas CORS ë¬¸ì œë¥¼ í•´ê²°í•˜ì§€ë§Œ, <strong>ì„œë²„ ë¦¬ì†ŒìŠ¤</strong> ì¸¡ë©´ì—ì„œ ê³ ë ¤í•´ì•¼ í•  ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤:</p>
<h3 id="ï¸-ì„œë²„-ë¦¬ì†ŒìŠ¤-ë¬¸ì œ">ğŸ–¼ï¸ ì„œë²„ ë¦¬ì†ŒìŠ¤ ë¬¸ì œ</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">html</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-html code-highlight"><code class="language-html code-highlight"><span class="code-line line-number" line="1"><span class="token comment">&lt;!-- Next.js Imageê°€ ìƒì„±í•˜ëŠ” HTML --&gt;</span>
</span><span class="code-line line-number" line="2"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/api/image-proxy?url=...&amp;w=256 256w,
</span></span></span><span class="code-line line-number" line="3"><span class="token tag"><span class="token attr-value">             /api/image-proxy?url=...&amp;w=384 384w,
</span></span></span><span class="code-line line-number" line="4"><span class="token tag"><span class="token attr-value">             /api/image-proxy?url=...&amp;w=640 640w<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</span></code></pre></div></div>
<p><strong>ë¬¸ì œì </strong>:</p>
<ul>
<li>ëª¨ë“  ì´ë¯¸ì§€ ìš”ì²­ì´ ì„œë²„ë¥¼ ê±°ì³ê° â†’ <strong>ì„œë²„ ë¶€í•˜ ì¦ê°€</strong></li>
<li>ì—¬ëŸ¬ í¬ê¸°ì˜ ì´ë¯¸ì§€ê°€ ì„œë²„ ìºì‹œì— ì €ì¥ â†’ <strong>ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€</strong></li>
<li>Vercel/Netlify ë“±ì—ì„œ <strong>Function timeout</strong> ë°œìƒ ê°€ëŠ¥</li>
</ul>
<h3 id="-í•´ê²°-ë°©ë²•">ğŸ’¡ í•´ê²° ë°©ë²•</h3>
<h4 id="1-ì ê·¹ì ì¸-ìºì‹œ-ì •ì±…">1. ì ê·¹ì ì¸ ìºì‹œ ì •ì±…</h4>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NextResponse</span><span class="token punctuation">(</span>imageBuffer<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  headers<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token string-property property">&#x27;Cache-Control&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;public, max-age=31536000, immutable&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">    <span class="token string-property property">&#x27;Access-Control-Allow-Origin&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h4 id="2-cdn-í™œìš©">2. CDN í™œìš©</h4>
<ul>
<li>CloudFlare, AWS CloudFrontë¡œ ì„œë²„ ë¶€í•˜ ë¶„ì‚°</li>
<li>ì´ë¯¸ì§€ í¬ê¸° ì œí•œ (ìµœëŒ€ 5MB)</li>
<li>í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë„ë©”ì¸ ê´€ë¦¬</li>
</ul>
<blockquote>
<p><strong>ğŸ“ Next.js Image ì»´í¬ë„ŒíŠ¸ ê¸°ìˆ ì  ì œí•œì‚¬í•­</strong>: <code>unoptimized</code>ì™€ <code>loader</code> ì¶©ëŒ ë¬¸ì œ, SVG ì²˜ë¦¬ ë°©ë²• ë“±ì€ <a href="./2025-08-19-nextjs-15-image-optimization-guide">ë‹¤ìŒ ê¸€</a>ì—ì„œ ìƒì„¸íˆ ë‹¤ë£¹ë‹ˆë‹¤.</p>
</blockquote>
<h2 id="-ì„±ëŠ¥-ìµœì í™”-ë°-ì¶”ê°€-íŒ">ğŸš€ ì„±ëŠ¥ ìµœì í™” ë° ì¶”ê°€ íŒ</h2>
<h3 id="1-html2canvas-ìµœì í™”-ì„¤ì •-1">1. html2canvas ìµœì í™” ì„¤ì •</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> canvas <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">html2canvas</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  useCORS<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">  allowTaint<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  scale<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">  logging<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">  backgroundColor<span class="token operator">:</span> <span class="token string">&#x27;#ffffff&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">  foreignObjectRendering<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">  imageTimeout<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="9">  <span class="token function-variable function">onclone</span><span class="token operator">:</span> <span class="token punctuation">(</span>clonedDoc<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;ë¬¸ì„œ í´ë¡  ì™„ë£Œ&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="12"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h3 id="2-ì´ë¯¸ì§€-í”„ë¦¬ë¡œë”©-1">2. ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// ìº¡ì²˜ ì „ ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> <span class="token function-variable function">preloadImages</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>urls<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="4">    urls<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>url <span class="token operator">=&gt;</span> 
</span><span class="code-line line-number" line="5">      <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/image-proxy?url=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
</span><span class="code-line line-number" line="6">        cache<span class="token operator">:</span> <span class="token string">&#x27;no-cache&#x27;</span> 
</span><span class="code-line line-number" line="7">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="9">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h3 id="3-ë©”ëª¨ë¦¬-ìºì‹œ-ì¶”ê°€-ê³ ê¸‰">3. ë©”ëª¨ë¦¬ ìºì‹œ ì¶”ê°€ (ê³ ê¸‰)</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="ì½”ë“œ ë³µì‚¬"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>ë³µì‚¬</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// ë©”ëª¨ë¦¬ ìºì‹œ ì¶”ê°€</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> imageCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span></span><span class="code-line line-number" line="3"><span class="token class-name">  data<span class="token operator">:</span> ArrayBuffer<span class="token punctuation">;</span>
</span></span><span class="code-line line-number" line="4"><span class="token class-name">  contentType<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span></span><span class="code-line line-number" line="5"><span class="token class-name">  timestamp<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span></span><span class="code-line line-number" line="6"><span class="token class-name"><span class="token punctuation">}</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token keyword">const</span> <span class="token constant">CACHE_DURATION</span> <span class="token operator">=</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 10ë¶„ ìºì‹œ</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token constant">GET</span><span class="token punctuation">(</span>request<span class="token operator">:</span> NextRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">  <span class="token comment">// ìºì‹œ í™•ì¸ ë¡œì§ ì¶”ê°€</span>
</span><span class="code-line line-number" line="12">  <span class="token keyword">const</span> cached <span class="token operator">=</span> imageCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>imageUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">  <span class="token keyword">if</span> <span class="token punctuation">(</span>cached <span class="token operator">&amp;&amp;</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> cached<span class="token punctuation">.</span>timestamp <span class="token operator">&lt;</span> <span class="token constant">CACHE_DURATION</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NextResponse</span><span class="token punctuation">(</span>cached<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="15">      headers<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="16">        <span class="token string-property property">&#x27;Content-Type&#x27;</span><span class="token operator">:</span> cached<span class="token punctuation">.</span>contentType<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="17">        <span class="token string-property property">&#x27;Access-Control-Allow-Origin&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;*&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="18">        <span class="token string-property property">&#x27;Cache-Control&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;public, max-age=300&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="19">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="20">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="21">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="22">  
</span><span class="code-line line-number" line="23">  <span class="token comment">// fetch í›„ ìºì‹œì— ì €ì¥</span>
</span><span class="code-line line-number" line="24">  imageCache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>imageUrl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="25">    data<span class="token operator">:</span> imageBuffer<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="26">    contentType<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="27">    timestamp<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="28">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="29"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<h3 id="-ë”-ìì„¸í•œ-ì´ë¯¸ì§€-ìµœì í™”-ê°€ì´ë“œ">ğŸ“š ë” ìì„¸í•œ ì´ë¯¸ì§€ ìµœì í™” ê°€ì´ë“œ</h3>
<p>Next.js 15ì˜ ê³µì‹ ê¶Œì¥ì‚¬í•­ê³¼ ë” ìì„¸í•œ ì„±ëŠ¥ ë¹„êµë¥¼ ì›í•œë‹¤ë©´ **<a href="/posts/react/2025-08-19-nextjs-15-image-optimization-guide">Next.js 15 ì´ë¯¸ì§€ ìµœì í™” ì™„ì „ ê°€ì´ë“œ</a>**ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.</p></div></article></div><!--$--><!--/$--><!--$--><!--/$--></div></main><footer class="border-t py-8 md:py-12"><div class="container max-w-4xl mx-auto px-4"><div class="flex flex-col items-center justify-center space-y-4 text-center"><div class="flex items-center space-x-4 text-sm"><a href="/rss.xml" class="text-muted-foreground hover:text-primary transition-colors" target="_blank" rel="noopener noreferrer">RSS</a><span class="text-muted-foreground">â€¢</span><a href="/feed.json" class="text-muted-foreground hover:text-primary transition-colors" target="_blank" rel="noopener noreferrer">JSON Feed</a></div><p class="text-sm text-muted-foreground">Â© 2025.06 ~ <!-- -->2025<!-- -->.<!-- -->8<!-- --> Blog</p></div></div></footer></div><script src="/_next/static/chunks/webpack-56d9518731895b2c.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[61483,[\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9318\",\"static/chunks/9318-102c786377c953a3.js\",\"7177\",\"static/chunks/app/layout-cc2413b4ac7fd51b.js\"],\"ThemeProvider\"]\n3:I[12708,[\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9318\",\"static/chunks/9318-102c786377c953a3.js\",\"7177\",\"static/chunks/app/layout-cc2413b4ac7fd51b.js\"],\"Analytics\"]\n4:I[12708,[\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9318\",\"static/chunks/9318-102c786377c953a3.js\",\"7177\",\"static/chunks/app/layout-cc2413b4ac7fd51b.js\"],\"GoogleAds\"]\n5:I[6874,[\"6249\",\"static/chunks/cb15b0f3-4f54b17909709afc.js\",\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9522\",\"static/chunks/9522-efe1b27bdbdfccd2.js\",\"6156\",\"static/chunks/app/posts/%5B...slug%5D/page-533962adf6041fb8.js\"],\"\"]\n6:I[66688,[\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9318\",\"static/chunks/9318-102c786377c953a3.js\",\"7177\",\"static/chunks/app/layout-cc2413b4ac7fd51b.js\"],\"ThemeToggle\"]\n7:I[87555,[],\"\"]\n8:I[31295,[],\"\"]\na:I[59665,[],\"MetadataBoundary\"]\nc:I[59665,[],\"OutletBoundary\"]\nf:I[74911,[],\"AsyncMetadataOutlet\"]\n11:I[59665,[],\"ViewportBoundary\"]\n13:I[26614,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/0a38fac37be32038.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"biUM6TXr8YHgyoF-Rc1T-\",\"p\":\"\",\"c\":[\"\",\"posts\",\"react\",\"2025-08-19-html2canvas_cors_guide\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"react/2025-08-19-html2canvas_cors_guide\",\"c\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/0a38fac37be32038.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_e8ce0c antialiased min-h-screen\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"div\",null,{\"className\":\"flex min-h-screen flex-col\",\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"$L4\",null,{}],[\"$\",\"header\",null,{\"className\":\"sticky top-0 z-50 w-full border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/80\",\"children\":[\"$\",\"div\",null,{\"className\":\"container max-w-4xl mx-auto flex h-16 items-center justify-between px-4\",\"children\":[[\"$\",\"$L5\",null,{\"href\":\"/\",\"className\":\"flex items-center space-x-2 text-xl font-semibold transition-colors hover:text-primary\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-file-text h-6 w-6 text-primary\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1rqfz7\",{\"d\":\"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\"}],[\"$\",\"path\",\"tnqrlb\",{\"d\":\"M14 2v4a2 2 0 0 0 2 2h4\"}],[\"$\",\"path\",\"b1mrlr\",{\"d\":\"M10 9H8\"}],[\"$\",\"path\",\"t4e002\",{\"d\":\"M16 13H8\"}],[\"$\",\"path\",\"z1uh3a\",{\"d\":\"M16 17H8\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Blog\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-6\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"flex items-center space-x-6\",\"children\":[[\"$\",\"$L5\",null,{\"href\":\"/\",\"className\":\"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground\",\"children\":\"í™ˆ\"}],[\"$\",\"$L5\",null,{\"href\":\"/tags\",\"className\":\"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground\",\"children\":\"íƒœê·¸\"}],[\"$\",\"$L5\",null,{\"href\":\"/about\",\"className\":\"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground\",\"children\":\"ì†Œê°œ\"}]]}],[\"$\",\"a\",null,{\"href\":\"https://github.com/leeduhan\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"text-muted-foreground transition-colors hover:text-foreground\",\"aria-label\":\"GitHub\",\"children\":[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-github h-5 w-5\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"tonef\",{\"d\":\"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\"}],[\"$\",\"path\",\"9comsn\",{\"d\":\"M9 18c-4.51 2-5-2-7-2\"}],\"$undefined\"]}]}],[\"$\",\"$L6\",null,{}]]}]]}]}],[\"$\",\"main\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"div\",null,{\"className\":\"container max-w-4xl mx-auto px-4 py-8\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}],[\"$\",\"footer\",null,{\"className\":\"border-t py-8 md:py-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"container max-w-4xl mx-auto px-4\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center justify-center space-y-4 text-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-4 text-sm\",\"children\":[[\"$\",\"a\",null,{\"href\":\"/rss.xml\",\"className\":\"text-muted-foreground hover:text-primary transition-colors\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"children\":\"RSS\"}],[\"$\",\"span\",null,{\"className\":\"text-muted-foreground\",\"children\":\"â€¢\"}],[\"$\",\"a\",null,{\"href\":\"/feed.json\",\"className\":\"text-muted-foreground hover:text-primary transition-colors\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"children\":\"JSON Feed\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-muted-foreground\",\"children\":[\"Â© 2025.06 ~ \",2025,\".\",8,\" Blog\"]}]]}]}]}]]}]}]}]}]]}],{\"children\":[\"posts\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"react/2025-08-19-html2canvas_cors_guide\",\"c\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L9\",[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],null,[\"$\",\"$Lc\",null,{\"children\":[\"$Ld\",\"$Le\",[\"$\",\"$Lf\",null,{\"promise\":\"$@10\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"s_8oDB3oCVzKAU2R8l0zm\",{\"children\":[[\"$\",\"$L11\",null,{\"children\":\"$L12\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$13\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"14:\"$Sreact.suspense\"\n15:I[74911,[],\"AsyncMetadata\"]\nb:[\"$\",\"$14\",null,{\"fallback\":null,\"children\":[\"$\",\"$L15\",null,{\"promise\":\"$@16\"}]}]\n"])</script><script>self.__next_f.push([1,"9:[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜\\\",\\\"description\\\":\\\"html2canvas ì‚¬ìš© ì‹œ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ Next.js API Route í”„ë¡ì‹œë¡œ ì™„ë²½ í•´ê²°í•œ ê³¼ì •ê³¼ ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ë“¤ì„ ìƒì„¸íˆ ì†Œê°œí•©ë‹ˆë‹¤.\\\",\\\"image\\\":[\\\"https://leeduhan.github.io/og-image.jpg\\\"],\\\"author\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"zeke\\\"},\\\"publisher\\\":{\\\"@type\\\":\\\"Organization\\\",\\\"name\\\":\\\"Blog\\\",\\\"logo\\\":{\\\"@type\\\":\\\"ImageObject\\\",\\\"url\\\":\\\"https://leeduhan.github.io/logo.png\\\"}},\\\"url\\\":\\\"https://leeduhan.github.io/posts/react/2025-08-19-html2canvas_cors_guide\\\",\\\"datePublished\\\":\\\"2025-08-19\\\",\\\"dateModified\\\":\\\"2025-08-19\\\",\\\"keywords\\\":\\\"Next.js, html2canvas, CORS, React, TypeScript, ì´ë¯¸ì§€ í”„ë¡ì‹œ\\\",\\\"articleSection\\\":\\\"Technology\\\",\\\"inLanguage\\\":\\\"ko-KR\\\"}\"}}],[\"$\",\"div\",null,{\"className\":\"max-w-3xl mx-auto space-y-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"pt-4\",\"children\":[\"$\",\"$L5\",null,{\"href\":\"/\",\"className\":\"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left h-4 w-4\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°\"}]]}]}],[\"$\",\"article\",null,{\"className\":\"space-y-8\",\"children\":[[\"$\",\"header\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-5xl font-bold tracking-tight leading-tight\",\"children\":\"Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜\"}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center gap-6 text-sm text-muted-foreground py-4\",\"children\":[[\"$\",\"time\",null,{\"dateTime\":\"2025-08-19\",\"className\":\"flex items-center gap-2\",\"children\":[[\"$\",\"span\",null,{\"children\":\"ğŸ“…\"}],\"2025ë…„ 8ì›” 19ì¼\"]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center gap-2\",\"children\":[[\"$\",\"span\",null,{\"children\":\"ğŸ·ï¸\"}],[[\"$\",\"$L5\",\"Next.js\",{\"href\":\"/tags/nextjs\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"Next.js\"}],[\"$\",\"$L5\",\"html2canvas\",{\"href\":\"/tags/html2canvas\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"html2canvas\"}],[\"$\",\"$L5\",\"CORS\",{\"href\":\"/tags/cors\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"CORS\"}],[\"$\",\"$L5\",\"React\",{\"href\":\"/tags/react\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"React\"}],[\"$\",\"$L5\",\"TypeScript\",{\"href\":\"/tags/typescript\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"TypeScript\"}],[\"$\",\"$L5\",\"ì´ë¯¸ì§€ í”„ë¡ì‹œ\",{\"href\":\"/tags/image-proxy\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"ì´ë¯¸ì§€ í”„ë¡ì‹œ\"}]]]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-accent/50 rounded-lg p-6 border-l-4 border-primary\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-lg leading-relaxed italic text-muted-foreground\",\"children\":\"html2canvas ì‚¬ìš© ì‹œ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ Next.js API Route í”„ë¡ì‹œë¡œ ì™„ë²½ í•´ê²°í•œ ê³¼ì •ê³¼ ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ë“¤ì„ ìƒì„¸íˆ ì†Œê°œí•©ë‹ˆë‹¤.\"}]}]]}],[\"$\",\"div\",null,{\"className\":\"notion-content\",\"children\":\"$L17\"}]]}]]}]]\n"])</script><script>self.__next_f.push([1,"e:null\n"])</script><script>self.__next_f.push([1,"18:I[18199,[\"6249\",\"static/chunks/cb15b0f3-4f54b17909709afc.js\",\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9522\",\"static/chunks/9522-efe1b27bdbdfccd2.js\",\"6156\",\"static/chunks/app/posts/%5B...slug%5D/page-533962adf6041fb8.js\"],\"CodeBlock\"]\n19:I[91349,[\"6249\",\"static/chunks/cb15b0f3-4f54b17909709afc.js\",\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9522\",\"static/chunks/9522-efe1b27bdbdfccd2.js\",\"6156\",\"static/chunks/app/posts/%5B...slug%5D/page-533962adf6041fb8.js\"],\"Mermaid\"]\n"])</script><script>self.__next_f.push([1,"17:[[\"$\",\"h1\",null,{\"id\":\"nextjs-15ì—ì„œ-html2canvas-cors-ì—ëŸ¬-í•´ê²°í•˜ê¸°-ì´ë¯¸ì§€-í”„ë¡ì‹œ-ì†”ë£¨ì…˜\",\"children\":\"Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"html2canvasë¥¼ ì‚¬ìš©í•´ í™”ë©´ ìº¡ì²˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë‹¤ ë³´ë©´ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ ìì£¼ ë§Œë‚˜ê²Œ ë©ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ì—¬ëŸ¬ í•´ê²° ë°©ë²•ì„ ë¹„êµ ë¶„ì„í•˜ê³ , ì‹¤ì œë¡œ ì„±ê³µí•œ Next.js API Route í”„ë¡ì‹œ ì†”ë£¨ì…˜ì„ ìƒì„¸íˆ ê³µìœ í•©ë‹ˆë‹¤.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"-ëª©ì°¨\",\"children\":\"ğŸ“‹ ëª©ì°¨\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9%EA%B3%BC-%EC%9B%90%EC%9D%B8\",\"children\":\"ë¬¸ì œ ìƒí™©ê³¼ ì›ì¸\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%EB%B9%84%EA%B5%90\",\"children\":\"í•´ê²° ë°©ë²• ë¹„êµ\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#%EC%8B%A4%EC%A0%9C-%EC%84%B1%EA%B3%B5%ED%95%9C-%ED%95%B4%EA%B2%B0%EC%B1%85-nextjs-%EC%9D%B4%EB%AF%B8%EC%A7%80-%ED%94%84%EB%A1%9D%EC%8B%9C\",\"children\":\"ì‹¤ì œ ì„±ê³µí•œ í•´ê²°ì±…: Next.js ì´ë¯¸ì§€ í”„ë¡ì‹œ\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#%EB%8C%80%EC%95%88-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95%EB%93%A4\",\"children\":\"ëŒ€ì•ˆ í•´ê²° ë°©ë²•ë“¤\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94-%EB%B0%8F-%EC%B6%94%EA%B0%80-%ED%8C%81\",\"children\":\"ì„±ëŠ¥ ìµœì í™” ë° ì¶”ê°€ íŒ\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"ë¬¸ì œ-ìƒí™©ê³¼-ì›ì¸\",\"children\":\"ë¬¸ì œ ìƒí™©ê³¼ ì›ì¸\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ html2canvasë¥¼ ì‚¬ìš©í•´ í™”ë©´ì„ ìº¡ì²˜í•˜ë ¤ê³  í–ˆëŠ”ë° ë‹¤ìŒê³¼ ê°™ì€ CORS ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"code-highlight\",\"data-language\":\"\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":\"Access to image at 'https://cdn.example.com/images/my-image.svg' \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":\"from origin 'http://localhost:3001' has been blocked by CORS policy: \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"No 'Access-Control-Allow-Origin' header is present on the requested resource.\\n\"}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"ê·¼ë³¸-ì›ì¸\",\"children\":\"ê·¼ë³¸ ì›ì¸\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"html2canvasì˜ ì‘ë™ ë°©ì‹\"}],\": DOMì„ Canvasë¡œ ê·¸ë¦¬ëŠ” ê³¼ì •ì—ì„œ Canvas APIë¥¼ ì‚¬ìš©\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Same-Origin Policy\"}],\": ë¸Œë¼ìš°ì €ì˜ ë³´ì•ˆ ì •ì±…ìœ¼ë¡œ ì¸í•œ í¬ë¡œìŠ¤ ë„ë©”ì¸ ì´ë¯¸ì§€ ì ‘ê·¼ ì œí•œ\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ì™¸ë¶€ CDN ì´ë¯¸ì§€\"}],\": CORS í—¤ë”ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ” ì™¸ë¶€ ë„ë©”ì¸ ì´ë¯¸ì§€\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ë¸Œë¼ìš°ì € ìºì‹±\"}],\": ì²« ë²ˆì§¸ ìš”ì²­ ì‹œ CORS í—¤ë”ê°€ ì—†ìœ¼ë©´ ìºì‹œëœ ì´ë¯¸ì§€ë„ ë™ì¼í•œ ë¬¸ì œ ë°œìƒ\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"í•´ê²°-ë°©ë²•-ë¹„êµ\",\"children\":\"í•´ê²° ë°©ë²• ë¹„êµ\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ì—¬ëŸ¬ í•´ê²° ë°©ë²•ì„ ì‹œë„í•´ë³¸ ê²°ê³¼, ê°ê°ì˜ ì¥ë‹¨ì ì„ ì •ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\"}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"ìˆœìœ„\"}],[\"$\",\"th\",null,{\"children\":\"ë°©ë²•\"}],[\"$\",\"th\",null,{\"children\":\"ë‚œì´ë„\"}],[\"$\",\"th\",null,{\"children\":\"íš¨ê³¼\"}],[\"$\",\"th\",null,{\"children\":\"ì ìš© ë²”ìœ„\"}],[\"$\",\"th\",null,{\"children\":\"ê¶Œì¥ë„\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"ğŸ†\"}],[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Next.js API Route í”„ë¡ì‹œ\"}]}],[\"$\",\"td\",null,{\"children\":\"â­â­\"}],[\"$\",\"td\",null,{\"children\":\"â­â­â­â­â­\"}],[\"$\",\"td\",null,{\"children\":\"í”„ë¡œë•ì…˜\"}],[\"$\",\"td\",null,{\"children\":[\"âœ… \",[\"$\",\"strong\",null,{\"children\":\"ìµœê³ \"}]]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"ğŸ¥ˆ\"}],[\"$\",\"td\",null,{\"children\":\"Next.js Image + ì»¤ìŠ¤í…€ ë¡œë”\"}],[\"$\",\"td\",null,{\"children\":\"â­â­â­\"}],[\"$\",\"td\",null,{\"children\":\"â­â­â­â­â­\"}],[\"$\",\"td\",null,{\"children\":\"ê³ ê¸‰\"}],[\"$\",\"td\",null,{\"children\":\"âœ… ê¶Œì¥\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"ğŸ¥‰\"}],[\"$\",\"td\",null,{\"children\":\"next.config.js Rewrites\"}],[\"$\",\"td\",null,{\"children\":\"â­\"}],[\"$\",\"td\",null,{\"children\":\"â­â­â­â­\"}],[\"$\",\"td\",null,{\"children\":\"ê°„í¸\"}],[\"$\",\"td\",null,{\"children\":\"âš ï¸ ì œí•œì \"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"4\"}],[\"$\",\"td\",null,{\"children\":\"í´ë¼ì´ì–¸íŠ¸ ìµœì í™”\"}],[\"$\",\"td\",null,{\"children\":\"â­\"}],[\"$\",\"td\",null,{\"children\":\"â­â­â­\"}],[\"$\",\"td\",null,{\"children\":\"ì¦‰ì‹œ\"}],[\"$\",\"td\",null,{\"children\":\"âš ï¸ ì„ì‹œë°©í¸\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"5\"}],[\"$\",\"td\",null,{\"children\":\"Middleware CORS\"}],[\"$\",\"td\",null,{\"children\":\"â­â­â­\"}],[\"$\",\"td\",null,{\"children\":\"â­â­â­\"}],[\"$\",\"td\",null,{\"children\":\"ì „ì—­\"}],[\"$\",\"td\",null,{\"children\":\"âŒ ë³µì¡í•¨\"}]]}]]}]]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"1-í´ë¼ì´ì–¸íŠ¸-ìµœì í™”-ì¦‰ì‹œ-ì ìš©-ê°€ëŠ¥-ï¸\",\"children\":\"1. í´ë¼ì´ì–¸íŠ¸ ìµœì í™” (ì¦‰ì‹œ ì ìš© ê°€ëŠ¥) âš ï¸\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ê°€ì¥ ë¹ ë¥´ê²Œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì„ì‹œ í•´ê²°ì±…ì…ë‹ˆë‹¤:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" html2canvas \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'html2canvas'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"captureElement\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ì´ë¯¸ì§€ë“¤ì„ ìºì‹œ ë¬´íš¨í™”ë¡œ ë¯¸ë¦¬ ë¡œë“œ\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" images \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" document\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"querySelectorAll\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'img'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"Promise\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"all\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"Array\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"from\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"images\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"img \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fetch\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"img\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"src \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"?t=\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"Date\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"now\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"        cache\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'no-cache'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"        mode\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'cors'\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// html2canvas ì‹¤í–‰\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" canvas \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"html2canvas\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"elementRef\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"current\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"    useCORS\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"    allowTaint\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"    scale\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"    logging\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"    foreignObjectRendering\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" canvas\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"toDataURL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'image/png'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ì¥ì \"}],\": ì¦‰ì‹œ ì ìš© ê°€ëŠ¥, ë³„ë„ ì„œë²„ ì„¤ì • ë¶ˆí•„ìš”\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"strong\",null,{\"children\":\"ë‹¨ì \"}],\": ë¸Œë¼ìš°ì € ìºì‹± ë¬¸ì œë¡œ ë¶ˆì•ˆì •, ê·¼ë³¸ì  í•´ê²°ì±… ì•„ë‹˜\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"2-nextconfigjs-rewrites-ê°„ë‹¨í•œ-í”„ë¡ì‹œ-ï¸\",\"children\":\"2. next.config.js Rewrites (ê°„ë‹¨í•œ í”„ë¡ì‹œ) âš ï¸\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ì„¤ì •ë§Œìœ¼ë¡œ ê°„ë‹¨íˆ í•´ê²°í•˜ëŠ” ë°©ë²•:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// next.config.js\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token doc-comment comment\",\"children\":[\"/** \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"@type\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"NextConfig\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" */\"]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" nextConfig \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"rewrites\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"source\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/api/images/:path*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"destination\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'https://external-domain.com/:path*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"images\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"remotePatterns\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"protocol\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'https'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"hostname\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'**'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"module\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"exports\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" nextConfig\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ì¥ì \"}],\": ì„¤ì •ë§Œìœ¼ë¡œ í•´ê²°, Next.js ë‚´ì¥ ê¸°ëŠ¥ í™œìš©\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"strong\",null,{\"children\":\"ë‹¨ì \"}],\": íŠ¹ì • ë„ë©”ì¸ì—ë§Œ ì œí•œì , ë™ì  URL ì²˜ë¦¬ ì–´ë ¤ì›€\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"3-nextjs-image--ì»¤ìŠ¤í…€-ë¡œë”-ê¶Œì¥-\",\"children\":\"3. Next.js Image + ì»¤ìŠ¤í…€ ë¡œë” (ê¶Œì¥) âœ…\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Next.js Image ì»´í¬ë„ŒíŠ¸ì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ì„ í™œìš©:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// components/ProxyImage.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'use client'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" Image \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next/image'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"customLoader\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" src\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" width\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" quality \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  src\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  width\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  quality\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ì™¸ë¶€ ë„ë©”ì¸ ì´ë¯¸ì§€ëŠ” í”„ë¡ì‹œë¥¼ í†µí•´ ë¡œë“œ\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"src\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"startsWith\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'http'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"src\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"includes\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"window\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"location\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"hostname\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/api/proxy-image?url=\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"encodeURIComponent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"src\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\u0026w=\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"width\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\u0026q=\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"quality \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"75\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" src\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"ProxyImage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"props\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"Image\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"      loader\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"customLoader\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"      crossOrigin\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"anonymous\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"...\"}],\"props\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ì¥ì \"}],\": ìë™ ìµœì í™”, WebP ë³€í™˜, ë ˆì´ì§€ ë¡œë”©, ë°˜ì‘í˜• ì§€ì›\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"strong\",null,{\"children\":\"ë‹¨ì \"}],\": Next.js Image API í•™ìŠµ í•„ìš”, ì•½ê°„ ë³µì¡í•¨\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"ì‹¤ì œ-ì„±ê³µí•œ-í•´ê²°ì±…-nextjs-ì´ë¯¸ì§€-í”„ë¡ì‹œ\",\"children\":\"ì‹¤ì œ ì„±ê³µí•œ í•´ê²°ì±…: Next.js ì´ë¯¸ì§€ í”„ë¡ì‹œ\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"ì—¬ëŸ¬ í•´ê²° ë°©ë²•ì„ ì‹œë„í•œ ê²°ê³¼, \",[\"$\",\"strong\",null,{\"children\":\"Next.js API Routeë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ í”„ë¡ì‹œ\"}],\" ë°©ì‹ì´ ê°€ì¥ ì•ˆì •ì ì´ê³  íš¨ê³¼ì ì¸ ì†”ë£¨ì…˜ì´ì—ˆìŠµë‹ˆë‹¤. ì´ ë°©ë²•ìœ¼ë¡œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì™„ì „íˆ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"í•µì‹¬-ì•„ì´ë””ì–´\",\"children\":\"í•µì‹¬ ì•„ì´ë””ì–´\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šê³ , Next.js ì„œë²„ë¥¼ ê²½ìœ í•´ì„œ ì´ë¯¸ì§€ë¥¼ í”„ë¡ì‹œí•˜ì—¬ CORS í—¤ë”ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤:\"}],\"\\n\",[\"$\",\"$L19\",null,{\"chart\":\"sequenceDiagram\\n    participant Browser as Browser\\n    participant API as Next.js API Route\\n    participant CDN as External CDN\\n\\n    Browser-\u003e\u003eAPI: Image Request (/api/image-proxy?url=...)\\n    Note over API: Prepare CORS Headers\\n    API-\u003e\u003eCDN: Fetch External Image\\n    CDN--\u003e\u003eAPI: Image Data Response\\n    Note over API: Add CORS Headers\\n    API--\u003e\u003eBrowser: Image + CORS Headers\\n    Note over Browser: html2canvas can use\u003cbr/\u003ewithout CORS issues\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"1ë‹¨ê³„-api-route-í”„ë¡ì‹œ-ì—”ë“œí¬ì¸íŠ¸-ìƒì„±\",\"children\":\"1ë‹¨ê³„: API Route í”„ë¡ì‹œ ì—”ë“œí¬ì¸íŠ¸ ìƒì„±\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ê°€ì¥ í•µì‹¬ì´ ë˜ëŠ” ì„œë²„ì‚¬ì´ë“œ í”„ë¡ì‹œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// app/api/image-proxy/route.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" NextRequest\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" NextResponse \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next/server'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GET\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"request\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" NextRequest\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" searchParams \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"URL\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"request\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" imageUrl \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" searchParams\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"get\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'url'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"imageUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" NextResponse\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"json\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" error\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'URL parameter is required'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" status\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"400\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"try\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ì™¸ë¶€ ì´ë¯¸ì§€ URL ìœ íš¨ì„± ê²€ì‚¬\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" url \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"URL\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"decodeURIComponent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"imageUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":\"    \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// í—ˆìš©ëœ ë„ë©”ì¸ë§Œ í”„ë¡ì‹œ (ë³´ì•ˆìƒ ì¤‘ìš”)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" allowedDomains \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'cdn.example.com'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'assets.mysite.com'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'images.service.com'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":\"    \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"allowedDomains\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"includes\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"hostname\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" NextResponse\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"json\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" error\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Domain not allowed'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" status\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"403\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"27\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ì™¸ë¶€ ì´ë¯¸ì§€ fetch\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"28\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" response \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fetch\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"decodeURIComponent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"imageUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"29\",\"children\":[\"      headers\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"30\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'User-Agent'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Mozilla/5.0 (compatible; NextJS Image Proxy)'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"31\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"32\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"33\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"34\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"ok\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"35\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" NextResponse\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"json\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"36\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" error\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"Failed to fetch image: \"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"status\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"37\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" status\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"status \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"38\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"39\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"40\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"41\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" imageBuffer \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"arrayBuffer\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"42\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" contentType \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"headers\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"get\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'content-type'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'image/jpeg'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"43\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"44\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ğŸ”‘ í•µì‹¬: CORS í—¤ë”ì™€ í•¨ê»˜ ì´ë¯¸ì§€ ë°˜í™˜\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"45\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"NextResponse\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"imageBuffer\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"46\",\"children\":[\"      headers\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"47\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Content-Type'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" contentType\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"48\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Cache-Control'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'public, max-age=31536000, immutable'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"49\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Access-Control-Allow-Origin'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"50\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Access-Control-Allow-Methods'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'GET'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"51\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Access-Control-Allow-Headers'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Content-Type'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"52\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"53\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"54\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"catch\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"error\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"55\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Image proxy error:'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" error\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"56\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" NextResponse\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"json\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" error\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Failed to proxy image'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" status\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"500\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"57\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"58\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"2ë‹¨ê³„-proxyimage-ì»´í¬ë„ŒíŠ¸-êµ¬í˜„\",\"children\":\"2ë‹¨ê³„: ProxyImage ì»´í¬ë„ŒíŠ¸ êµ¬í˜„\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ì™¸ë¶€ ì´ë¯¸ì§€ë¥¼ ìë™ìœ¼ë¡œ í”„ë¡ì‹œë¥¼ í†µí•´ ë¡œë“œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“­ë‹ˆë‹¤:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// components/ProxyImage.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'use client'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" Image\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" ImageLoader\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" ImageProps \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next/image'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" useState \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'react'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ì™¸ë¶€ ë„ë©”ì¸ ì´ë¯¸ì§€ì¸ì§€ í™•ì¸ (SSR ì•ˆì „)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" isExternalImage \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"src\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"boolean\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"try\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" url \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"URL\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"src\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"protocol \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'http:'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"protocol \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'https:'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"catch\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ğŸ”‘ í•µì‹¬: CORS ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ì»¤ìŠ¤í…€ ë¡œë”\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" corsProxyLoader\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"ImageLoader\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" src\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" width\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" quality \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ì™¸ë¶€ ë„ë©”ì¸ ì´ë¯¸ì§€ë©´ í”„ë¡ì‹œë¥¼ í†µí•´ ë¡œë“œ\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"isExternalImage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"src\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/api/image-proxy?url=\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"encodeURIComponent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"src\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\u0026w=\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"width\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\u0026q=\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"quality \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"75\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" src\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ë‚´ë¶€ ì´ë¯¸ì§€ëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš©\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"interface\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ProxyImageProps\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"extends\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"Omit\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"ImageProps\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'loader'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"27\",\"children\":[\"  fallbackSrc\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"28\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"29\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"30\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"ProxyImage\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" fallbackSrc\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" onError\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"...\"}],\"props \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" ProxyImageProps\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"31\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"error\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" setError\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useState\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"32\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"33\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"handleError\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" React\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"SyntheticEvent\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"HTMLImageElement\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"34\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"setError\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"35\",\"children\":[\"    onError\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?.\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"36\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"37\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"38\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ì—ëŸ¬ ì‹œ fallback ì´ë¯¸ì§€ í‘œì‹œ\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"39\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"error \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" fallbackSrc\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"40\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"41\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"Image\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"42\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"...\"}],\"props\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"43\",\"children\":[\"        src\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"fallbackSrc\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"44\",\"children\":[\"        loader\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"corsProxyLoader\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"45\",\"children\":[\"        crossOrigin\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"anonymous\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"46\",\"children\":[\"        onError\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"handleError\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"47\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"48\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"49\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"50\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"51\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"52\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"Image\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"53\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"...\"}],\"props\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"54\",\"children\":[\"      loader\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"corsProxyLoader\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"55\",\"children\":[\"      crossOrigin\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"anonymous\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"56\",\"children\":[\"      onError\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"handleError\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"57\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"58\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"59\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"3ë‹¨ê³„-ì»´í¬ë„ŒíŠ¸-êµì²´\",\"children\":\"3ë‹¨ê³„: ì»´í¬ë„ŒíŠ¸ êµì²´\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ì´ì œ ê¸°ì¡´ ì´ë¯¸ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ProxyImageë¡œ êµì²´í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"êµì²´ ê³¼ì •\"}],\":\"]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"ê¸°ì¡´ \",[\"$\",\"code\",null,{\"children\":\"\u003cImage\u003e\"}],\" ë˜ëŠ” \",[\"$\",\"code\",null,{\"children\":\"\u003cimg\u003e\"}],\" íƒœê·¸ë¥¼ \",[\"$\",\"code\",null,{\"children\":\"\u003cProxyImage\u003e\"}],\"ë¡œ ë³€ê²½\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"ì™¸ë¶€ CDN URLì„ ì‚¬ìš©í•˜ëŠ” ì´ë¯¸ì§€ë“¤ì„ ìš°ì„ ì ìœ¼ë¡œ êµì²´\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"í•„ìš”ì— ë”°ë¼ \",[\"$\",\"code\",null,{\"children\":\"fallbackSrc\"}],\" propìœ¼ë¡œ ëŒ€ì²´ ì´ë¯¸ì§€ ì§€ì •\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"ê¸°ì¡´ props(\",[\"$\",\"code\",null,{\"children\":\"width\"}],\", \",[\"$\",\"code\",null,{\"children\":\"height\"}],\", \",[\"$\",\"code\",null,{\"children\":\"className\"}],\" ë“±)ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ ê°€ëŠ¥\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"í•µì‹¬ í¬ì¸íŠ¸\"}],\": ProxyImageëŠ” Next.js Imageì™€ ë™ì¼í•œ APIë¥¼ ì œê³µí•˜ë¯€ë¡œ, ê¸°ì¡´ ì½”ë“œì˜ ë³€ê²½ ì—†ì´ë„ CORS ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"4ë‹¨ê³„-html2canvasì™€-í•¨ê»˜-ì‚¬ìš©\",\"children\":\"4ë‹¨ê³„: html2canvasì™€ í•¨ê»˜ ì‚¬ìš©\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"html2canvasë¡œ ìº¡ì²˜í•  ë•Œ ProxyImageê°€ í¬í•¨ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ ìº¡ì²˜í•˜ë©´ CORS ë¬¸ì œ ì—†ì´ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" html2canvas \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'html2canvas'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"handleCapture\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" element \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" document\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"querySelector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'[data-capture-target]'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" HTMLElement\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"element\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"try\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" canvas \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"html2canvas\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"element\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"      useCORS\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"      allowTaint\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"      scale\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"      backgroundColor\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'#ffffff'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" link \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" document\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"createElement\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'a'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"    link\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"download \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"capture-\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"Date\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"now\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\".png\"}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"    link\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"href \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" canvas\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"toDataURL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'image/png'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"    link\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"click\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"catch\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"error\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ìº¡ì²˜ ì‹¤íŒ¨:'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" error\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"í•µì‹¬-êµ¬í˜„-í¬ì¸íŠ¸\",\"children\":\"í•µì‹¬ êµ¬í˜„ í¬ì¸íŠ¸\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"1-ë³´ì•ˆ-ê³ ë ¤ì‚¬í•­\",\"children\":\"1. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// í—ˆìš©ëœ ë„ë©”ì¸ë§Œ í”„ë¡ì‹œ\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" allowedDomains \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'cdn.example.com'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'assets.mysite.com'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"allowedDomains\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"includes\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"hostname\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" NextResponse\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"json\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" error\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Domain not allowed'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" status\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"403\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"í—ˆìš©ëœ ë„ë©”ì¸ë§Œ í”„ë¡ì‹œí•˜ì—¬ ë³´ì•ˆ ìœ„í—˜ì„ ë°©ì§€í•©ë‹ˆë‹¤.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"2-ssr-í˜¸í™˜ì„±\",\"children\":\"2. SSR í˜¸í™˜ì„±\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" isExternalImage \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"src\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"boolean\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"try\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" url \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"URL\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"src\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// window.locationì´ ì•„ë‹Œ í”„ë¡œí† ì½œë¡œ íŒë‹¨í•˜ì—¬ SSR ì•ˆì „ì„± í™•ë³´\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"protocol \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'http:'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"protocol \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'https:'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"catch\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì—ì„œë„ ì•ˆì „í•˜ê²Œ ì‘ë™í•˜ë„ë¡ \",[\"$\",\"code\",null,{\"children\":\"window\"}],\" ê°ì²´ ì˜ì¡´ì„±ì„ ì œê±°í–ˆìŠµë‹ˆë‹¤.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"3-ìºì‹œ-ìµœì í™”\",\"children\":\"3. ìºì‹œ ìµœì í™”\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[\"headers\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Content-Type'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" contentType\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Cache-Control'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'public, max-age=31536000, immutable'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Access-Control-Allow-Origin'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Access-Control-Allow-Methods'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'GET'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Access-Control-Allow-Headers'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Content-Type'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ì´ë¯¸ì§€ë¥¼ 1ë…„ê°„ ìºì‹œí•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"íŠ¸ëŸ¬ë¸”ìŠˆíŒ…\",\"children\":\"íŠ¸ëŸ¬ë¸”ìŠˆíŒ…\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"1-hydration-mismatch-ì—ëŸ¬\",\"children\":\"1. Hydration Mismatch ì—ëŸ¬\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ë¬¸ì œ\"}],\": ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë‹¤ë¥¸ URL ìƒì„±ìœ¼ë¡œ ì¸í•œ Hydration ì—ëŸ¬\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"strong\",null,{\"children\":\"í•´ê²°\"}],\": \",[\"$\",\"code\",null,{\"children\":\"window.location.origin\"}],\" ëŒ€ì‹  í”„ë¡œí† ì½œ ê¸°ë°˜ìœ¼ë¡œ ì™¸ë¶€ ì´ë¯¸ì§€ íŒë‹¨\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"2-ë¬´í•œ-ë¡œë”©\",\"children\":\"2. ë¬´í•œ ë¡œë”©\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ë¬¸ì œ\"}],\": í”„ë¡ì‹œ ë¡œë”ê°€ ì ìš©ë˜ì§€ ì•Šì•„ ì›ë³¸ URLë¡œ ìš”ì²­\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"strong\",null,{\"children\":\"í•´ê²°\"}],\": SSR ì•ˆì „í•œ ë¡œì§ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì„œë²„/í´ë¼ì´ì–¸íŠ¸ ì¼ê´€ì„± í™•ë³´\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"ëŒ€ì•ˆ-í•´ê²°-ë°©ë²•ë“¤\",\"children\":\"ëŒ€ì•ˆ í•´ê²° ë°©ë²•ë“¤\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"1-ìºì‹±ì´-í¬í•¨ëœ-ê°œì„ ëœ-api-route\",\"children\":\"1. ìºì‹±ì´ í¬í•¨ëœ ê°œì„ ëœ API Route\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ë©”ëª¨ë¦¬ ìºì‹œ ì¶”ê°€\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" imageCache \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"Map\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"  data\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" ArrayBuffer\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"  contentType\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"  timestamp\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CACHE_DURATION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1000\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"60\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 10ë¶„ ìºì‹œ\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GET\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"request\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" NextRequest\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ìºì‹œ í™•ì¸ ë¡œì§ ì¶”ê°€\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" cached \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" imageCache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"get\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"imageUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"cached \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" Date\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"now\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"timestamp \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CACHE_DURATION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"NextResponse\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"      headers\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Content-Type'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"contentType\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Access-Control-Allow-Origin'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Cache-Control'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'public, max-age=300'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// fetch í›„ ìºì‹œì— ì €ì¥\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"  imageCache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"set\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"imageUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[\"    data\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" imageBuffer\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":[\"    contentType\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"27\",\"children\":[\"    timestamp\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" Date\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"now\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"28\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"29\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"2-ëŒ€ì•ˆ-ë¼ì´ë¸ŒëŸ¬ë¦¬-ê³ ë ¤\",\"children\":\"2. ëŒ€ì•ˆ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê³ ë ¤\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-bash code-highlight\",\"data-language\":\"bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"install\"}],\" modern-screenshot\\n\"]}]}]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" domToJpeg \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'modern-screenshot'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" dataUrl \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"domToJpeg\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"element\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"ì„±ëŠ¥-ìµœì í™”-ë°-ì¶”ê°€-íŒ\",\"children\":\"ì„±ëŠ¥ ìµœì í™” ë° ì¶”ê°€ íŒ\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"1-html2canvas-ìµœì í™”-ì„¤ì •\",\"children\":\"1. html2canvas ìµœì í™” ì„¤ì •\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" canvas \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"html2canvas\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"element\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  useCORS\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  allowTaint\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  scale\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  logging\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  backgroundColor\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'#ffffff'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  foreignObjectRendering\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  imageTimeout\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"onclone\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"clonedDoc\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ë¬¸ì„œ í´ë¡  ì™„ë£Œ'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"2-ì´ë¯¸ì§€-í”„ë¦¬ë¡œë”©\",\"children\":\"2. ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ìº¡ì²˜ ì „ ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"preloadImages\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"urls\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"Promise\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"all\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    urls\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"url \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fetch\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/api/image-proxy?url=\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"encodeURIComponent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"        cache\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'no-cache'\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"ê²°ê³¼\",\"children\":\"ê²°ê³¼\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"âœ… \",[\"$\",\"strong\",null,{\"children\":\"CORS ì—ëŸ¬ í•´ê²°\"}],\": ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¥¼ í”„ë¡ì‹œë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ë¡œë“œ\",[\"$\",\"br\",null,{}],\"\\n\",\"âœ… \",[\"$\",\"strong\",null,{\"children\":\"html2canvas í˜¸í™˜\"}],\": ìº¡ì²˜ ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™\",[\"$\",\"br\",null,{}],\"\\n\",\"âœ… \",[\"$\",\"strong\",null,{\"children\":\"ì„±ëŠ¥ ìµœì í™”\"}],\": ì´ë¯¸ì§€ ìºì‹± ë° ë°˜ì‘í˜• ìµœì í™”\",[\"$\",\"br\",null,{}],\"\\n\",\"âœ… \",[\"$\",\"strong\",null,{\"children\":\"ë³´ì•ˆ ê°•í™”\"}],\": í—ˆìš©ëœ ë„ë©”ì¸ë§Œ í”„ë¡ì‹œí•˜ì—¬ ë³´ì•ˆ ìœ„í—˜ ë°©ì§€\",[\"$\",\"br\",null,{}],\"\\n\",\"âœ… \",[\"$\",\"strong\",null,{\"children\":\"ê°œë°œì ê²½í—˜\"}],\": ê¸°ì¡´ Image ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•œ APIë¡œ ì‰¬ìš´ ì‚¬ìš©\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"ë§ˆë¬´ë¦¬\",\"children\":\"ë§ˆë¬´ë¦¬\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Next.jsì˜ API Routeë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜ìœ¼ë¡œ CORS ë¬¸ì œë¥¼ ê¹”ë”í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ SSR í˜¸í™˜ì„±ê³¼ ë³´ì•ˆì„ ê³ ë ¤í•œ ì„¤ê³„ë¡œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œë„ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì†”ë£¨ì…˜ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"ê¶Œì¥-êµ¬í˜„-ìˆœì„œ\",\"children\":\"ê¶Œì¥ êµ¬í˜„ ìˆœì„œ\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"1ë‹¨ê³„\"}],\": API Route í”„ë¡ì‹œ ì—”ë“œí¬ì¸íŠ¸ ìƒì„± (10ë¶„)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"2ë‹¨ê³„\"}],\": ProxyImage ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ (20ë¶„)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"3ë‹¨ê³„\"}],\": ê¸°ì¡´ ì´ë¯¸ì§€ ì»´í¬ë„ŒíŠ¸ êµì²´ (5ë¶„)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"4ë‹¨ê³„\"}],\": html2canvas í…ŒìŠ¤íŠ¸ ë° ìµœì í™” (15ë¶„)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"5ë‹¨ê³„\"}],\": ì„±ëŠ¥ ìµœì í™” ë° ìºì‹± ì¶”ê°€ (ì„ íƒì‚¬í•­)\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"ì´ ìˆœì„œëŒ€ë¡œ ì§„í–‰í•˜ë©´ \",[\"$\",\"strong\",null,{\"children\":\"Next.js 15ì˜ ê°•ë ¥í•œ ì„œë²„ì‚¬ì´ë“œ ê¸°ëŠ¥ì„ í™œìš©\"}],\"í•˜ì—¬ html2canvas CORS ë¬¸ì œë¥¼ \",[\"$\",\"strong\",null,{\"children\":\"ê°€ì¥ íš¨ìœ¨ì ìœ¼ë¡œ í•´ê²°\"}],\"í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"í•µì‹¬-ì„±ê³¼\",\"children\":\"í•µì‹¬ ì„±ê³¼\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"html2canvas í˜¸í™˜ì„±\"}],\": ì™¸ë¶€ CDN ì´ë¯¸ì§€ê°€ í¬í•¨ëœ í™”ë©´ì„ ì„±ê³µì ìœ¼ë¡œ ìº¡ì²˜\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ì„±ëŠ¥ ìµœì í™”\"}],\": ì´ë¯¸ì§€ ìºì‹±ê³¼ ë°˜ì‘í˜• ìµœì í™”ë¡œ ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ë³´ì•ˆ ê°•í™”\"}],\": ë„ë©”ì¸ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ë¡œ ì•…ì˜ì  ìš”ì²­ ì°¨ë‹¨\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ê°œë°œì ê²½í—˜\"}],\": ê¸°ì¡´ Image ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•œ APIë¡œ ì‰¬ìš´ ë§ˆì´ê·¸ë ˆì´ì…˜\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ì´ ë°©ë²•ì€ html2canvasë¿ë§Œ ì•„ë‹ˆë¼ Canvas APIë¥¼ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(Fabric.js, Konva.js ë“±)ì—ì„œë„ ë™ì¼í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆì–´, í¬ë¡œìŠ¤ ë„ë©”ì¸ ì´ë¯¸ì§€ ì²˜ë¦¬ê°€ í•„ìš”í•œ ë‹¤ì–‘í•œ ìƒí™©ì—ì„œ ìœ ìš©í•  ê²ƒì…ë‹ˆë‹¤.\"}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"ï¸-api-route-í”„ë¡ì‹œ-ë°©ì‹-ì£¼ì˜ì‚¬í•­\",\"children\":\"âš ï¸ API Route í”„ë¡ì‹œ ë°©ì‹ ì£¼ì˜ì‚¬í•­\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"API Route í”„ë¡ì‹œëŠ” html2canvas CORS ë¬¸ì œë¥¼ í•´ê²°í•˜ì§€ë§Œ, \",[\"$\",\"strong\",null,{\"children\":\"ì„œë²„ ë¦¬ì†ŒìŠ¤\"}],\" ì¸¡ë©´ì—ì„œ ê³ ë ¤í•´ì•¼ í•  ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤:\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"ï¸-ì„œë²„-ë¦¬ì†ŒìŠ¤-ë¬¸ì œ\",\"children\":\"ğŸ–¼ï¸ ì„œë²„ ë¦¬ì†ŒìŠ¤ ë¬¸ì œ\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-html code-highlight\",\"data-language\":\"html\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-html code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"\u003c!-- Next.js Imageê°€ ìƒì„±í•˜ëŠ” HTML --\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\u003c\"}],\"img\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"token attr-name\",\"children\":\"srcset\"}],[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation attr-equals\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}],\"/api/image-proxy?url=...\u0026w=256 256w,\\n\"]}]]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":\"             /api/image-proxy?url=...\u0026w=384 384w,\\n\"}]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token tag\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token attr-value\",\"children\":[\"             /api/image-proxy?url=...\u0026w=640 640w\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"\\\"\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"/\u003e\"}]]}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ë¬¸ì œì \"}],\":\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"ëª¨ë“  ì´ë¯¸ì§€ ìš”ì²­ì´ ì„œë²„ë¥¼ ê±°ì³ê° â†’ \",[\"$\",\"strong\",null,{\"children\":\"ì„œë²„ ë¶€í•˜ ì¦ê°€\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"ì—¬ëŸ¬ í¬ê¸°ì˜ ì´ë¯¸ì§€ê°€ ì„œë²„ ìºì‹œì— ì €ì¥ â†’ \",[\"$\",\"strong\",null,{\"children\":\"ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Vercel/Netlify ë“±ì—ì„œ \",[\"$\",\"strong\",null,{\"children\":\"Function timeout\"}],\" ë°œìƒ ê°€ëŠ¥\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"-í•´ê²°-ë°©ë²•\",\"children\":\"ğŸ’¡ í•´ê²° ë°©ë²•\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"1-ì ê·¹ì ì¸-ìºì‹œ-ì •ì±…\",\"children\":\"1. ì ê·¹ì ì¸ ìºì‹œ ì •ì±…\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"NextResponse\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"imageBuffer\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  headers\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Cache-Control'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'public, max-age=31536000, immutable'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Access-Control-Allow-Origin'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"2-cdn-í™œìš©\",\"children\":\"2. CDN í™œìš©\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"CloudFlare, AWS CloudFrontë¡œ ì„œë²„ ë¶€í•˜ ë¶„ì‚°\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"ì´ë¯¸ì§€ í¬ê¸° ì œí•œ (ìµœëŒ€ 5MB)\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë„ë©”ì¸ ê´€ë¦¬\"}],\"\\n\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ğŸ“ Next.js Image ì»´í¬ë„ŒíŠ¸ ê¸°ìˆ ì  ì œí•œì‚¬í•­\"}],\": \",[\"$\",\"code\",null,{\"children\":\"unoptimized\"}],\"ì™€ \",[\"$\",\"code\",null,{\"children\":\"loader\"}],\" ì¶©ëŒ ë¬¸ì œ, SVG ì²˜ë¦¬ ë°©ë²• ë“±ì€ \",[\"$\",\"a\",null,{\"href\":\"./2025-08-19-nextjs-15-image-optimization-guide\",\"children\":\"ë‹¤ìŒ ê¸€\"}],\"ì—ì„œ ìƒì„¸íˆ ë‹¤ë£¹ë‹ˆë‹¤.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"-ì„±ëŠ¥-ìµœì í™”-ë°-ì¶”ê°€-íŒ\",\"children\":\"ğŸš€ ì„±ëŠ¥ ìµœì í™” ë° ì¶”ê°€ íŒ\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"1-html2canvas-ìµœì í™”-ì„¤ì •-1\",\"children\":\"1. html2canvas ìµœì í™” ì„¤ì •\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" canvas \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"html2canvas\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"element\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  useCORS\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  allowTaint\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  scale\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  logging\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  backgroundColor\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'#ffffff'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  foreignObjectRendering\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  imageTimeout\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"onclone\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"clonedDoc\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ë¬¸ì„œ í´ë¡  ì™„ë£Œ'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"2-ì´ë¯¸ì§€-í”„ë¦¬ë¡œë”©-1\",\"children\":\"2. ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ìº¡ì²˜ ì „ ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"preloadImages\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"urls\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"Promise\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"all\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    urls\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"url \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fetch\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/api/image-proxy?url=\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"encodeURIComponent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"        cache\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'no-cache'\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"3-ë©”ëª¨ë¦¬-ìºì‹œ-ì¶”ê°€-ê³ ê¸‰\",\"children\":\"3. ë©”ëª¨ë¦¬ ìºì‹œ ì¶”ê°€ (ê³ ê¸‰)\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ë©”ëª¨ë¦¬ ìºì‹œ ì¶”ê°€\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" imageCache \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"Map\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}]]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"  data\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" ArrayBuffer\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"  contentType\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"  timestamp\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CACHE_DURATION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1000\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"60\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 10ë¶„ ìºì‹œ\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GET\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"request\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" NextRequest\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ìºì‹œ í™•ì¸ ë¡œì§ ì¶”ê°€\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" cached \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" imageCache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"get\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"imageUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"cached \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" Date\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"now\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"timestamp \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CACHE_DURATION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"NextResponse\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"      headers\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Content-Type'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"contentType\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Access-Control-Allow-Origin'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Cache-Control'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'public, max-age=300'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// fetch í›„ ìºì‹œì— ì €ì¥\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"  imageCache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"set\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"imageUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[\"    data\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" imageBuffer\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":[\"    contentType\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"27\",\"children\":[\"    timestamp\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" Date\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"now\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"28\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"29\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"-ë”-ìì„¸í•œ-ì´ë¯¸ì§€-ìµœì í™”-ê°€ì´ë“œ\",\"children\":\"ğŸ“š ë” ìì„¸í•œ ì´ë¯¸ì§€ ìµœì í™” ê°€ì´ë“œ\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Next.js 15ì˜ ê³µì‹ ê¶Œì¥ì‚¬í•­ê³¼ ë” ìì„¸í•œ ì„±ëŠ¥ ë¹„êµë¥¼ ì›í•œë‹¤ë©´ **\",[\"$\",\"a\",null,{\"href\":\"/posts/react/2025-08-19-nextjs-15-image-optimization-guide\",\"children\":\"Next.js 15 ì´ë¯¸ì§€ ìµœì í™” ì™„ì „ ê°€ì´ë“œ\"}],\"**ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.\"]}]]\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nd:null\n"])</script><script>self.__next_f.push([1,"16:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜ | Blog\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"html2canvas ì‚¬ìš© ì‹œ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ Next.js API Route í”„ë¡ì‹œë¡œ ì™„ë²½ í•´ê²°í•œ ê³¼ì •ê³¼ ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ë“¤ì„ ìƒì„¸íˆ ì†Œê°œí•©ë‹ˆë‹¤.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"zeke\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"Next.js, html2canvas, CORS, React, TypeScript, ì´ë¯¸ì§€ í”„ë¡ì‹œ\"}],[\"$\",\"meta\",\"4\",{\"name\":\"creator\",\"content\":\"zeke\"}],[\"$\",\"meta\",\"5\",{\"name\":\"publisher\",\"content\":\"Blog\"}],[\"$\",\"meta\",\"6\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"7\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"meta\",\"8\",{\"name\":\"google-site-verification\",\"content\":\"wjBK5vsP3u8w2Mb0BHXkojvPGQ56soPTBYg2fU5dg5k\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜ | Blog\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"html2canvas ì‚¬ìš© ì‹œ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ Next.js API Route í”„ë¡ì‹œë¡œ ì™„ë²½ í•´ê²°í•œ ê³¼ì •ê³¼ ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ë“¤ì„ ìƒì„¸íˆ ì†Œê°œí•©ë‹ˆë‹¤.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://leeduhan.github.io/posts/react/2025-08-19-html2canvas_cors_guide\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"Blog\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image\",\"content\":\"https://leeduhan.github.io/og-image.jpg\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:image:alt\",\"content\":\"Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"18\",{\"property\":\"article:published_time\",\"content\":\"2025-08-19\"}],[\"$\",\"meta\",\"19\",{\"property\":\"article:author\",\"content\":\"zeke\"}],[\"$\",\"meta\",\"20\",{\"property\":\"article:tag\",\"content\":\"Next.js\"}],[\"$\",\"meta\",\"21\",{\"property\":\"article:tag\",\"content\":\"html2canvas\"}],[\"$\",\"meta\",\"22\",{\"property\":\"article:tag\",\"content\":\"CORS\"}],[\"$\",\"meta\",\"23\",{\"property\":\"article:tag\",\"content\":\"React\"}],[\"$\",\"meta\",\"24\",{\"property\":\"article:tag\",\"content\":\"TypeScript\"}],[\"$\",\"meta\",\"25\",{\"property\":\"article:tag\",\"content\":\"ì´ë¯¸ì§€ í”„ë¡ì‹œ\"}],[\"$\",\"meta\",\"26\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"27\",{\"name\":\"twitter:creator\",\"content\":\"@zeke\"}],[\"$\",\"meta\",\"28\",{\"name\":\"twitter:title\",\"content\":\"Next.js 15ì—ì„œ html2canvas CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°: ì´ë¯¸ì§€ í”„ë¡ì‹œ ì†”ë£¨ì…˜ | Blog\"}],[\"$\",\"meta\",\"29\",{\"name\":\"twitter:description\",\"content\":\"html2canvas ì‚¬ìš© ì‹œ ì™¸ë¶€ CDN ì´ë¯¸ì§€ë¡œ ì¸í•œ CORS ì—ëŸ¬ë¥¼ Next.js API Route í”„ë¡ì‹œë¡œ ì™„ë²½ í•´ê²°í•œ ê³¼ì •ê³¼ ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ë“¤ì„ ìƒì„¸íˆ ì†Œê°œí•©ë‹ˆë‹¤.\"}],[\"$\",\"meta\",\"30\",{\"name\":\"twitter:image\",\"content\":\"https://leeduhan.github.io/og-image.jpg\"}],[\"$\",\"link\",\"31\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"10:{\"metadata\":\"$16:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>