1:"$Sreact.fragment"
2:I[61483,["6874","static/chunks/6874-fa507aafc07af06a.js","9318","static/chunks/9318-102c786377c953a3.js","7177","static/chunks/app/layout-cc2413b4ac7fd51b.js"],"ThemeProvider"]
3:I[12708,["6874","static/chunks/6874-fa507aafc07af06a.js","9318","static/chunks/9318-102c786377c953a3.js","7177","static/chunks/app/layout-cc2413b4ac7fd51b.js"],"Analytics"]
4:I[12708,["6874","static/chunks/6874-fa507aafc07af06a.js","9318","static/chunks/9318-102c786377c953a3.js","7177","static/chunks/app/layout-cc2413b4ac7fd51b.js"],"GoogleAds"]
5:I[6874,["6249","static/chunks/cb15b0f3-4f54b17909709afc.js","6874","static/chunks/6874-fa507aafc07af06a.js","9522","static/chunks/9522-efe1b27bdbdfccd2.js","6156","static/chunks/app/posts/%5B...slug%5D/page-533962adf6041fb8.js"],""]
6:I[66688,["6874","static/chunks/6874-fa507aafc07af06a.js","9318","static/chunks/9318-102c786377c953a3.js","7177","static/chunks/app/layout-cc2413b4ac7fd51b.js"],"ThemeToggle"]
7:I[87555,[],""]
8:I[31295,[],""]
a:I[59665,[],"MetadataBoundary"]
c:I[59665,[],"OutletBoundary"]
f:I[74911,[],"AsyncMetadataOutlet"]
11:I[59665,[],"ViewportBoundary"]
13:I[26614,[],""]
:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/096b5fe0d8236b86.css","style"]
0:{"P":null,"b":"BuxRDpSZxicLOYNZ0QLiZ","p":"","c":["","posts","react","2025-08-21-nextjs-rsc-prefetch-static-vs-server"],"i":false,"f":[[["",{"children":["posts",{"children":[["slug","react/2025-08-21-nextjs-rsc-prefetch-static-vs-server","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/096b5fe0d8236b86.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"ko","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_e8ce0c antialiased min-h-screen","children":["$","$L2",null,{"attribute":"class","defaultTheme":"system","enableSystem":true,"disableTransitionOnChange":true,"children":["$","div",null,{"className":"flex min-h-screen flex-col","children":[["$","$L3",null,{}],["$","$L4",null,{}],["$","header",null,{"className":"sticky top-0 z-50 w-full border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/80","children":["$","div",null,{"className":"container max-w-4xl mx-auto flex h-16 items-center justify-between px-4","children":[["$","$L5",null,{"href":"/","className":"flex items-center space-x-2 text-xl font-semibold transition-colors hover:text-primary","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-file-text h-6 w-6 text-primary","aria-hidden":"true","children":[["$","path","1rqfz7",{"d":"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["$","path","tnqrlb",{"d":"M14 2v4a2 2 0 0 0 2 2h4"}],["$","path","b1mrlr",{"d":"M10 9H8"}],["$","path","t4e002",{"d":"M16 13H8"}],["$","path","z1uh3a",{"d":"M16 17H8"}],"$undefined"]}],["$","span",null,{"children":"Blog"}]]}],["$","div",null,{"className":"flex items-center space-x-6","children":[["$","nav",null,{"className":"flex items-center space-x-6","children":[["$","$L5",null,{"href":"/","className":"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground","children":"홈"}],["$","$L5",null,{"href":"/tags","className":"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground","children":"태그"}],["$","$L5",null,{"href":"/about","className":"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground","children":"소개"}]]}],["$","a",null,{"href":"https://github.com/leeduhan","target":"_blank","rel":"noopener noreferrer","className":"text-muted-foreground transition-colors hover:text-foreground","aria-label":"GitHub","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-github h-5 w-5","aria-hidden":"true","children":[["$","path","tonef",{"d":"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}],["$","path","9comsn",{"d":"M9 18c-4.51 2-5-2-7-2"}],"$undefined"]}]}],["$","$L6",null,{}]]}]]}]}],["$","main",null,{"className":"flex-1","children":["$","div",null,{"className":"container max-w-4xl mx-auto px-4 py-8","children":["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}],["$","footer",null,{"className":"border-t py-8 md:py-12","children":["$","div",null,{"className":"container max-w-4xl mx-auto px-4","children":["$","div",null,{"className":"flex flex-col items-center justify-center space-y-4 text-center","children":[["$","div",null,{"className":"flex items-center space-x-4 text-sm","children":[["$","a",null,{"href":"/rss.xml","className":"text-muted-foreground hover:text-primary transition-colors","target":"_blank","rel":"noopener noreferrer","children":"RSS"}],["$","span",null,{"className":"text-muted-foreground","children":"•"}],["$","a",null,{"href":"/feed.json","className":"text-muted-foreground hover:text-primary transition-colors","target":"_blank","rel":"noopener noreferrer","children":"JSON Feed"}]]}],["$","p",null,{"className":"text-sm text-muted-foreground","children":["© 2025.06 ~ ",2025,".",9," Blog"]}]]}]}]}]]}]}]}]}]]}],{"children":["posts",["$","$1","c",{"children":[null,["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","react/2025-08-21-nextjs-rsc-prefetch-static-vs-server","c"],["$","$1","c",{"children":[null,["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L9",["$","$La",null,{"children":"$Lb"}],null,["$","$Lc",null,{"children":["$Ld","$Le",["$","$Lf",null,{"promise":"$@10"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","e_v9lv1hS5blbIVM9as18",{"children":[["$","$L11",null,{"children":"$L12"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],null]}],false]],"m":"$undefined","G":["$13","$undefined"],"s":false,"S":true}
14:"$Sreact.suspense"
15:I[74911,[],"AsyncMetadata"]
b:["$","$14",null,{"fallback":null,"children":["$","$L15",null,{"promise":"$@16"}]}]
9:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포\",\"description\":\"Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다.\",\"image\":[\"https://leeduhan.github.io/og-image.jpg\"],\"author\":{\"@type\":\"Person\",\"name\":\"지크\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Blog\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https://leeduhan.github.io/logo.png\"}},\"url\":\"https://leeduhan.github.io/posts/react/2025-08-21-nextjs-rsc-prefetch-static-vs-server\",\"datePublished\":\"2025-08-21\",\"dateModified\":\"2025-08-21\",\"keywords\":\"Next.js, RSC, React Server Components, 정적 빌드, 서버 배포, 프리페치, 성능 최적화\",\"articleSection\":\"Technology\",\"inLanguage\":\"ko-KR\"}"}}],["$","div",null,{"className":"max-w-3xl mx-auto space-y-8","children":[["$","div",null,{"className":"pt-4","children":["$","$L5",null,{"href":"/","className":"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-arrow-left h-4 w-4","aria-hidden":"true","children":[["$","path","1l729n",{"d":"m12 19-7-7 7-7"}],["$","path","x3x0zl",{"d":"M19 12H5"}],"$undefined"]}],["$","span",null,{"children":"홈으로 돌아가기"}]]}]}],["$","article",null,{"className":"space-y-8","children":[["$","header",null,{"className":"space-y-6","children":[["$","div",null,{"className":"space-y-6","children":["$","h1",null,{"className":"text-5xl font-bold tracking-tight leading-tight","children":"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포"}]}],["$","div",null,{"className":"flex flex-wrap items-center gap-6 text-sm text-muted-foreground py-4","children":[["$","time",null,{"dateTime":"2025-08-21","className":"flex items-center gap-2","children":[["$","span",null,{"children":"📅"}],"2025년 8월 21일"]}],["$","div",null,{"className":"flex flex-wrap items-center gap-2","children":[["$","span",null,{"children":"🏷️"}],[["$","$L5","Next.js",{"href":"/tags/nextjs","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"Next.js"}],["$","$L5","RSC",{"href":"/tags/rsc","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"RSC"}],["$","$L5","React Server Components",{"href":"/tags/react-server-components","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"React Server Components"}],["$","$L5","정적 빌드",{"href":"/tags/static-build","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"정적 빌드"}],["$","$L5","서버 배포",{"href":"/tags/server-deployment","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"서버 배포"}],["$","$L5","프리페치",{"href":"/tags/prefetch","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"프리페치"}],["$","$L5","성능 최적화",{"href":"/tags/performance-optimization","className":"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors","children":"성능 최적화"}]]]}]]}],["$","div",null,{"className":"bg-accent/50 rounded-lg p-6 border-l-4 border-primary","children":["$","p",null,{"className":"text-lg leading-relaxed italic text-muted-foreground","children":"Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다."}]}]]}],["$","div",null,{"className":"notion-content","children":"$L17"}]]}]]}]]
e:null
18:I[18199,["6249","static/chunks/cb15b0f3-4f54b17909709afc.js","6874","static/chunks/6874-fa507aafc07af06a.js","9522","static/chunks/9522-efe1b27bdbdfccd2.js","6156","static/chunks/app/posts/%5B...slug%5D/page-533962adf6041fb8.js"],"CodeBlock"]
17:[["$","h1",null,{"id":"nextjs-rsc-프리페치-동작-차이-분석-정적-빌드-vs-서버-인스턴스-배포","children":"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포"}],"\n",["$","p",null,{"children":"Next.js 애플리케이션을 운영하다 보면 흥미로운 문제에 직면하게 됩니다. 동일한 코드베이스임에도 불구하고 정적 빌드로 배포한 사이트와 서버에서 실행하는 사이트의 성능이 극명하게 다르다는 것입니다."}],"\n",["$","p",null,{"children":"특히 고트래픽 환경에서 이 차이는 더욱 두드러집니다. 정적 사이트는 CDN의 도움으로 빠르게 로딩되지만, 서버 사이트는 예상보다 느리고 비용도 많이 발생합니다. 그 원인은 무엇일까요?"}],"\n",["$","p",null,{"children":["답은 ",["$","strong",null,{"children":"React Server Components(RSC)의 프리페치 메커니즘"}],"에 있습니다. Next.js는 정적 빌드와 서버 인스턴스 환경에서 완전히 다른 방식으로 RSC를 처리하며, 이는 성능 특성과 비용 구조에 근본적인 차이를 만들어냅니다."]}],"\n",["$","h2",null,{"id":"목차","children":"목차"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#%EC%A0%95%EC%A0%81-%EB%B9%8C%EB%93%9C%EC%97%90%EC%84%9C%EC%9D%98-rsc-%ED%8E%98%EC%9D%B4%EB%A1%9C%EB%93%9C-%EC%B2%98%EB%A6%AC","children":"정적 빌드에서의 RSC 페이로드 처리"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#%EC%84%9C%EB%B2%84-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%EC%97%90%EC%84%9C%EC%9D%98-%EB%8F%99%EC%A0%81-rsc-%EC%B2%98%EB%A6%AC","children":"서버 인스턴스에서의 동적 RSC 처리"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#nextjs-%EB%82%B4%EB%B6%80-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%9D%98-%EA%B7%BC%EB%B3%B8%EC%A0%81-%EC%B0%A8%EC%9D%B4","children":"Next.js 내부 아키텍처의 근본적 차이"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#%EB%B9%8C%EB%93%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C%EA%B3%BC-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4","children":"빌드 시스템과 파일 생성 프로세스"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#%EC%84%B1%EB%8A%A5%EA%B3%BC-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%ED%8A%B9%EC%84%B1-%EB%B9%84%EA%B5%90","children":"성능과 네트워크 특성 비교"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#%EC%8B%A4%EC%A0%9C-%EA%B5%AC%ED%98%84-%EC%98%88%EC%A0%9C%EC%99%80-%EC%B5%9C%EC%A0%81%ED%99%94-%EC%A0%84%EB%9E%B5","children":"실제 구현 예제와 최적화 전략"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#%EA%B2%B0%EB%A1%A0%EA%B3%BC-%EA%B6%8C%EC%9E%A5%EC%82%AC%ED%95%AD","children":"결론과 권장사항"}]}],"\n"]}],"\n",["$","h2",null,{"id":"정적-빌드에서의-rsc-페이로드-처리","children":"정적 빌드에서의 RSC 페이로드 처리"}],"\n",["$","h3",null,{"id":"txt-파일-생성-메커니즘과-설계-철학","children":".txt 파일 생성 메커니즘과 설계 철학"}],"\n",["$","p",null,{"children":["Next.js의 정적 빌드 환경에서 RSC 페이로드가 ",["$","code",null,{"children":".txt"}]," 파일로 생성되는 것은 의도적인 설계 결정입니다. ",["$","strong",null,{"children":"GitHub Discussion #59394"}],"에 따르면, 원래 ",["$","code",null,{"children":".rsc"}]," 확장자를 사용했으나 Next.js 커밋 ",["$","code",null,{"children":"af8963d"}],"에서 ",["$","code",null,{"children":".txt"}],"로 변경되었습니다."]}],"\n",["$","p",null,{"children":["이 변경의 핵심 이유는 ",["$","strong",null,{"children":"호환성과 안정성"}],"입니다. 대부분의 웹 서버가 ",["$","code",null,{"children":".txt"}]," 확장자를 ",["$","code",null,{"children":"text/plain"}]," MIME 타입으로 기본 제공하여 정적 호스팅 환경에서 별도 설정 없이 안정적으로 서빙될 수 있기 때문입니다."]}],"\n",["$","p",null,{"children":["Next.js 소스코드 ",["$","code",null,{"children":"/packages/next/src/export/routes/app-page.ts"}],"에서 확인할 수 있는 파일 생성 프로세스는 다음과 같습니다:"]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// RSC payload 생성 과정"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"flightData",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token keyword","children":"await"}]," ",["$","span",null,{"className":"token function","children":"fileWriter"}],["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["    ExportedAppPageFiles",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token constant","children":"FLIGHT"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["    htmlFilepath",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"replace"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token regex-source language-regex","children":[["$","span",null,{"className":"token special-escape escape","children":"\\."}],"html",["$","span",null,{"className":"token anchor function","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'.txt'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":"    flightData\n"}],["$","span",null,{"className":"code-line line-number","line":"7","children":["  ",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}]}],"\n",["$","p",null,{"children":["이 메커니즘은 ",["$","strong",null,{"children":"빌드 시점에 모든 RSC 페이로드를 사전 생성"}],"하여 런타임 계산 부담을 제거합니다. ",["$","code",null,{"children":"https://leeduhan.github.io/posts/react/2025-08-19-html2canvas_cors_guide.txt?_rsc=1ld0r"}]," 형태의 URL은 경로 기반 파일 시스템 매핑을 통해 정적 파일로 직접 연결됩니다."]}],"\n",["$","h3",null,{"id":"빌드-프로세스와-파일-시스템-구조","children":"빌드 프로세스와 파일 시스템 구조"}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"next build"}]," 실행 시 RSC 파일 생성은 HTML 파일과 병렬로 처리됩니다. ",["$","strong",null,{"children":"GitHub Issue #73427"}],"에서 확인된 파일 명명 규칙에 따르면, 경로가 ",["$","code",null,{"children":"/"}],"로 끝나는 경우 ",["$","code",null,{"children":".txt"}],"를 추가하고, 그 외의 경우 ",["$","code",null,{"children":"index.txt"}],"를 추가합니다."]}],"\n",["$","p",null,{"children":["빌드 후 생성되는 ",["$","code",null,{"children":"out"}]," 디렉토리 구조는 다음과 같습니다:"]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"code-highlight","data-language":"","children":["$","code",null,{"className":"code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":"out/\n"}],["$","span",null,{"className":"code-line line-number","line":"2","children":"├── index.html\n"}],["$","span",null,{"className":"code-line line-number","line":"3","children":"├── index.txt          # 루트 경로의 RSC payload\n"}],["$","span",null,{"className":"code-line line-number","line":"4","children":"├── about/\n"}],["$","span",null,{"className":"code-line line-number","line":"5","children":"│   ├── index.html\n"}],["$","span",null,{"className":"code-line line-number","line":"6","children":"│   └── index.txt      # /about 경로의 RSC payload\n"}],["$","span",null,{"className":"code-line line-number","line":"7","children":"└── posts/\n"}],["$","span",null,{"className":"code-line line-number","line":"8","children":"    ├── [id].html\n"}],["$","span",null,{"className":"code-line line-number","line":"9","children":"    └── [id].txt       # 동적 라우트의 RSC payload\n"}]]}]}]}],"\n",["$","p",null,{"children":["이러한 구조는 ",["$","strong",null,{"children":"GitHub Pages나 Vercel Static Hosting"}]," 같은 정적 호스팅 서비스에서 추가 설정 없이 즉시 배포 가능하며, CDN을 통한 aggressive 캐싱이 가능합니다. ",["$","strong",null,{"children":"Vercel 보안 문서 CVE-2025-49005"}],"에 따르면, RSC 페이로드는 ",["$","code",null,{"children":"Vary: RSC, Next-Router-State-Tree, Next-Router-Prefetch"}]," 헤더를 통해 캐시 키 분리를 보장합니다."]}],"\n",["$","h2",null,{"id":"서버-인스턴스에서의-동적-rsc-처리","children":"서버 인스턴스에서의 동적 RSC 처리"}],"\n",["$","h3",null,{"id":"react-flight-프로토콜과-실시간-페이로드-생성","children":"React Flight 프로토콜과 실시간 페이로드 생성"}],"\n",["$","p",null,{"children":["서버 환경에서 ",["$","code",null,{"children":"https://example-store.com/product/4564?_rsc=1ni0o"}]," 형태의 동적 경로는 ",["$","strong",null,{"children":"React Flight 프로토콜"}],"을 통해 처리됩니다. ",["$","strong",null,{"children":"Tony Alicea의 RSC 심층 분석"}],"에 따르면, 서버 컴포넌트 실행 → Flight 직렬화 → 스트리밍 전송의 3단계로 진행됩니다."]}],"\n",["$","p",null,{"children":"**React Working Group RSC 구현 가이드 (Discussion #5)**에서 설명하는 Flight 프로토콜의 직렬화 과정은 다음과 같습니다:"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-javascript code-highlight","data-language":"javascript","children":["$","code",null,{"className":"language-javascript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// 서버에서 JSX.stringify 시 Symbol 치환"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token known-class-name class-name","children":"JSON"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"stringify"}],["$","span",null,{"className":"token punctuation","children":"("}],"jsx",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":["key",["$","span",null,{"className":"token punctuation","children":","}]," value"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token arrow operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"value ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token known-class-name class-name","children":"Symbol"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token keyword control-flow","children":"for"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'react.element'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token string","children":"'$RE'"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// 특수 문자열로 치환"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," value",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"9","children":[["$","span",null,{"className":"token comment","children":"// 클라이언트에서 JSON.parse 시 Symbol 복원"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":[["$","span",null,{"className":"token known-class-name class-name","children":"JSON"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"parse"}],["$","span",null,{"className":"token punctuation","children":"("}],"response",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":["key",["$","span",null,{"className":"token punctuation","children":","}]," value"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token arrow operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"value ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token string","children":"'$RE'"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token known-class-name class-name","children":"Symbol"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token keyword control-flow","children":"for"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'react.element'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," value",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"15","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","h3",null,{"id":"동적-라우팅과-rsc-파라미터-처리","children":"동적 라우팅과 RSC 파라미터 처리"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"GitHub Issue #65335"}],"에서 확인된 바에 따르면, App Router는 ",["$","code",null,{"children":"RSC: 1"}]," 헤더와 ",["$","code",null,{"children":"_rsc"}]," 파라미터 존재 여부를 검사하여 RSC 요청을 구분합니다. ",["$","code",null,{"children":"Next-Router-State-Tree"}]," 헤더를 통해 라우터 상태를 추적하며, 각 요청마다 ",["$","strong",null,{"children":"고유한 RSC 해시를 생성"}],"합니다."]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"⚠️ 치명적인 문제점"}],"은 ",["$","strong",null,{"children":"GitHub Discussion #59167"}],"에서 보고된 CDN 캐싱 실패입니다. 동일한 제품 페이지임에도 접근 경로에 따라 다른 RSC 해시가 생성되어:"]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"code-highlight","data-language":"","children":["$","code",null,{"className":"code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":"product/299336/?_rsc=1vl30\n"}],["$","span",null,{"className":"code-line line-number","line":"2","children":"product/299336/?_rsc=qe3go  \n"}],["$","span",null,{"className":"code-line line-number","line":"3","children":"product/299336/?_rsc=1vg99\n"}],["$","span",null,{"className":"code-line line-number","line":"4","children":"product/299336/?_rsc=1stsw\n"}]]}]}]}],"\n",["$","p",null,{"children":["각각 별도의 서버 요청이 발생하며, ",["$","strong",null,{"children":"CDN을 완전히 우회"}],"하여 직접 서버로 전달됩니다. 이는 고트래픽 환경에서 심각한 성능 저하와 비용 증가를 초래합니다."]}],"\n",["$","h2",null,{"id":"nextjs-내부-아키텍처의-근본적-차이","children":"Next.js 내부 아키텍처의 근본적 차이"}],"\n",["$","h3",null,{"id":"router-구현과-네비게이션-처리","children":"Router 구현과 네비게이션 처리"}],"\n",["$","p",null,{"children":["정적 빌드와 서버 환경의 Router 동작 방식은 근본적으로 다릅니다. ",["$","strong",null,{"children":"Next.js 공식 문서"}],"에 따르면:"]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Static Export 환경"}],"에서는 모든 라우팅이 클라이언트 사이드에서 처리되며, SPA와 유사한 동작을 보입니다. Next.js 클라이언트 코드 ",["$","code",null,{"children":"/packages/next/src/client/components/router-reducer/fetch-server-response.ts"}],"에서:"]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"process",["$","span",null,{"className":"token punctuation","children":"."}],"env",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token constant","children":"NODE_ENV"}]," ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token string","children":"'production'"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"process",["$","span",null,{"className":"token punctuation","children":"."}],"env",["$","span",null,{"className":"token punctuation","children":"."}],"__NEXT_CONFIG_OUTPUT ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token string","children":"'export'"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"fetchUrl",["$","span",null,{"className":"token punctuation","children":"."}],"pathname ",["$","span",null,{"className":"token operator","children":"==="}]," basePath",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["      fetchUrl",["$","span",null,{"className":"token punctuation","children":"."}],"pathname ",["$","span",null,{"className":"token operator","children":"+="}]," ",["$","span",null,{"className":"token string","children":"'/index.txt'"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"else"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["      fetchUrl",["$","span",null,{"className":"token punctuation","children":"."}],"pathname ",["$","span",null,{"className":"token operator","children":"+="}]," ",["$","span",null,{"className":"token string","children":"'.txt'"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Server 환경"}],"에서는 Server-centric routing을 사용하여 클라이언트가 route map을 다운로드할 필요가 없습니다. ",["$","strong",null,{"children":"Stack Overflow의 Next 13 Server-centric routing 분석"}],"에 따르면, 서버에서 라우트 정보를 관리하고 클라이언트는 Link 컴포넌트로 SPA 스타일 네비게이션을 수행합니다."]}],"\n",["$","h3",null,{"id":"프리페치-전략의-구조적-차이","children":"프리페치 전략의 구조적 차이"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Web.dev의 Route Prefetching in Next.js 분석"}],"에 따르면, 프리페치 전략에서도 명확한 차이가 있습니다:"]}],"\n",["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"구분"}],["$","th",null,{"children":"Static Export"}],["$","th",null,{"children":"Server Instance"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"메커니즘"}]}],["$","td",null,{"children":"파일 기반 (표준 브라우저 prefetch)"}],["$","td",null,{"children":["API 기반 (",["$","code",null,{"children":"?_rsc="}]," 쿼리)"]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"대상"}]}],["$","td",null,{"children":"정적 HTML/JS/CSS 파일"}],["$","td",null,{"children":"동적 RSC payload"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"캐싱"}]}],["$","td",null,{"children":"브라우저/CDN 표준 캐시"}],["$","td",null,{"children":"Router Cache (인메모리)"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"무효화"}]}],["$","td",null,{"children":"배포 시점에만"}],["$","td",null,{"children":[["$","code",null,{"children":"router.refresh()"}],", ",["$","code",null,{"children":"revalidatePath()"}]]}]]}]]}]]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Next.js 공식 문서"}],"에 따르면, Link 컴포넌트의 prefetch 속성은 정적 라우트에서 전체 라우트를 프리페치하지만, 동적 라우트에서는 가장 가까운 loading.js boundary까지만 부분 프리페치합니다."]}],"\n",["$","h2",null,{"id":"빌드-시스템과-파일-생성-프로세스","children":"빌드 시스템과 파일 생성 프로세스"}],"\n",["$","h3",null,{"id":"static-export의-빌드-최적화","children":"Static Export의 빌드 최적화"}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"next build && next export"}]," 과정에서 RSC 페이로드 생성은 ",["$","strong",null,{"children":"app-page.ts"}],"에서 다음과 같이 처리됩니다:"]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token keyword","children":"await"}]," ",["$","span",null,{"className":"token function","children":"fileWriter"}],["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":["  ExportedAppPageFiles",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token constant","children":"HTML"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  htmlFilepath",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["  html ",["$","span",null,{"className":"token operator","children":"??"}]," ",["$","span",null,{"className":"token string","children":"''"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token string","children":"'utf8'"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":[["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"8","children":[["$","span",null,{"className":"token keyword","children":"await"}]," ",["$","span",null,{"className":"token function","children":"fileWriter"}],["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["  ExportedAppPageFiles",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token constant","children":"FLIGHT"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["  htmlFilepath",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"replace"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token regex-source language-regex","children":[["$","span",null,{"className":"token special-escape escape","children":"\\."}],"html",["$","span",null,{"className":"token anchor function","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'.txt'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":"  flightData\n"}],["$","span",null,{"className":"code-line line-number","line":"12","children":[["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"GitHub Issue #74445"}],"에서 확인된 ",["$","code",null,{"children":"skipTrailingSlashRedirect"}]," 설정 시 문제와 ",["$","strong",null,{"children":"GitHub Issue #73427"}],"의 ",["$","code",null,{"children":"basePath"}]," 설정 충돌 문제는 정적 export의 경로 매핑 복잡성을 보여줍니다."]}],"\n",["$","h3",null,{"id":"server-환경의-동적-생성-프로세스","children":"Server 환경의 동적 생성 프로세스"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Smashing Magazine의 RSC Forensics 분석"}],"에 따르면, 서버 환경에서는 Out-of-Order 스트리밍을 통해 컴포넌트 완료 순서와 관계없이 올바른 위치에 삽입됩니다. Suspense 경계를 활용하여 데이터 로딩 중인 컴포넌트는 fallback으로 대체되고, Promise 해결 시 해당 부분만 업데이트됩니다."]}],"\n",["$","h2",null,{"id":"성능과-네트워크-특성-비교","children":"성능과 네트워크 특성 비교"}],"\n",["$","h3",null,{"id":"cdn-캐싱-효율성과-서버-부하","children":"CDN 캐싱 효율성과 서버 부하"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"YLD.io의 Ledger 프로젝트 사례"}],"에서 정적 빌드의 캐시 응답 시간이 서버 응답보다 현저히 짧았습니다. 반면 ",["$","strong",null,{"children":"GitHub Discussion #59167"}],"의 고트래픽 프로젝트에서는 동적 RSC의 치명적 문제가 보고되었습니다:"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"💰 100만 요청과 100,000개 이상 제품"}]," 처리를 위해 매우 비싼 서버 구성 다수 필요"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"🚫 RSC 요청이 CDN을 완전히 우회"}],"하여 직접 서버로 전달"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"📈 Vercel이 AWS나 AWS 래퍼(flightcontrol) 대비"}]," 느리고 비용 효율성 낮음"]}],"\n"]}],"\n",["$","h3",null,{"id":"javascript-번들-크기와-네트워크-효율성","children":"JavaScript 번들 크기와 네트워크 효율성"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"GeekyAnts 사례"}],"에서 RSC 도입으로 JavaScript/TypeScript 코드를 ",["$","strong",null,{"children":"82,926줄에서 43,294줄로 52% 감소"}]," 달성했습니다. Lighthouse 점수는 50점에서 90점 이상으로, LCP 2500ms 미만 사용자 비율은 66.89%에서 81.65%로 개선되었습니다."]}],"\n",["$","h3",null,{"id":"트레이드오프와-적용-시나리오","children":"트레이드오프와 적용 시나리오"}],"\n",["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"측면"}],["$","th",null,{"children":"Static Export"}],["$","th",null,{"children":"Server Instance"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"💰 비용"}]}],["$","td",null,{"children":"CDN 호스팅만으로 충분 (저비용)"}],["$","td",null,{"children":"서버 인프라 필요 (고비용)"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"⚡ 성능"}]}],["$","td",null,{"children":"즉각적 CDN 응답"}],["$","td",null,{"children":"TTFB 지연, 서버 부하"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"📈 확장성"}]}],["$","td",null,{"children":"무제한 (CDN 기반)"}],["$","td",null,{"children":"서버 리소스에 제한"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"🔄 유연성"}]}],["$","td",null,{"children":"빌드 타임 데이터만"}],["$","td",null,{"children":"실시간 개인화 가능"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"🎯 적합 사례"}]}],["$","td",null,{"children":"마케팅 사이트, 블로그, 문서"}],["$","td",null,{"children":"대시보드, 장바구니, 실시간 앱"}]]}]]}]]}],"\n",["$","h2",null,{"id":"실제-구현-예제와-최적화-전략","children":"실제 구현 예제와 최적화 전략"}],"\n",["$","h3",null,{"id":"정적-빌드-최적화-설정","children":"정적 빌드 최적화 설정"}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-javascript code-highlight","data-language":"javascript","children":["$","code",null,{"className":"language-javascript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// next.config.js"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token literal-property property","children":"output"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'export'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["  ",["$","span",null,{"className":"token literal-property property","children":"images"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":["    ",["$","span",null,{"className":"token literal-property property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'custom'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token literal-property property","children":"loaderFile"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'./my-loader.ts'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["  ",["$","span",null,{"className":"token literal-property property","children":"experimental"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["    ",["$","span",null,{"className":"token literal-property property","children":"staleTimes"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["      ",["$","span",null,{"className":"token literal-property property","children":"dynamic"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["      ",["$","span",null,{"className":"token keyword","children":"static"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"300"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"14","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}]}],"\n",["$","h3",null,{"id":"하이브리드-컴포넌트-구조","children":"하이브리드 컴포넌트 구조"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"YLD.io 사례"}],"의 하이브리드 전략을 적용한 구현:"]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-typescript code-highlight","data-language":"typescript","children":["$","code",null,{"className":"language-typescript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token comment","children":"// Server Component (정적 부분)"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"default"}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"ProductPage"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," params ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," product ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"await"}]," ",["$","span",null,{"className":"token function","children":"getStaticProduct"}],["$","span",null,{"className":"token punctuation","children":"("}],"params",["$","span",null,{"className":"token punctuation","children":"."}],"id",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":"  \n"}],["$","span",null,{"className":"code-line line-number","line":"5","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"6","children":["    ",["$","span",null,{"className":"token operator","children":"<"}],"div",["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"7","children":["      ",["$","span",null,{"className":"token operator","children":"<"}],"ProductInfo product",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"{"}],"product",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"8","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token comment","children":"/* 민감한 데이터는 클라이언트에서 처리 */"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"9","children":["      ",["$","span",null,{"className":"token operator","children":"<"}],"UserSpecificContent ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"10","children":["    ",["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token operator","children":"/"}],"div",["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"11","children":["  ",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"12","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"13","children":"\n"}],["$","span",null,{"className":"code-line line-number","line":"14","children":[["$","span",null,{"className":"token comment","children":"// Client Component (동적 부분)"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"15","children":[["$","span",null,{"className":"token string","children":"'use client'"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"16","children":[["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"UserSpecificContent"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"17","children":["  ",["$","span",null,{"className":"token comment","children":"// 사용자별 데이터는 클라이언트에서 처리"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"18","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token operator","children":"<"}],"PersonalizedRecommendations ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"19","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}]}],"\n",["$","h3",null,{"id":"캐시-헤더-최적화","children":"캐시 헤더 최적화"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Vercel 환경에서의 캐시 제어 우선순위"}],":"]}],"\n",["$","div",null,{"className":"code-block-wrapper my-6","children":["$","$L18",null,{"className":"language-javascript code-highlight","data-language":"javascript","children":["$","code",null,{"className":"language-javascript code-highlight","children":[["$","span",null,{"className":"code-line line-number","line":"1","children":[["$","span",null,{"className":"token keyword","children":"const"}]," headers ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"2","children":["  ",["$","span",null,{"className":"token string-property property","children":"'Cache-Control'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'public, max-age=31536000, immutable'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"3","children":["  ",["$","span",null,{"className":"token string-property property","children":"'CDN-Cache-Control'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'public, max-age=86400'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"4","children":["  ",["$","span",null,{"className":"token string-property property","children":"'Vercel-CDN-Cache-Control'"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'public, max-age=3600'"}],"\n"]}],["$","span",null,{"className":"code-line line-number","line":"5","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]}],"\n",["$","h2",null,{"id":"결론과-권장사항","children":"결론과 권장사항"}],"\n",["$","p",null,{"children":["Next.js의 RSC 구현은 정적 빌드와 서버 인스턴스 환경에서 근본적으로 다른 아키텍처를 보여줍니다. ",["$","strong",null,{"children":"정적 빌드의 .txt 파일 기반 접근"}],"은 CDN 친화적이고 확장성이 뛰어나지만 실시간 데이터 처리에 제한이 있습니다. ",["$","strong",null,{"children":"서버 환경의 동적 RSC 처리"}],"는 유연성과 개인화를 제공하지만, ",["$","strong",null,{"children":"GitHub Issue #65335"}],"에서 확인된 CDN 캐싱 문제로 인해 고트래픽 환경에서 심각한 성능 저하와 비용 증가를 초래할 수 있습니다."]}],"\n",["$","h3",null,{"id":"-고트래픽-환경을-위한-핵심-권장사항","children":"🎯 고트래픽 환경을 위한 핵심 권장사항"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"예산 제약이 있다면"}]," Pages Router 사용 고려"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"정적 콘텐츠 중심이라면"}]," Static Export 우선 적용"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"하이브리드가 필요하다면"}]," 민감하지 않은 데이터만 서버 사이드 캐싱"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"대규모 제품 카탈로그의 경우"}]," RSC 해시 문제로 인한 CDN 비효율성 신중히 검토"]}],"\n"]}],"\n",["$","p",null,{"children":["RSC의 CDN 캐싱 문제는 ",["$","strong",null,{"children":"Next.js 팀이 추적 중인 확인된 이슈"}],"이며, 현재로서는 각 프로젝트의 특성에 맞는 신중한 아키텍처 선택이 필요합니다."]}],"\n",["$","p",null,{"children":"결국 기술의 선택은 트레이드오프의 연속입니다. 정적 빌드의 단순함과 효율성을 취할 것인가, 아니면 서버 사이드의 유연성과 실시간성을 선택할 것인가? 이 글이 여러분의 프로젝트에 맞는 최적의 선택을 하는 데 도움이 되기를 바랍니다."}]]
12:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
d:null
16:{"metadata":[["$","title","0",{"children":"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포 | Blog"}],["$","meta","1",{"name":"description","content":"Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다."}],["$","meta","2",{"name":"author","content":"지크"}],["$","meta","3",{"name":"keywords","content":"Next.js, RSC, React Server Components, 정적 빌드, 서버 배포, 프리페치, 성능 최적화"}],["$","meta","4",{"name":"creator","content":"지크"}],["$","meta","5",{"name":"publisher","content":"Blog"}],["$","meta","6",{"name":"robots","content":"index, follow"}],["$","meta","7",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","meta","8",{"name":"google-site-verification","content":"wjBK5vsP3u8w2Mb0BHXkojvPGQ56soPTBYg2fU5dg5k"}],["$","meta","9",{"property":"og:title","content":"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포 | Blog"}],["$","meta","10",{"property":"og:description","content":"Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다."}],["$","meta","11",{"property":"og:url","content":"https://leeduhan.github.io/posts/react/2025-08-21-nextjs-rsc-prefetch-static-vs-server"}],["$","meta","12",{"property":"og:site_name","content":"Blog"}],["$","meta","13",{"property":"og:image","content":"https://leeduhan.github.io/og-image.jpg"}],["$","meta","14",{"property":"og:image:width","content":"1200"}],["$","meta","15",{"property":"og:image:height","content":"630"}],["$","meta","16",{"property":"og:image:alt","content":"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포"}],["$","meta","17",{"property":"og:type","content":"article"}],["$","meta","18",{"property":"article:published_time","content":"2025-08-21"}],["$","meta","19",{"property":"article:author","content":"지크"}],["$","meta","20",{"property":"article:tag","content":"Next.js"}],["$","meta","21",{"property":"article:tag","content":"RSC"}],["$","meta","22",{"property":"article:tag","content":"React Server Components"}],["$","meta","23",{"property":"article:tag","content":"정적 빌드"}],["$","meta","24",{"property":"article:tag","content":"서버 배포"}],["$","meta","25",{"property":"article:tag","content":"프리페치"}],["$","meta","26",{"property":"article:tag","content":"성능 최적화"}],["$","meta","27",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","28",{"name":"twitter:creator","content":"@지크"}],["$","meta","29",{"name":"twitter:title","content":"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포 | Blog"}],["$","meta","30",{"name":"twitter:description","content":"Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다."}],["$","meta","31",{"name":"twitter:image","content":"https://leeduhan.github.io/og-image.jpg"}],["$","link","32",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]],"error":null,"digest":"$undefined"}
10:{"metadata":"$16:metadata","error":null,"digest":"$undefined"}
