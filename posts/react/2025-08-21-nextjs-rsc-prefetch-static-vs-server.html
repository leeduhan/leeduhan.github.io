<!DOCTYPE html><!--_v7fzkm_l0zcv6S397Vdl--><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/cccb392035531e6f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-40e50164d8331064.js"/><script src="/_next/static/chunks/4bd1b696-100b9d70ed4e49c1.js" async=""></script><script src="/_next/static/chunks/1255-75d7198d5bd8e6ef.js" async=""></script><script src="/_next/static/chunks/main-app-e79dd18a95871015.js" async=""></script><script src="/_next/static/chunks/2619-04bc32f026a0d946.js" async=""></script><script src="/_next/static/chunks/7720-a4d9d3edf996d8ef.js" async=""></script><script src="/_next/static/chunks/app/layout-6849ab202b22ed25.js" async=""></script><script src="/_next/static/chunks/02b2f66c-e808af2a0ee9dd00.js" async=""></script><script src="/_next/static/chunks/2554-e225077d892b52bd.js" async=""></script><script src="/_next/static/chunks/app/posts/%5B...slug%5D/page-932bc826430ae8b6.js" async=""></script><meta name="next-size-adjust" content=""/><title>Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포 | Blog</title><meta name="description" content="Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다."/><meta name="author" content="지크"/><meta name="keywords" content="Next.js, RSC, React Server Components, 정적 빌드, 서버 배포, 프리페치, 성능 최적화"/><meta name="creator" content="지크"/><meta name="publisher" content="Blog"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><meta name="google-site-verification" content="wjBK5vsP3u8w2Mb0BHXkojvPGQ56soPTBYg2fU5dg5k"/><meta property="og:title" content="Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포 | Blog"/><meta property="og:description" content="Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다."/><meta property="og:url" content="https://leeduhan.github.io/posts/react/2025-08-21-nextjs-rsc-prefetch-static-vs-server"/><meta property="og:site_name" content="Blog"/><meta property="og:image" content="https://leeduhan.github.io/og-image.jpg"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-08-21"/><meta property="article:author" content="지크"/><meta property="article:tag" content="Next.js"/><meta property="article:tag" content="RSC"/><meta property="article:tag" content="React Server Components"/><meta property="article:tag" content="정적 빌드"/><meta property="article:tag" content="서버 배포"/><meta property="article:tag" content="프리페치"/><meta property="article:tag" content="성능 최적화"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@지크"/><meta name="twitter:title" content="Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포 | Blog"/><meta name="twitter:description" content="Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다."/><meta name="twitter:image" content="https://leeduhan.github.io/og-image.jpg"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_f367f3 antialiased min-h-screen"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen flex-col"><header class="sticky top-0 z-50 w-full border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/80"><div class="container max-w-4xl mx-auto flex h-16 items-center justify-between px-4"><a class="flex items-center space-x-2 text-xl font-semibold transition-colors hover:text-primary" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text h-6 w-6 text-primary" aria-hidden="true"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg><span>Blog</span></a><div class="flex items-center space-x-6"><nav class="flex items-center space-x-6"><a class="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground" href="/">홈</a><a class="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground" href="/tags">태그</a><a class="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground" href="/about">소개</a></nav><a href="https://github.com/leeduhan" target="_blank" rel="noopener noreferrer" class="text-muted-foreground transition-colors hover:text-foreground" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-5 w-5" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><button class="h-9 w-9 rounded-lg border border-border hover:bg-accent hover:text-accent-foreground inline-flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2" title="테마 변경" type="button" id="radix-_R_77b_" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-monitor h-[1.2rem] w-[1.2rem]" aria-hidden="true"><rect width="20" height="14" x="2" y="3" rx="2"></rect><line x1="8" x2="16" y1="21" y2="21"></line><line x1="12" x2="12" y1="17" y2="21"></line></svg><span class="sr-only">테마 변경</span></button></div></div></header><main class="flex-1"><div class="container max-w-4xl mx-auto px-4 py-8"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포","description":"Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다.","image":["https://leeduhan.github.io/og-image.jpg"],"author":{"@type":"Person","name":"지크"},"publisher":{"@type":"Organization","name":"Blog","logo":{"@type":"ImageObject","url":"https://leeduhan.github.io/logo.png"}},"url":"https://leeduhan.github.io/posts/react/2025-08-21-nextjs-rsc-prefetch-static-vs-server","datePublished":"2025-08-21","dateModified":"2025-08-21","keywords":"Next.js, RSC, React Server Components, 정적 빌드, 서버 배포, 프리페치, 성능 최적화","articleSection":"Technology","inLanguage":"ko-KR"}</script><div class="max-w-3xl mx-auto space-y-8"><div class="pt-4"><a class="inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left h-4 w-4" aria-hidden="true"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg><span>홈으로 돌아가기</span></a></div><article class="space-y-8"><header class="space-y-6"><div class="space-y-6"><h1 class="text-5xl font-bold tracking-tight leading-tight">Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포</h1></div><div class="flex flex-wrap items-center gap-6 text-sm text-muted-foreground py-4"><time dateTime="2025-08-21" class="flex items-center gap-2"><span>📅</span>2025년 8월 21일</time><div class="flex flex-wrap items-center gap-2"><span>🏷️</span><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/nextjs">Next.js</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/rsc">RSC</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/react-server-components">React Server Components</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/static-build">정적 빌드</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/server-deployment">서버 배포</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/prefetch">프리페치</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/performance-optimization">성능 최적화</a></div></div><div class="bg-accent/50 rounded-lg p-6 border-l-4 border-primary"><p class="text-lg leading-relaxed italic text-muted-foreground">Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다.</p></div></header><div class="notion-content"><h1 id="nextjs-rsc-프리페치-동작-차이-분석-정적-빌드-vs-서버-인스턴스-배포">Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포</h1>
<p>Next.js 애플리케이션을 운영하다 보면 흥미로운 문제에 직면하게 됩니다. 동일한 코드베이스임에도 불구하고 정적 빌드로 배포한 사이트와 서버에서 실행하는 사이트의 성능이 극명하게 다르다는 것입니다.</p>
<p>특히 고트래픽 환경에서 이 차이는 더욱 두드러집니다. 정적 사이트는 CDN의 도움으로 빠르게 로딩되지만, 서버 사이트는 예상보다 느리고 비용도 많이 발생합니다. 그 원인은 무엇일까요?</p>
<p>답은 <strong>React Server Components(RSC)의 프리페치 메커니즘</strong>에 있습니다. Next.js는 정적 빌드와 서버 인스턴스 환경에서 완전히 다른 방식으로 RSC를 처리하며, 이는 성능 특성과 비용 구조에 근본적인 차이를 만들어냅니다.</p>
<h2 id="목차">목차</h2>
<ol>
<li><a href="#%EC%A0%95%EC%A0%81-%EB%B9%8C%EB%93%9C%EC%97%90%EC%84%9C%EC%9D%98-rsc-%ED%8E%98%EC%9D%B4%EB%A1%9C%EB%93%9C-%EC%B2%98%EB%A6%AC">정적 빌드에서의 RSC 페이로드 처리</a></li>
<li><a href="#%EC%84%9C%EB%B2%84-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%EC%97%90%EC%84%9C%EC%9D%98-%EB%8F%99%EC%A0%81-rsc-%EC%B2%98%EB%A6%AC">서버 인스턴스에서의 동적 RSC 처리</a></li>
<li><a href="#nextjs-%EB%82%B4%EB%B6%80-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%9D%98-%EA%B7%BC%EB%B3%B8%EC%A0%81-%EC%B0%A8%EC%9D%B4">Next.js 내부 아키텍처의 근본적 차이</a></li>
<li><a href="#%EB%B9%8C%EB%93%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C%EA%B3%BC-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4">빌드 시스템과 파일 생성 프로세스</a></li>
<li><a href="#%EC%84%B1%EB%8A%A5%EA%B3%BC-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%ED%8A%B9%EC%84%B1-%EB%B9%84%EA%B5%90">성능과 네트워크 특성 비교</a></li>
<li><a href="#%EC%8B%A4%EC%A0%9C-%EA%B5%AC%ED%98%84-%EC%98%88%EC%A0%9C%EC%99%80-%EC%B5%9C%EC%A0%81%ED%99%94-%EC%A0%84%EB%9E%B5">실제 구현 예제와 최적화 전략</a></li>
<li><a href="#%EA%B2%B0%EB%A1%A0%EA%B3%BC-%EA%B6%8C%EC%9E%A5%EC%82%AC%ED%95%AD">결론과 권장사항</a></li>
</ol>
<h2 id="정적-빌드에서의-rsc-페이로드-처리">정적 빌드에서의 RSC 페이로드 처리</h2>
<h3 id="txt-파일-생성-메커니즘과-설계-철학">.txt 파일 생성 메커니즘과 설계 철학</h3>
<p>Next.js의 정적 빌드 환경에서 RSC 페이로드가 <code>.txt</code> 파일로 생성되는 것은 의도적인 설계 결정입니다. <strong>GitHub Discussion #59394</strong>에 따르면, 원래 <code>.rsc</code> 확장자를 사용했으나 Next.js 커밋 <code>af8963d</code>에서 <code>.txt</code>로 변경되었습니다.</p>
<p>이 변경의 핵심 이유는 <strong>호환성과 안정성</strong>입니다. 대부분의 웹 서버가 <code>.txt</code> 확장자를 <code>text/plain</code> MIME 타입으로 기본 제공하여 정적 호스팅 환경에서 별도 설정 없이 안정적으로 서빙될 수 있기 때문입니다.</p>
<p>Next.js 소스코드 <code>/packages/next/src/export/routes/app-page.ts</code>에서 확인할 수 있는 파일 생성 프로세스는 다음과 같습니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// RSC payload 생성 과정</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">if</span> <span class="token punctuation">(</span>flightData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword">await</span> <span class="token function">fileWriter</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="4">    ExportedAppPageFiles<span class="token punctuation">.</span><span class="token constant">FLIGHT</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">    htmlFilepath<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token special-escape escape">\.</span>html<span class="token anchor function">$</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#x27;.txt&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">    flightData
</span><span class="code-line line-number" line="7">  <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<p>이 메커니즘은 <strong>빌드 시점에 모든 RSC 페이로드를 사전 생성</strong>하여 런타임 계산 부담을 제거합니다. <code>https://leeduhan.github.io/posts/react/2025-08-19-html2canvas_cors_guide.txt?_rsc=1ld0r</code> 형태의 URL은 경로 기반 파일 시스템 매핑을 통해 정적 파일로 직접 연결됩니다.</p>
<h3 id="빌드-프로세스와-파일-시스템-구조">빌드 프로세스와 파일 시스템 구조</h3>
<p><code>next build</code> 실행 시 RSC 파일 생성은 HTML 파일과 병렬로 처리됩니다. <strong>GitHub Issue #73427</strong>에서 확인된 파일 명명 규칙에 따르면, 경로가 <code>/</code>로 끝나는 경우 <code>.txt</code>를 추가하고, 그 외의 경우 <code>index.txt</code>를 추가합니다.</p>
<p>빌드 후 생성되는 <code>out</code> 디렉토리 구조는 다음과 같습니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">code-highlight</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words code-highlight"><code class="code-highlight"><span class="code-line line-number" line="1">out/
</span><span class="code-line line-number" line="2">├── index.html
</span><span class="code-line line-number" line="3">├── index.txt          # 루트 경로의 RSC payload
</span><span class="code-line line-number" line="4">├── about/
</span><span class="code-line line-number" line="5">│   ├── index.html
</span><span class="code-line line-number" line="6">│   └── index.txt      # /about 경로의 RSC payload
</span><span class="code-line line-number" line="7">└── posts/
</span><span class="code-line line-number" line="8">    ├── [id].html
</span><span class="code-line line-number" line="9">    └── [id].txt       # 동적 라우트의 RSC payload
</span></code></pre></div></div>
<p>이러한 구조는 <strong>GitHub Pages나 Vercel Static Hosting</strong> 같은 정적 호스팅 서비스에서 추가 설정 없이 즉시 배포 가능하며, CDN을 통한 aggressive 캐싱이 가능합니다. <strong>Vercel 보안 문서 CVE-2025-49005</strong>에 따르면, RSC 페이로드는 <code>Vary: RSC, Next-Router-State-Tree, Next-Router-Prefetch</code> 헤더를 통해 캐시 키 분리를 보장합니다.</p>
<h2 id="서버-인스턴스에서의-동적-rsc-처리">서버 인스턴스에서의 동적 RSC 처리</h2>
<h3 id="react-flight-프로토콜과-실시간-페이로드-생성">React Flight 프로토콜과 실시간 페이로드 생성</h3>
<p>서버 환경에서 <code>https://example-store.com/product/4564?_rsc=1ni0o</code> 형태의 동적 경로는 <strong>React Flight 프로토콜</strong>을 통해 처리됩니다. <strong>Tony Alicea의 RSC 심층 분석</strong>에 따르면, 서버 컴포넌트 실행 → Flight 직렬화 → 스트리밍 전송의 3단계로 진행됩니다.</p>
<p>**React Working Group RSC 구현 가이드 (Discussion #5)**에서 설명하는 Flight 프로토콜의 직렬화 과정은 다음과 같습니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 서버에서 JSX.stringify 시 Symbol 치환</span>
</span><span class="code-line line-number" line="2"><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>jsx<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token known-class-name class-name">Symbol</span><span class="token punctuation">.</span><span class="token keyword control-flow">for</span><span class="token punctuation">(</span><span class="token string">&#x27;react.element&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword control-flow">return</span> <span class="token string">&#x27;$RE&#x27;</span><span class="token punctuation">;</span> <span class="token comment">// 특수 문자열로 치환</span>
</span><span class="code-line line-number" line="5">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="6">  <span class="token keyword control-flow">return</span> value<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment">// 클라이언트에서 JSON.parse 시 Symbol 복원</span>
</span><span class="code-line line-number" line="10"><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">&#x27;$RE&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">    <span class="token keyword control-flow">return</span> <span class="token known-class-name class-name">Symbol</span><span class="token punctuation">.</span><span class="token keyword control-flow">for</span><span class="token punctuation">(</span><span class="token string">&#x27;react.element&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14">  <span class="token keyword control-flow">return</span> value<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h3 id="동적-라우팅과-rsc-파라미터-처리">동적 라우팅과 RSC 파라미터 처리</h3>
<p><strong>GitHub Issue #65335</strong>에서 확인된 바에 따르면, App Router는 <code>RSC: 1</code> 헤더와 <code>_rsc</code> 파라미터 존재 여부를 검사하여 RSC 요청을 구분합니다. <code>Next-Router-State-Tree</code> 헤더를 통해 라우터 상태를 추적하며, 각 요청마다 <strong>고유한 RSC 해시를 생성</strong>합니다.</p>
<p><strong>⚠️ 치명적인 문제점</strong>은 <strong>GitHub Discussion #59167</strong>에서 보고된 CDN 캐싱 실패입니다. 동일한 제품 페이지임에도 접근 경로에 따라 다른 RSC 해시가 생성되어:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">code-highlight</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words code-highlight"><code class="code-highlight"><span class="code-line line-number" line="1">product/299336/?_rsc=1vl30
</span><span class="code-line line-number" line="2">product/299336/?_rsc=qe3go  
</span><span class="code-line line-number" line="3">product/299336/?_rsc=1vg99
</span><span class="code-line line-number" line="4">product/299336/?_rsc=1stsw
</span></code></pre></div></div>
<p>각각 별도의 서버 요청이 발생하며, <strong>CDN을 완전히 우회</strong>하여 직접 서버로 전달됩니다. 이는 고트래픽 환경에서 심각한 성능 저하와 비용 증가를 초래합니다.</p>
<h2 id="nextjs-내부-아키텍처의-근본적-차이">Next.js 내부 아키텍처의 근본적 차이</h2>
<h3 id="router-구현과-네비게이션-처리">Router 구현과 네비게이션 처리</h3>
<p>정적 빌드와 서버 환경의 Router 동작 방식은 근본적으로 다릅니다. <strong>Next.js 공식 문서</strong>에 따르면:</p>
<p><strong>Static Export 환경</strong>에서는 모든 라우팅이 클라이언트 사이드에서 처리되며, SPA와 유사한 동작을 보입니다. Next.js 클라이언트 코드 <code>/packages/next/src/client/components/router-reducer/fetch-server-response.ts</code>에서:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#x27;production&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>__NEXT_CONFIG_OUTPUT <span class="token operator">===</span> <span class="token string">&#x27;export&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">if</span> <span class="token punctuation">(</span>fetchUrl<span class="token punctuation">.</span>pathname <span class="token operator">===</span> basePath<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">      fetchUrl<span class="token punctuation">.</span>pathname <span class="token operator">+=</span> <span class="token string">&#x27;/index.txt&#x27;</span>
</span><span class="code-line line-number" line="5">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">      fetchUrl<span class="token punctuation">.</span>pathname <span class="token operator">+=</span> <span class="token string">&#x27;.txt&#x27;</span>
</span><span class="code-line line-number" line="7">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="8">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<p><strong>Server 환경</strong>에서는 Server-centric routing을 사용하여 클라이언트가 route map을 다운로드할 필요가 없습니다. <strong>Stack Overflow의 Next 13 Server-centric routing 분석</strong>에 따르면, 서버에서 라우트 정보를 관리하고 클라이언트는 Link 컴포넌트로 SPA 스타일 네비게이션을 수행합니다.</p>
<h3 id="프리페치-전략의-구조적-차이">프리페치 전략의 구조적 차이</h3>
<p><strong>Web.dev의 Route Prefetching in Next.js 분석</strong>에 따르면, 프리페치 전략에서도 명확한 차이가 있습니다:</p>
<table><thead><tr><th>구분</th><th>Static Export</th><th>Server Instance</th></tr></thead><tbody><tr><td><strong>메커니즘</strong></td><td>파일 기반 (표준 브라우저 prefetch)</td><td>API 기반 (<code>?_rsc=</code> 쿼리)</td></tr><tr><td><strong>대상</strong></td><td>정적 HTML/JS/CSS 파일</td><td>동적 RSC payload</td></tr><tr><td><strong>캐싱</strong></td><td>브라우저/CDN 표준 캐시</td><td>Router Cache (인메모리)</td></tr><tr><td><strong>무효화</strong></td><td>배포 시점에만</td><td><code>router.refresh()</code>, <code>revalidatePath()</code></td></tr></tbody></table>
<p><strong>Next.js 공식 문서</strong>에 따르면, Link 컴포넌트의 prefetch 속성은 정적 라우트에서 전체 라우트를 프리페치하지만, 동적 라우트에서는 가장 가까운 loading.js boundary까지만 부분 프리페치합니다.</p>
<h2 id="빌드-시스템과-파일-생성-프로세스">빌드 시스템과 파일 생성 프로세스</h2>
<h3 id="static-export의-빌드-최적화">Static Export의 빌드 최적화</h3>
<p><code>next build &amp;&amp; next export</code> 과정에서 RSC 페이로드 생성은 <strong>app-page.ts</strong>에서 다음과 같이 처리됩니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">await</span> <span class="token function">fileWriter</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="2">  ExportedAppPageFiles<span class="token punctuation">.</span><span class="token constant">HTML</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">  htmlFilepath<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  html <span class="token operator">??</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">  <span class="token string">&#x27;utf8&#x27;</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token keyword">await</span> <span class="token function">fileWriter</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="9">  ExportedAppPageFiles<span class="token punctuation">.</span><span class="token constant">FLIGHT</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="10">  htmlFilepath<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token special-escape escape">\.</span>html<span class="token anchor function">$</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#x27;.txt&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="11">  flightData
</span><span class="code-line line-number" line="12"><span class="token punctuation">)</span>
</span></code></pre></div></div>
<p><strong>GitHub Issue #74445</strong>에서 확인된 <code>skipTrailingSlashRedirect</code> 설정 시 문제와 <strong>GitHub Issue #73427</strong>의 <code>basePath</code> 설정 충돌 문제는 정적 export의 경로 매핑 복잡성을 보여줍니다.</p>
<h3 id="server-환경의-동적-생성-프로세스">Server 환경의 동적 생성 프로세스</h3>
<p><strong>Smashing Magazine의 RSC Forensics 분석</strong>에 따르면, 서버 환경에서는 Out-of-Order 스트리밍을 통해 컴포넌트 완료 순서와 관계없이 올바른 위치에 삽입됩니다. Suspense 경계를 활용하여 데이터 로딩 중인 컴포넌트는 fallback으로 대체되고, Promise 해결 시 해당 부분만 업데이트됩니다.</p>
<h2 id="성능과-네트워크-특성-비교">성능과 네트워크 특성 비교</h2>
<h3 id="cdn-캐싱-효율성과-서버-부하">CDN 캐싱 효율성과 서버 부하</h3>
<p><strong>YLD.io의 Ledger 프로젝트 사례</strong>에서 정적 빌드의 캐시 응답 시간이 서버 응답보다 현저히 짧았습니다. 반면 <strong>GitHub Discussion #59167</strong>의 고트래픽 프로젝트에서는 동적 RSC의 치명적 문제가 보고되었습니다:</p>
<ul>
<li><strong>💰 100만 요청과 100,000개 이상 제품</strong> 처리를 위해 매우 비싼 서버 구성 다수 필요</li>
<li><strong>🚫 RSC 요청이 CDN을 완전히 우회</strong>하여 직접 서버로 전달</li>
<li><strong>📈 Vercel이 AWS나 AWS 래퍼(flightcontrol) 대비</strong> 느리고 비용 효율성 낮음</li>
</ul>
<h3 id="javascript-번들-크기와-네트워크-효율성">JavaScript 번들 크기와 네트워크 효율성</h3>
<p><strong>GeekyAnts 사례</strong>에서 RSC 도입으로 JavaScript/TypeScript 코드를 <strong>82,926줄에서 43,294줄로 52% 감소</strong> 달성했습니다. Lighthouse 점수는 50점에서 90점 이상으로, LCP 2500ms 미만 사용자 비율은 66.89%에서 81.65%로 개선되었습니다.</p>
<h3 id="트레이드오프와-적용-시나리오">트레이드오프와 적용 시나리오</h3>
<table><thead><tr><th>측면</th><th>Static Export</th><th>Server Instance</th></tr></thead><tbody><tr><td><strong>💰 비용</strong></td><td>CDN 호스팅만으로 충분 (저비용)</td><td>서버 인프라 필요 (고비용)</td></tr><tr><td><strong>⚡ 성능</strong></td><td>즉각적 CDN 응답</td><td>TTFB 지연, 서버 부하</td></tr><tr><td><strong>📈 확장성</strong></td><td>무제한 (CDN 기반)</td><td>서버 리소스에 제한</td></tr><tr><td><strong>🔄 유연성</strong></td><td>빌드 타임 데이터만</td><td>실시간 개인화 가능</td></tr><tr><td><strong>🎯 적합 사례</strong></td><td>마케팅 사이트, 블로그, 문서</td><td>대시보드, 장바구니, 실시간 앱</td></tr></tbody></table>
<h2 id="실제-구현-예제와-최적화-전략">실제 구현 예제와 최적화 전략</h2>
<h3 id="정적-빌드-최적화-설정">정적 빌드 최적화 설정</h3>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// next.config.js</span>
</span><span class="code-line line-number" line="2">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token string">&#x27;export&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  <span class="token literal-property property">images</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#x27;custom&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">    <span class="token literal-property property">loaderFile</span><span class="token operator">:</span> <span class="token string">&#x27;./my-loader.ts&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">  <span class="token literal-property property">experimental</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">    <span class="token literal-property property">staleTimes</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">      <span class="token literal-property property">dynamic</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="11">      <span class="token keyword">static</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="12">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="13">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<h3 id="하이브리드-컴포넌트-구조">하이브리드 컴포넌트 구조</h3>
<p><strong>YLD.io 사례</strong>의 하이브리드 전략을 적용한 구현:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">typescript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-typescript code-highlight"><code class="language-typescript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// Server Component (정적 부분)</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">ProductPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword">const</span> product <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getStaticProduct</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">  
</span><span class="code-line line-number" line="5">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="6">    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="7">      <span class="token operator">&lt;</span>ProductInfo product<span class="token operator">=</span><span class="token punctuation">{</span>product<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="8">      <span class="token punctuation">{</span><span class="token comment">/* 민감한 데이터는 클라이언트에서 처리 */</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9">      <span class="token operator">&lt;</span>UserSpecificContent <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="10">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="11">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14"><span class="token comment">// Client Component (동적 부분)</span>
</span><span class="code-line line-number" line="15"><span class="token string">&#x27;use client&#x27;</span>
</span><span class="code-line line-number" line="16"><span class="token keyword">function</span> <span class="token function">UserSpecificContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="17">  <span class="token comment">// 사용자별 데이터는 클라이언트에서 처리</span>
</span><span class="code-line line-number" line="18">  <span class="token keyword">return</span> <span class="token operator">&lt;</span>PersonalizedRecommendations <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="19"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<h3 id="캐시-헤더-최적화">캐시 헤더 최적화</h3>
<p><strong>Vercel 환경에서의 캐시 제어 우선순위</strong>:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> headers <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token string-property property">&#x27;Cache-Control&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;public, max-age=31536000, immutable&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">  <span class="token string-property property">&#x27;CDN-Cache-Control&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;public, max-age=86400&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  <span class="token string-property property">&#x27;Vercel-CDN-Cache-Control&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;public, max-age=3600&#x27;</span>
</span><span class="code-line line-number" line="5"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h2 id="결론과-권장사항">결론과 권장사항</h2>
<p>Next.js의 RSC 구현은 정적 빌드와 서버 인스턴스 환경에서 근본적으로 다른 아키텍처를 보여줍니다. <strong>정적 빌드의 .txt 파일 기반 접근</strong>은 CDN 친화적이고 확장성이 뛰어나지만 실시간 데이터 처리에 제한이 있습니다. <strong>서버 환경의 동적 RSC 처리</strong>는 유연성과 개인화를 제공하지만, <strong>GitHub Issue #65335</strong>에서 확인된 CDN 캐싱 문제로 인해 고트래픽 환경에서 심각한 성능 저하와 비용 증가를 초래할 수 있습니다.</p>
<h3 id="-고트래픽-환경을-위한-핵심-권장사항">🎯 고트래픽 환경을 위한 핵심 권장사항</h3>
<ol>
<li><strong>예산 제약이 있다면</strong> Pages Router 사용 고려</li>
<li><strong>정적 콘텐츠 중심이라면</strong> Static Export 우선 적용</li>
<li><strong>하이브리드가 필요하다면</strong> 민감하지 않은 데이터만 서버 사이드 캐싱</li>
<li><strong>대규모 제품 카탈로그의 경우</strong> RSC 해시 문제로 인한 CDN 비효율성 신중히 검토</li>
</ol>
<p>RSC의 CDN 캐싱 문제는 <strong>Next.js 팀이 추적 중인 확인된 이슈</strong>이며, 현재로서는 각 프로젝트의 특성에 맞는 신중한 아키텍처 선택이 필요합니다.</p>
<p>결국 기술의 선택은 트레이드오프의 연속입니다. 정적 빌드의 단순함과 효율성을 취할 것인가, 아니면 서버 사이드의 유연성과 실시간성을 선택할 것인가? 이 글이 여러분의 프로젝트에 맞는 최적의 선택을 하는 데 도움이 되기를 바랍니다.</p></div></article></div><!--$--><!--/$--></div></main><footer class="border-t py-8 md:py-12"><div class="container max-w-4xl mx-auto px-4"><div class="flex flex-col items-center justify-center space-y-4 text-center"><div class="flex items-center space-x-4 text-sm"><a href="/rss.xml" class="text-muted-foreground hover:text-primary transition-colors" target="_blank" rel="noopener noreferrer">RSS</a><span class="text-muted-foreground">•</span><a href="/feed.json" class="text-muted-foreground hover:text-primary transition-colors" target="_blank" rel="noopener noreferrer">JSON Feed</a></div><p class="text-sm text-muted-foreground">© 2025.06 ~ <!-- -->2025<!-- -->.<!-- -->9<!-- --> Blog</p></div></div></footer></div><script src="/_next/static/chunks/webpack-40e50164d8331064.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[51458,[\"2619\",\"static/chunks/2619-04bc32f026a0d946.js\",\"7720\",\"static/chunks/7720-a4d9d3edf996d8ef.js\",\"7177\",\"static/chunks/app/layout-6849ab202b22ed25.js\"],\"ThemeProvider\"]\n3:I[67655,[\"2619\",\"static/chunks/2619-04bc32f026a0d946.js\",\"7720\",\"static/chunks/7720-a4d9d3edf996d8ef.js\",\"7177\",\"static/chunks/app/layout-6849ab202b22ed25.js\"],\"Analytics\"]\n4:I[67655,[\"2619\",\"static/chunks/2619-04bc32f026a0d946.js\",\"7720\",\"static/chunks/7720-a4d9d3edf996d8ef.js\",\"7177\",\"static/chunks/app/layout-6849ab202b22ed25.js\"],\"GoogleAds\"]\n5:I[52619,[\"1848\",\"static/chunks/02b2f66c-e808af2a0ee9dd00.js\",\"2619\",\"static/chunks/2619-04bc32f026a0d946.js\",\"2554\",\"static/chunks/2554-e225077d892b52bd.js\",\"6156\",\"static/chunks/app/posts/%5B...slug%5D/page-932bc826430ae8b6.js\"],\"\"]\n6:I[449,[\"2619\",\"static/chunks/2619-04bc32f026a0d946.js\",\"7720\",\"static/chunks/7720-a4d9d3edf996d8ef.js\",\"7177\",\"static/chunks/app/layout-6849ab202b22ed25.js\"],\"ThemeToggle\"]\n7:I[9766,[],\"\"]\n8:I[98924,[],\"\"]\nf:I[57150,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/cccb392035531e6f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"_v7fzkm-l0zcv6S397Vdl\",\"p\":\"\",\"c\":[\"\",\"posts\",\"react\",\"2025-08-21-nextjs-rsc-prefetch-static-vs-server\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"react/2025-08-21-nextjs-rsc-prefetch-static-vs-server\",\"c\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/cccb392035531e6f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_f367f3 antialiased min-h-screen\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"div\",null,{\"className\":\"flex min-h-screen flex-col\",\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"$L4\",null,{}],[\"$\",\"header\",null,{\"className\":\"sticky top-0 z-50 w-full border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/80\",\"children\":[\"$\",\"div\",null,{\"className\":\"container max-w-4xl mx-auto flex h-16 items-center justify-between px-4\",\"children\":[[\"$\",\"$L5\",null,{\"href\":\"/\",\"className\":\"flex items-center space-x-2 text-xl font-semibold transition-colors hover:text-primary\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-file-text h-6 w-6 text-primary\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1rqfz7\",{\"d\":\"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\"}],[\"$\",\"path\",\"tnqrlb\",{\"d\":\"M14 2v4a2 2 0 0 0 2 2h4\"}],[\"$\",\"path\",\"b1mrlr\",{\"d\":\"M10 9H8\"}],[\"$\",\"path\",\"t4e002\",{\"d\":\"M16 13H8\"}],[\"$\",\"path\",\"z1uh3a\",{\"d\":\"M16 17H8\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Blog\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-6\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"flex items-center space-x-6\",\"children\":[[\"$\",\"$L5\",null,{\"href\":\"/\",\"className\":\"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground\",\"children\":\"홈\"}],[\"$\",\"$L5\",null,{\"href\":\"/tags\",\"className\":\"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground\",\"children\":\"태그\"}],[\"$\",\"$L5\",null,{\"href\":\"/about\",\"className\":\"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground\",\"children\":\"소개\"}]]}],[\"$\",\"a\",null,{\"href\":\"https://github.com/leeduhan\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"text-muted-foreground transition-colors hover:text-foreground\",\"aria-label\":\"GitHub\",\"children\":[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-github h-5 w-5\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"tonef\",{\"d\":\"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\"}],[\"$\",\"path\",\"9comsn\",{\"d\":\"M9 18c-4.51 2-5-2-7-2\"}],\"$undefined\"]}]}],[\"$\",\"$L6\",null,{}]]}]]}]}],[\"$\",\"main\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"div\",null,{\"className\":\"container max-w-4xl mx-auto px-4 py-8\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],\"$L9\"]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}],\"$La\"]}]}]}]}]]}],{\"children\":[\"posts\",\"$Lb\",{\"children\":[[\"slug\",\"react/2025-08-21-nextjs-rsc-prefetch-static-vs-server\",\"c\"],\"$Lc\",{\"children\":[\"__PAGE__\",\"$Ld\",{},null,false]},null,false]},null,false]},null,false],\"$Le\",false]],\"m\":\"$undefined\",\"G\":[\"$f\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"11:I[24431,[],\"OutletBoundary\"]\n13:I[15278,[],\"AsyncMetadataOutlet\"]\n15:I[24431,[],\"ViewportBoundary\"]\n17:I[24431,[],\"MetadataBoundary\"]\n18:\"$Sreact.suspense\"\n9:[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]\n"])</script><script>self.__next_f.push([1,"a:[\"$\",\"footer\",null,{\"className\":\"border-t py-8 md:py-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"container max-w-4xl mx-auto px-4\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center justify-center space-y-4 text-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-4 text-sm\",\"children\":[[\"$\",\"a\",null,{\"href\":\"/rss.xml\",\"className\":\"text-muted-foreground hover:text-primary transition-colors\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"children\":\"RSS\"}],[\"$\",\"span\",null,{\"className\":\"text-muted-foreground\",\"children\":\"•\"}],[\"$\",\"a\",null,{\"href\":\"/feed.json\",\"className\":\"text-muted-foreground hover:text-primary transition-colors\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"children\":\"JSON Feed\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-muted-foreground\",\"children\":[\"© 2025.06 ~ \",2025,\".\",9,\" Blog\"]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"b:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\nc:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\nd:[\"$\",\"$1\",\"c\",{\"children\":[\"$L10\",null,[\"$\",\"$L11\",null,{\"children\":[\"$L12\",[\"$\",\"$L13\",null,{\"promise\":\"$@14\"}]]}]]}]\ne:[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$L15\",null,{\"children\":\"$L16\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$L17\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$18\",null,{\"fallback\":null,\"children\":\"$L19\"}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포\\\",\\\"description\\\":\\\"Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다.\\\",\\\"image\\\":[\\\"https://leeduhan.github.io/og-image.jpg\\\"],\\\"author\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"지크\\\"},\\\"publisher\\\":{\\\"@type\\\":\\\"Organization\\\",\\\"name\\\":\\\"Blog\\\",\\\"logo\\\":{\\\"@type\\\":\\\"ImageObject\\\",\\\"url\\\":\\\"https://leeduhan.github.io/logo.png\\\"}},\\\"url\\\":\\\"https://leeduhan.github.io/posts/react/2025-08-21-nextjs-rsc-prefetch-static-vs-server\\\",\\\"datePublished\\\":\\\"2025-08-21\\\",\\\"dateModified\\\":\\\"2025-08-21\\\",\\\"keywords\\\":\\\"Next.js, RSC, React Server Components, 정적 빌드, 서버 배포, 프리페치, 성능 최적화\\\",\\\"articleSection\\\":\\\"Technology\\\",\\\"inLanguage\\\":\\\"ko-KR\\\"}\"}}],[\"$\",\"div\",null,{\"className\":\"max-w-3xl mx-auto space-y-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"pt-4\",\"children\":[\"$\",\"$L5\",null,{\"href\":\"/\",\"className\":\"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left h-4 w-4\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"홈으로 돌아가기\"}]]}]}],[\"$\",\"article\",null,{\"className\":\"space-y-8\",\"children\":[[\"$\",\"header\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-5xl font-bold tracking-tight leading-tight\",\"children\":\"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포\"}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center gap-6 text-sm text-muted-foreground py-4\",\"children\":[[\"$\",\"time\",null,{\"dateTime\":\"2025-08-21\",\"className\":\"flex items-center gap-2\",\"children\":[[\"$\",\"span\",null,{\"children\":\"📅\"}],\"2025년 8월 21일\"]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center gap-2\",\"children\":[[\"$\",\"span\",null,{\"children\":\"🏷️\"}],[[\"$\",\"$L5\",\"Next.js\",{\"href\":\"/tags/nextjs\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"Next.js\"}],[\"$\",\"$L5\",\"RSC\",{\"href\":\"/tags/rsc\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"RSC\"}],[\"$\",\"$L5\",\"React Server Components\",{\"href\":\"/tags/react-server-components\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"React Server Components\"}],[\"$\",\"$L5\",\"정적 빌드\",{\"href\":\"/tags/static-build\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"정적 빌드\"}],[\"$\",\"$L5\",\"서버 배포\",{\"href\":\"/tags/server-deployment\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"서버 배포\"}],[\"$\",\"$L5\",\"프리페치\",{\"href\":\"/tags/prefetch\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"프리페치\"}],[\"$\",\"$L5\",\"성능 최적화\",{\"href\":\"/tags/performance-optimization\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"성능 최적화\"}]]]}]]}],\"$L1a\"]}],\"$L1b\"]}]]}]]\n"])</script><script>self.__next_f.push([1,"1a:[\"$\",\"div\",null,{\"className\":\"bg-accent/50 rounded-lg p-6 border-l-4 border-primary\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-lg leading-relaxed italic text-muted-foreground\",\"children\":\"Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다.\"}]}]\n1b:[\"$\",\"div\",null,{\"className\":\"notion-content\",\"children\":\"$L1c\"}]\n"])</script><script>self.__next_f.push([1,"1d:I[5746,[\"1848\",\"static/chunks/02b2f66c-e808af2a0ee9dd00.js\",\"2619\",\"static/chunks/2619-04bc32f026a0d946.js\",\"2554\",\"static/chunks/2554-e225077d892b52bd.js\",\"6156\",\"static/chunks/app/posts/%5B...slug%5D/page-932bc826430ae8b6.js\"],\"CodeBlock\"]\n"])</script><script>self.__next_f.push([1,"1c:[[\"$\",\"h1\",null,{\"id\":\"nextjs-rsc-프리페치-동작-차이-분석-정적-빌드-vs-서버-인스턴스-배포\",\"children\":\"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Next.js 애플리케이션을 운영하다 보면 흥미로운 문제에 직면하게 됩니다. 동일한 코드베이스임에도 불구하고 정적 빌드로 배포한 사이트와 서버에서 실행하는 사이트의 성능이 극명하게 다르다는 것입니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"특히 고트래픽 환경에서 이 차이는 더욱 두드러집니다. 정적 사이트는 CDN의 도움으로 빠르게 로딩되지만, 서버 사이트는 예상보다 느리고 비용도 많이 발생합니다. 그 원인은 무엇일까요?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"답은 \",[\"$\",\"strong\",null,{\"children\":\"React Server Components(RSC)의 프리페치 메커니즘\"}],\"에 있습니다. Next.js는 정적 빌드와 서버 인스턴스 환경에서 완전히 다른 방식으로 RSC를 처리하며, 이는 성능 특성과 비용 구조에 근본적인 차이를 만들어냅니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"목차\",\"children\":\"목차\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#%EC%A0%95%EC%A0%81-%EB%B9%8C%EB%93%9C%EC%97%90%EC%84%9C%EC%9D%98-rsc-%ED%8E%98%EC%9D%B4%EB%A1%9C%EB%93%9C-%EC%B2%98%EB%A6%AC\",\"children\":\"정적 빌드에서의 RSC 페이로드 처리\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#%EC%84%9C%EB%B2%84-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%EC%97%90%EC%84%9C%EC%9D%98-%EB%8F%99%EC%A0%81-rsc-%EC%B2%98%EB%A6%AC\",\"children\":\"서버 인스턴스에서의 동적 RSC 처리\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#nextjs-%EB%82%B4%EB%B6%80-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%9D%98-%EA%B7%BC%EB%B3%B8%EC%A0%81-%EC%B0%A8%EC%9D%B4\",\"children\":\"Next.js 내부 아키텍처의 근본적 차이\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#%EB%B9%8C%EB%93%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C%EA%B3%BC-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\",\"children\":\"빌드 시스템과 파일 생성 프로세스\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#%EC%84%B1%EB%8A%A5%EA%B3%BC-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%ED%8A%B9%EC%84%B1-%EB%B9%84%EA%B5%90\",\"children\":\"성능과 네트워크 특성 비교\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#%EC%8B%A4%EC%A0%9C-%EA%B5%AC%ED%98%84-%EC%98%88%EC%A0%9C%EC%99%80-%EC%B5%9C%EC%A0%81%ED%99%94-%EC%A0%84%EB%9E%B5\",\"children\":\"실제 구현 예제와 최적화 전략\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#%EA%B2%B0%EB%A1%A0%EA%B3%BC-%EA%B6%8C%EC%9E%A5%EC%82%AC%ED%95%AD\",\"children\":\"결론과 권장사항\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"정적-빌드에서의-rsc-페이로드-처리\",\"children\":\"정적 빌드에서의 RSC 페이로드 처리\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"txt-파일-생성-메커니즘과-설계-철학\",\"children\":\".txt 파일 생성 메커니즘과 설계 철학\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Next.js의 정적 빌드 환경에서 RSC 페이로드가 \",[\"$\",\"code\",null,{\"children\":\".txt\"}],\" 파일로 생성되는 것은 의도적인 설계 결정입니다. \",[\"$\",\"strong\",null,{\"children\":\"GitHub Discussion #59394\"}],\"에 따르면, 원래 \",[\"$\",\"code\",null,{\"children\":\".rsc\"}],\" 확장자를 사용했으나 Next.js 커밋 \",[\"$\",\"code\",null,{\"children\":\"af8963d\"}],\"에서 \",[\"$\",\"code\",null,{\"children\":\".txt\"}],\"로 변경되었습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이 변경의 핵심 이유는 \",[\"$\",\"strong\",null,{\"children\":\"호환성과 안정성\"}],\"입니다. 대부분의 웹 서버가 \",[\"$\",\"code\",null,{\"children\":\".txt\"}],\" 확장자를 \",[\"$\",\"code\",null,{\"children\":\"text/plain\"}],\" MIME 타입으로 기본 제공하여 정적 호스팅 환경에서 별도 설정 없이 안정적으로 서빙될 수 있기 때문입니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Next.js 소스코드 \",[\"$\",\"code\",null,{\"children\":\"/packages/next/src/export/routes/app-page.ts\"}],\"에서 확인할 수 있는 파일 생성 프로세스는 다음과 같습니다:\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L1d\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// RSC payload 생성 과정\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"flightData\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fileWriter\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    ExportedAppPageFiles\",\"$L1e\",\"$L1f\",\"$L20\",\"\\n\"]}],\"$L21\",\"$L22\",\"$L23\",\"$L24\"]}]}]}],\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\",\"\\n\",\"$L3e\",\"\\n\",\"$L3f\",\"\\n\",\"$L40\",\"\\n\",\"$L41\",\"\\n\",\"$L42\",\"\\n\",\"$L43\",\"\\n\",\"$L44\",\"\\n\",\"$L45\",\"\\n\",\"$L46\",\"\\n\",\"$L47\",\"\\n\",\"$L48\",\"\\n\",\"$L49\",\"\\n\",\"$L4a\",\"\\n\",\"$L4b\",\"\\n\",\"$L4c\",\"\\n\",\"$L4d\",\"\\n\",\"$L4e\",\"\\n\",\"$L4f\",\"\\n\",\"$L50\",\"\\n\",\"$L51\",\"\\n\",\"$L52\",\"\\n\",\"$L53\",\"\\n\",\"$L54\",\"\\n\",\"$L55\",\"\\n\",\"$L56\",\"\\n\",\"$L57\",\"\\n\",\"$L58\",\"\\n\",\"$L59\",\"\\n\",\"$L5a\",\"\\n\",\"$L5b\",\"\\n\",\"$L5c\"]\n"])</script><script>self.__next_f.push([1,"1e:[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}]\n1f:[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FLIGHT\"}]\n20:[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}]\n"])</script><script>self.__next_f.push([1,"21:[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    htmlFilepath\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"replace\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token regex\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token regex-delimiter\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token regex-source language-regex\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token special-escape escape\",\"children\":\"\\\\.\"}],\"html\",[\"$\",\"span\",null,{\"className\":\"token anchor function\",\"children\":\"$$\"}]]}],[\"$\",\"span\",null,{\"className\":\"token regex-delimiter\",\"children\":\"/\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'.txt'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"22:[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":\"    flightData\\n\"}]\n23:[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]\n24:[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]\n25:[\"$\",\"p\",null,{\"children\":[\"이 메커니즘은 \",[\"$\",\"strong\",null,{\"children\":\"빌드 시점에 모든 RSC 페이로드를 사전 생성\"}],\"하여 런타임 계산 부담을 제거합니다. \",[\"$\",\"code\",null,{\"children\":\"https://leeduhan.github.io/posts/react/2025-08-19-html2canvas_cors_guide.txt?_rsc=1ld0r\"}],\" 형태의 URL은 경로 기반 파일 시스템 매핑을 통해 정적 파일로 직접 연결됩니다.\"]}]\n26:[\"$\",\"h3\",null,{\"id\":\"빌드-프로세스와-파일-시스템-구조\",\"children\":\"빌드 프로세스와 파일 시스템 구조\"}]\n27:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"next build\"}],\" 실행 시 RSC 파일 생성은 HTML 파일과 병렬로 처리됩니다. \",[\"$\",\"strong\",null,{\"children\":\"GitHub Issue #73427\"}],\"에서 확인된 파일 명명 규칙에 따르면, 경로가 \",[\"$\",\"code\",null,{\"children\":\"/\"}],\"로 끝나는 경우 \",[\"$\",\"code\",null,{\"children\":\".txt\"}],\"를 추가하고, 그 외의 경우 \",[\"$\",\"code\",null,{\"children\":\"index.txt\"}],\"를 추가합니다.\"]}]\n28:[\"$\",\"p\",null,{\"children\":[\"빌드 후 생성되는 \",[\"$\",\"code\",null,{\"children\":\"out\"}],\" 디렉토리 구조는 다음과 같습니다:\"]}]\n"])</script><script>self.__next_f.push([1,"29:[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L1d\",null,{\"className\":\"code-highlight\",\"data-language\":\"\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":\"out/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":\"├── index.html\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"├── index.txt          # 루트 경로의 RSC payload\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"├── about/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":\"│   ├── index.html\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":\"│   └── index.txt      # /about 경로의 RSC payload\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":\"└── posts/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":\"    ├── [id].html\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":\"    └── [id].txt       # 동적 라우트의 RSC payload\\n\"}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"2a:[\"$\",\"p\",null,{\"children\":[\"이러한 구조는 \",[\"$\",\"strong\",null,{\"children\":\"GitHub Pages나 Vercel Static Hosting\"}],\" 같은 정적 호스팅 서비스에서 추가 설정 없이 즉시 배포 가능하며, CDN을 통한 aggressive 캐싱이 가능합니다. \",[\"$\",\"strong\",null,{\"children\":\"Vercel 보안 문서 CVE-2025-49005\"}],\"에 따르면, RSC 페이로드는 \",[\"$\",\"code\",null,{\"children\":\"Vary: RSC, Next-Router-State-Tree, Next-Router-Prefetch\"}],\" 헤더를 통해 캐시 키 분리를 보장합니다.\"]}]\n2b:[\"$\",\"h2\",null,{\"id\":\"서버-인스턴스에서의-동적-rsc-처리\",\"children\":\"서버 인스턴스에서의 동적 RSC 처리\"}]\n2c:[\"$\",\"h3\",null,{\"id\":\"react-flight-프로토콜과-실시간-페이로드-생성\",\"children\":\"React Flight 프로토콜과 실시간 페이로드 생성\"}]\n2d:[\"$\",\"p\",null,{\"children\":[\"서버 환경에서 \",[\"$\",\"code\",null,{\"children\":\"https://example-store.com/product/4564?_rsc=1ni0o\"}],\" 형태의 동적 경로는 \",[\"$\",\"strong\",null,{\"children\":\"React Flight 프로토콜\"}],\"을 통해 처리됩니다. \",[\"$\",\"strong\",null,{\"children\":\"Tony Alicea의 RSC 심층 분석\"}],\"에 따르면, 서버 컴포넌트 실행 → Flight 직렬화 → 스트리밍 전송의 3단계로 진행됩니다.\"]}]\n2e:[\"$\",\"p\",null,{\"children\":\"**React Working Group RSC 구현 가이드 (Discussion #5)**에서 설명하는 Flight 프로토콜의 직렬화 과정은 다음과 같습니다:\"}]\n"])</script><script>self.__next_f.push([1,"2f:[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L1d\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 서버에서 JSX.stringify 시 Symbol 치환\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"JSON\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"stringify\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"jsx\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":[\"key\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" value\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"value \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"Symbol\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"for\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'react.element'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'$RE'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 특수 문자열로 치환\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" value\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 클라이언트에서 JSON.parse 시 Symbol 복원\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"JSON\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"parse\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":[\"key\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" value\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"value \",\"$L5d\",\" \",\"$L5e\",\"$L5f\",\" \",\"$L60\",\"\\n\"]}],\"$L61\",\"$L62\",\"$L63\",\"$L64\"]}]}]}]\n"])</script><script>self.__next_f.push([1,"30:[\"$\",\"h3\",null,{\"id\":\"동적-라우팅과-rsc-파라미터-처리\",\"children\":\"동적 라우팅과 RSC 파라미터 처리\"}]\n31:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"GitHub Issue #65335\"}],\"에서 확인된 바에 따르면, App Router는 \",[\"$\",\"code\",null,{\"children\":\"RSC: 1\"}],\" 헤더와 \",[\"$\",\"code\",null,{\"children\":\"_rsc\"}],\" 파라미터 존재 여부를 검사하여 RSC 요청을 구분합니다. \",[\"$\",\"code\",null,{\"children\":\"Next-Router-State-Tree\"}],\" 헤더를 통해 라우터 상태를 추적하며, 각 요청마다 \",[\"$\",\"strong\",null,{\"children\":\"고유한 RSC 해시를 생성\"}],\"합니다.\"]}]\n32:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"⚠️ 치명적인 문제점\"}],\"은 \",[\"$\",\"strong\",null,{\"children\":\"GitHub Discussion #59167\"}],\"에서 보고된 CDN 캐싱 실패입니다. 동일한 제품 페이지임에도 접근 경로에 따라 다른 RSC 해시가 생성되어:\"]}]\n33:[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L1d\",null,{\"className\":\"code-highlight\",\"data-language\":\"\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":\"product/299336/?_rsc=1vl30\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":\"product/299336/?_rsc=qe3go  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"product/299336/?_rsc=1vg99\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"product/299336/?_rsc=1stsw\\n\"}]]}]}]}]\n34:[\"$\",\"p\",null,{\"children\":[\"각각 별도의 서버 요청이 발생하며, \",[\"$\",\"strong\",null,{\"children\":\"CDN을 완전히 우회\"}],\"하여 직접 서버로 전달됩니다. 이는 고트래픽 환경에서 심각한 성능 저하와 비용 증가를 초래합니다.\"]}]\n35:[\"$\",\"h2\",null,{\"id\":\"nextjs-내부-아키텍처의-근본적-차이\",\"children\":\"Next.js 내부 아키텍처의 근본적 차이\"}]\n36:[\"$\",\"h3\",null,{\"id\":\"rout"])</script><script>self.__next_f.push([1,"er-구현과-네비게이션-처리\",\"children\":\"Router 구현과 네비게이션 처리\"}]\n37:[\"$\",\"p\",null,{\"children\":[\"정적 빌드와 서버 환경의 Router 동작 방식은 근본적으로 다릅니다. \",[\"$\",\"strong\",null,{\"children\":\"Next.js 공식 문서\"}],\"에 따르면:\"]}]\n38:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Static Export 환경\"}],\"에서는 모든 라우팅이 클라이언트 사이드에서 처리되며, SPA와 유사한 동작을 보입니다. Next.js 클라이언트 코드 \",[\"$\",\"code\",null,{\"children\":\"/packages/next/src/client/components/router-reducer/fetch-server-response.ts\"}],\"에서:\"]}]\n"])</script><script>self.__next_f.push([1,"39:[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L1d\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NODE_ENV\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'production'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"__NEXT_CONFIG_OUTPUT \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'export'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"fetchUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"pathname \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" basePath\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"      fetchUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"pathname \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/index.txt'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"else\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"      fetchUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"pathname \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'.txt'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"3a:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Server 환경\"}],\"에서는 Server-centric routing을 사용하여 클라이언트가 route map을 다운로드할 필요가 없습니다. \",[\"$\",\"strong\",null,{\"children\":\"Stack Overflow의 Next 13 Server-centric routing 분석\"}],\"에 따르면, 서버에서 라우트 정보를 관리하고 클라이언트는 Link 컴포넌트로 SPA 스타일 네비게이션을 수행합니다.\"]}]\n3b:[\"$\",\"h3\",null,{\"id\":\"프리페치-전략의-구조적-차이\",\"children\":\"프리페치 전략의 구조적 차이\"}]\n3c:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Web.dev의 Route Prefetching in Next.js 분석\"}],\"에 따르면, 프리페치 전략에서도 명확한 차이가 있습니다:\"]}]\n"])</script><script>self.__next_f.push([1,"3d:[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"구분\"}],[\"$\",\"th\",null,{\"children\":\"Static Export\"}],[\"$\",\"th\",null,{\"children\":\"Server Instance\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"메커니즘\"}]}],[\"$\",\"td\",null,{\"children\":\"파일 기반 (표준 브라우저 prefetch)\"}],[\"$\",\"td\",null,{\"children\":[\"API 기반 (\",[\"$\",\"code\",null,{\"children\":\"?_rsc=\"}],\" 쿼리)\"]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"대상\"}]}],[\"$\",\"td\",null,{\"children\":\"정적 HTML/JS/CSS 파일\"}],[\"$\",\"td\",null,{\"children\":\"동적 RSC payload\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"캐싱\"}]}],[\"$\",\"td\",null,{\"children\":\"브라우저/CDN 표준 캐시\"}],[\"$\",\"td\",null,{\"children\":\"Router Cache (인메모리)\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"무효화\"}]}],[\"$\",\"td\",null,{\"children\":\"배포 시점에만\"}],[\"$\",\"td\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"router.refresh()\"}],\", \",[\"$\",\"code\",null,{\"children\":\"revalidatePath()\"}]]}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"3e:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Next.js 공식 문서\"}],\"에 따르면, Link 컴포넌트의 prefetch 속성은 정적 라우트에서 전체 라우트를 프리페치하지만, 동적 라우트에서는 가장 가까운 loading.js boundary까지만 부분 프리페치합니다.\"]}]\n3f:[\"$\",\"h2\",null,{\"id\":\"빌드-시스템과-파일-생성-프로세스\",\"children\":\"빌드 시스템과 파일 생성 프로세스\"}]\n40:[\"$\",\"h3\",null,{\"id\":\"static-export의-빌드-최적화\",\"children\":\"Static Export의 빌드 최적화\"}]\n41:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"next build \u0026\u0026 next export\"}],\" 과정에서 RSC 페이로드 생성은 \",[\"$\",\"strong\",null,{\"children\":\"app-page.ts\"}],\"에서 다음과 같이 처리됩니다:\"]}]\n"])</script><script>self.__next_f.push([1,"42:[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L1d\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fileWriter\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  ExportedAppPageFiles\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"HTML\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  htmlFilepath\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  html \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"??\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"''\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'utf8'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fileWriter\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  ExportedAppPageFiles\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FLIGHT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"  htmlFilepath\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"replace\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token regex\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token regex-delimiter\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token regex-source language-regex\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token special-escape escape\",\"children\":\"\\\\.\"}],\"html\",[\"$\",\"span\",null,{\"className\":\"token anchor function\",\"children\":\"$$\"}]]}],[\"$\",\"span\",null,{\"className\":\"token regex-delimiter\",\"children\":\"/\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'.txt'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":\"  flightData\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"43:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"GitHub Issue #74445\"}],\"에서 확인된 \",[\"$\",\"code\",null,{\"children\":\"skipTrailingSlashRedirect\"}],\" 설정 시 문제와 \",[\"$\",\"strong\",null,{\"children\":\"GitHub Issue #73427\"}],\"의 \",[\"$\",\"code\",null,{\"children\":\"basePath\"}],\" 설정 충돌 문제는 정적 export의 경로 매핑 복잡성을 보여줍니다.\"]}]\n44:[\"$\",\"h3\",null,{\"id\":\"server-환경의-동적-생성-프로세스\",\"children\":\"Server 환경의 동적 생성 프로세스\"}]\n45:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Smashing Magazine의 RSC Forensics 분석\"}],\"에 따르면, 서버 환경에서는 Out-of-Order 스트리밍을 통해 컴포넌트 완료 순서와 관계없이 올바른 위치에 삽입됩니다. Suspense 경계를 활용하여 데이터 로딩 중인 컴포넌트는 fallback으로 대체되고, Promise 해결 시 해당 부분만 업데이트됩니다.\"]}]\n46:[\"$\",\"h2\",null,{\"id\":\"성능과-네트워크-특성-비교\",\"children\":\"성능과 네트워크 특성 비교\"}]\n47:[\"$\",\"h3\",null,{\"id\":\"cdn-캐싱-효율성과-서버-부하\",\"children\":\"CDN 캐싱 효율성과 서버 부하\"}]\n48:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"YLD.io의 Ledger 프로젝트 사례\"}],\"에서 정적 빌드의 캐시 응답 시간이 서버 응답보다 현저히 짧았습니다. 반면 \",[\"$\",\"strong\",null,{\"children\":\"GitHub Discussion #59167\"}],\"의 고트래픽 프로젝트에서는 동적 RSC의 치명적 문제가 보고되었습니다:\"]}]\n49:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"💰 100만 요청과 100,000개 이상 제품\"}],\" 처리를 위해 매우 비싼 서버 구성 다수 필요\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"🚫 RSC 요청이 CDN을 완전히 우회\"}],\"하여 직접 서버로 전달\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"📈 Vercel이 AWS나 AWS 래퍼(flightcontrol) 대비\"}],\" 느리고 비용 효율성"])</script><script>self.__next_f.push([1," 낮음\"]}],\"\\n\"]}]\n4a:[\"$\",\"h3\",null,{\"id\":\"javascript-번들-크기와-네트워크-효율성\",\"children\":\"JavaScript 번들 크기와 네트워크 효율성\"}]\n4b:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"GeekyAnts 사례\"}],\"에서 RSC 도입으로 JavaScript/TypeScript 코드를 \",[\"$\",\"strong\",null,{\"children\":\"82,926줄에서 43,294줄로 52% 감소\"}],\" 달성했습니다. Lighthouse 점수는 50점에서 90점 이상으로, LCP 2500ms 미만 사용자 비율은 66.89%에서 81.65%로 개선되었습니다.\"]}]\n4c:[\"$\",\"h3\",null,{\"id\":\"트레이드오프와-적용-시나리오\",\"children\":\"트레이드오프와 적용 시나리오\"}]\n"])</script><script>self.__next_f.push([1,"4d:[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"측면\"}],[\"$\",\"th\",null,{\"children\":\"Static Export\"}],[\"$\",\"th\",null,{\"children\":\"Server Instance\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"💰 비용\"}]}],[\"$\",\"td\",null,{\"children\":\"CDN 호스팅만으로 충분 (저비용)\"}],[\"$\",\"td\",null,{\"children\":\"서버 인프라 필요 (고비용)\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"⚡ 성능\"}]}],[\"$\",\"td\",null,{\"children\":\"즉각적 CDN 응답\"}],[\"$\",\"td\",null,{\"children\":\"TTFB 지연, 서버 부하\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"📈 확장성\"}]}],[\"$\",\"td\",null,{\"children\":\"무제한 (CDN 기반)\"}],[\"$\",\"td\",null,{\"children\":\"서버 리소스에 제한\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"🔄 유연성\"}]}],[\"$\",\"td\",null,{\"children\":\"빌드 타임 데이터만\"}],[\"$\",\"td\",null,{\"children\":\"실시간 개인화 가능\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"🎯 적합 사례\"}]}],[\"$\",\"td\",null,{\"children\":\"마케팅 사이트, 블로그, 문서\"}],[\"$\",\"td\",null,{\"children\":\"대시보드, 장바구니, 실시간 앱\"}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"4e:[\"$\",\"h2\",null,{\"id\":\"실제-구현-예제와-최적화-전략\",\"children\":\"실제 구현 예제와 최적화 전략\"}]\n4f:[\"$\",\"h3\",null,{\"id\":\"정적-빌드-최적화-설정\",\"children\":\"정적 빌드 최적화 설정\"}]\n"])</script><script>self.__next_f.push([1,"50:[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L1d\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// next.config.js\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"module\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"exports\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"output\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'export'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"images\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"loader\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'custom'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"loaderFile\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./my-loader.ts'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"experimental\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"staleTimes\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"dynamic\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"static\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"300\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"51:[\"$\",\"h3\",null,{\"id\":\"하이브리드-컴포넌트-구조\",\"children\":\"하이브리드 컴포넌트 구조\"}]\n52:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"YLD.io 사례\"}],\"의 하이브리드 전략을 적용한 구현:\"]}]\n"])</script><script>self.__next_f.push([1,"53:[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L1d\",null,{\"className\":\"language-typescript code-highlight\",\"data-language\":\"typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Server Component (정적 부분)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"ProductPage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" params \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" product \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getStaticProduct\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"params\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"ProductInfo product\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"product\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"/* 민감한 데이터는 클라이언트에서 처리 */\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"UserSpecificContent \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Client Component (동적 부분)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'use client'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",\"$L65\",\"$L66\",\"$L67\",\" \",\"$L68\",\"\\n\"]}],\"$L69\",\"$L6a\",\"$L6b\"]}]}]}]\n"])</script><script>self.__next_f.push([1,"54:[\"$\",\"h3\",null,{\"id\":\"캐시-헤더-최적화\",\"children\":\"캐시 헤더 최적화\"}]\n55:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Vercel 환경에서의 캐시 제어 우선순위\"}],\":\"]}]\n"])</script><script>self.__next_f.push([1,"56:[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L1d\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" headers \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Cache-Control'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'public, max-age=31536000, immutable'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'CDN-Cache-Control'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'public, max-age=86400'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'Vercel-CDN-Cache-Control'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'public, max-age=3600'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"57:[\"$\",\"h2\",null,{\"id\":\"결론과-권장사항\",\"children\":\"결론과 권장사항\"}]\n58:[\"$\",\"p\",null,{\"children\":[\"Next.js의 RSC 구현은 정적 빌드와 서버 인스턴스 환경에서 근본적으로 다른 아키텍처를 보여줍니다. \",[\"$\",\"strong\",null,{\"children\":\"정적 빌드의 .txt 파일 기반 접근\"}],\"은 CDN 친화적이고 확장성이 뛰어나지만 실시간 데이터 처리에 제한이 있습니다. \",[\"$\",\"strong\",null,{\"children\":\"서버 환경의 동적 RSC 처리\"}],\"는 유연성과 개인화를 제공하지만, \",[\"$\",\"strong\",null,{\"children\":\"GitHub Issue #65335\"}],\"에서 확인된 CDN 캐싱 문제로 인해 고트래픽 환경에서 심각한 성능 저하와 비용 증가를 초래할 수 있습니다.\"]}]\n59:[\"$\",\"h3\",null,{\"id\":\"-고트래픽-환경을-위한-핵심-권장사항\",\"children\":\"🎯 고트래픽 환경을 위한 핵심 권장사항\"}]\n5a:[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"예산 제약이 있다면\"}],\" Pages Router 사용 고려\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"정적 콘텐츠 중심이라면\"}],\" Static Export 우선 적용\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"하이브리드가 필요하다면\"}],\" 민감하지 않은 데이터만 서버 사이드 캐싱\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"대규모 제품 카탈로그의 경우\"}],\" RSC 해시 문제로 인한 CDN 비효율성 신중히 검토\"]}],\"\\n\"]}]\n5b:[\"$\",\"p\",null,{\"children\":[\"RSC의 CDN 캐싱 문제는 \",[\"$\",\"strong\",null,{\"children\":\"Next.js 팀이 추적 중인 확인된 이슈\"}],\"이며, 현재로서는 각 프로젝트의 특성에 맞는 신중한 아키텍처 선택이 필요합니다.\"]}]\n5c:[\"$\",\"p\",null,{\"children\":\"결국 기술의 선택은 트레이드오프의 연속입니다. 정적 빌드의 단순함과 효율성을 취할 것인가, 아니면 서버 사이드의 유연성과 실시간성을 선택할 것인가? "])</script><script>self.__next_f.push([1,"이 글이 여러분의 프로젝트에 맞는 최적의 선택을 하는 데 도움이 되기를 바랍니다.\"}]\n"])</script><script>self.__next_f.push([1,"5d:[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}]\n5e:[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'$RE'\"}]\n5f:[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}]\n60:[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}]\n"])</script><script>self.__next_f.push([1,"61:[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"Symbol\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"for\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'react.element'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"62:[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]\n63:[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" value\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]\n64:[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]\n65:[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"UserSpecificContent\"}]\n66:[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}]\n67:[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}]\n68:[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}]\n69:[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 사용자별 데이터는 클라이언트에서 처리\"}],\"\\n\"]}]\n6a:[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"PersonalizedRecommendations \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]\n6b:[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"16:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n12:null\n"])</script><script>self.__next_f.push([1,"6c:I[80622,[],\"IconMark\"]\n"])</script><script>self.__next_f.push([1,"14:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포 | Blog\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"지크\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"Next.js, RSC, React Server Components, 정적 빌드, 서버 배포, 프리페치, 성능 최적화\"}],[\"$\",\"meta\",\"4\",{\"name\":\"creator\",\"content\":\"지크\"}],[\"$\",\"meta\",\"5\",{\"name\":\"publisher\",\"content\":\"Blog\"}],[\"$\",\"meta\",\"6\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"7\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"meta\",\"8\",{\"name\":\"google-site-verification\",\"content\":\"wjBK5vsP3u8w2Mb0BHXkojvPGQ56soPTBYg2fU5dg5k\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포 | Blog\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://leeduhan.github.io/posts/react/2025-08-21-nextjs-rsc-prefetch-static-vs-server\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"Blog\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image\",\"content\":\"https://leeduhan.github.io/og-image.jpg\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:image:alt\",\"content\":\"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"18\",{\"property\":\"article:published_time\",\"content\":\"2025-08-21\"}],[\"$\",\"meta\",\"19\",{\"property\":\"article:author\",\"content\":\"지크\"}],[\"$\",\"meta\",\"20\",{\"property\":\"article:tag\",\"content\":\"Next.js\"}],[\"$\",\"meta\",\"21\",{\"property\":\"article:tag\",\"content\":\"RSC\"}],[\"$\",\"meta\",\"22\",{\"property\":\"article:tag\",\"content\":\"React Server Components\"}],[\"$\",\"meta\",\"23\",{\"property\":\"article:tag\",\"content\":\"정적 빌드\"}],[\"$\",\"meta\",\"24\",{\"property\":\"article:tag\",\"content\":\"서버 배포\"}],[\"$\",\"meta\",\"25\",{\"property\":\"article:tag\",\"content\":\"프리페치\"}],[\"$\",\"meta\",\"26\",{\"property\":\"article:tag\",\"content\":\"성능 최적화\"}],[\"$\",\"meta\",\"27\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"28\",{\"name\":\"twitter:creator\",\"content\":\"@지크\"}],[\"$\",\"meta\",\"29\",{\"name\":\"twitter:title\",\"content\":\"Next.js RSC 프리페치 동작 차이 분석: 정적 빌드 vs 서버 인스턴스 배포 | Blog\"}],[\"$\",\"meta\",\"30\",{\"name\":\"twitter:description\",\"content\":\"Next.js RSC는 정적 빌드에서 .txt 파일로 페이로드를 생성하고, 서버 환경에서는 동적으로 처리하는데, 이러한 근본적 차이가 성능과 캐싱 전략에 미치는 영향을 심층 분석합니다.\"}],[\"$\",\"meta\",\"31\",{\"name\":\"twitter:image\",\"content\":\"https://leeduhan.github.io/og-image.jpg\"}],[\"$\",\"link\",\"32\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"$L6c\",\"33\",{}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"19:\"$14:metadata\"\n"])</script></body></html>